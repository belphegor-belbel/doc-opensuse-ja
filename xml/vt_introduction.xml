<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter [
<!ENTITY % entities SYSTEM "entity-decl.ent">
%entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="chap-virtualization-introduction">
<!-- I/O virtualization -->
 <title>仮想化技術</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker>
   </dm:bugtracker>
  </dm:docmanager>
  <abstract>
   <para>仮想化とは、他のオペレーティングシステム (ゲスト仮想マシン) をホストのオペレーティングシステム (ホスト) の内側で動作させることのできる技術を意味します。</para>
  </abstract>
 </info>
 <sect1 xml:id="sec-virtualization-introduction-overview">
  <title>概要</title>

<!-- import from White papers -->

  <para>&productname; には &xen; および &kvm; と呼ばれる、最新のオープンソース仮想化技術が含まれています。これらはハイパーバイザとも呼ばれ、 &productname; では、単一の物理システム内に複数の仮想マシン (&vmguest;) を配置／インストール／監視／管理することができます (詳しくは <xref linkend="gloss-vt-hypervisor"/> をお読みください) 。</para>
  <para>&productname; では標準で、仮想マシン用に修正したり高度にチューニングしたりした準仮想化オペレーティングシステムだけでなく、全く変更を行なっていない完全仮想化オペレーティングシステムも動作させることができます。完全仮想化でゲストの OS を動作させる場合、オペレーティングシステム側の変更は一切行なう必要はありませんが、お使いの &x86-64; プロセッサが Intel* Virtualization Technology (Intel VT) か AMD* Virtualization (AMD-V) のいずれかに対応している必要があります。</para>

  <para>仮想化を有効化するオペレーティングシステムで、最も重要なコンポーネントはハイパーバイザ (もしくは仮想マシンマネージャ) です。これはサーバのハードウエア内で直接動作するソフトウエアで、プラットフォームのリソースを制御したり、 &vmguest; や &vmguest; 内で動作するオペレーティングシステムの間で、仮想化されたハードウエアインターフェイスを提示して、リソースを共有したりするための仕組みです。</para>

  <para>
   <phrase os="sles;sled">&sle; is an enterprise-class</phrase><phrase os="osuse">&opensuse; is a</phrase> Linux server operating system
   that offers two types of hypervisors: &xen; and &kvm;.
   </para>
   <para>
   Both hypervisors support virtualization on the &x86-64; architecture. For the
   &power; architecture, &kvm; is supported. Both &xen; and &kvm; support full
   virtualization mode. In addition, &xen; supports paravirtualized
   mode, and you can run both paravirtualized and fully-virtualized guests
   on the same host.
   </para>
   <para><phrase os="sles;sled">&sle; はエンタープライズクラスの</phrase> <phrase os="osuse">&opensuse; は</phrase> Linux サーバオペレーティングシステムであり、 2 種類のハイパーバイザ (&xen; および &kvm;) に対応しています。いずれのハイパーバイザとも、 &x86-64; アーキテクチャ内での仮想化に対応しています。 &power; アーキテクチャの場合は &kvm; のみに対応しています。また、 &xen; と &kvm; の両方が、完全仮想化に対応しています。これに加えて、 &xen; では準仮想化にも対応しています。さらに、 &xen; や &kvm; を動作させた &productname; は、仮想化ホストサーバ ( <xref linkend="gloss-vt-vhs"/>, VHS) としても動作させることができます。これは &vmguest; 側で、独自のゲストオペレーティングシステムを動作させることができるものです。また、 &suse; の &vmguest; アーキテクチャには、多数のアプリケーションをホスティングする &vmguest; を動作させることのできる、 VHS を構成するハイパーバイザと管理コンポーネントが含まれています。</para>

  <para>&xen; では管理コンポーネントを特権下の &vmguest; 内で動作させる仕組みであり、これはしばしば <xref linkend="gloss-vt-dom0"/> と呼ばれます。 &kvm; では Linux カーネルがハイパーバイザとして動作し、管理コンポーネントは VHS 内で直接動作します。</para>
 </sect1>
 <sect1 xml:id="sec-virtualization-introduction-capabilities">
  <title>仮想化機能</title>

  <para>仮想化の技術は、ご利用の環境にさまざまなメリットを生み出します。オペレーティングシステムの仮想化では、下記のようなことを実現することができます:</para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>サーバの集約: 多数のサーバを 1 台の物理サーバに置き換えることができるようになりますので、ハードウエアを集約することができるようになります。また、既存のサーバを仮想マシンに変換することで、古いソフトウエアを新しいハードウエア内で動作させることができるようになります。</para>
   </listitem>
   <listitem>
    <para>分離: ゲスト側のオペレーティングシステムは、ホスト側とは完全に分離されています。そのため、仮想マシンが壊れてしまったような場合でも、ホスト側に影響が及ぶことはありません。</para>
   </listitem>
   <listitem>
    <para>移行: 動作中の仮想マシンを一方の物理マシンから他方の物理マシンに移行 (マイグレーション) することができます。このような動作中の移行は、クライアントやアプリケーションの接続を維持しながら、物理的に移動を行なうことができる機能です。</para>
   </listitem>
   <listitem>
    <para>災害復旧: 仮想化されたゲスト (<xref linkend="gloss-vt-virtualized"/>) はハードウエアへの依存性がほとんどありませんし、ホストサーバ側が提供するスナップショット機能を利用することで、障害が起こる前の既知の状態に戻すこともできます。</para>
   </listitem>
   <listitem>
    <para>動的な負荷分散: 移行機能を利用することで、ご利用のインフラストラクチャ内にあるサーバ間を移動し、特定の物理サーバに負荷が集中するような事態を回避することができるようになります。</para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="sec-virtualization-introduction-benefits">
  <title>仮想化の利点</title>

  <para>仮想化技術を使用することで、物理的なサーバでのサービス提供と同じ状態を維持したまま、さまざまな利点を得ることができるようになります。</para>

  <para>まずはインフラストラクチャのコスト削減があげられます。サーバは主にユーザに対してサービスを提供するために使用するものですが、仮想化されたオペレーティングシステムを使用することで、同じサービス提供を維持したまま下記を実現することができます:</para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>メンテナンスコストの削減: 1 つのホストで複数のオペレーティングシステムを動作させることができますので、ハードウエアのメンテナンスにかかるコストも減らすことができます。</para>
   </listitem>
   <listitem>
    <para>電力コスト／空調コストの削減: ハードウエアを 1 台にまとめることができることから、省電力に繋がるだけでなく、予備電力の用意や空調の用意などを、より少なくすることができるようになります。</para>
   </listitem>
   <listitem>
    <para>占拠空間の削減: サーバの台数を減らすことができれば、データセンター内の占拠空間も削減することができます。</para>
   </listitem>
   <listitem>
    <para>管理コストの削減: &vmguest; を使用することで、インフラストラクチャの管理にかかる手間も減らすことができます。</para>
   </listitem>
   <listitem>
    <para>運用性と生産性の改善: 仮想化には <emphasis>移行</emphasis> 移行だけでなく、 <emphasis>ライブマイグレーション</emphasis> や <emphasis>スナップショット</emphasis> 機能も含まれています。これらの機能を使用することで、サーバの停止時間を減らすだけでなく、サービスの停止を伴うことなく一方から他方にサービスを移動させることができるようになります。</para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="sec-virtualization-introduction-fvpv">
  <title>仮想化モード</title>

  <para>仮想マシン内でゲストオペレーティングシステムを動作させる際、完全仮想化 (FV) モードと準仮想化 (PV) モードのいずれかを選択することができます。それぞれの仮想化モードには、それぞれ利点と欠点が存在しています。</para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>完全仮想化モードでは、 Windows* Server <!-- NOTE: removed due to outdated; "2003" --> など、何も変更していないオペレーティングシステムをそのまま仮想マシンとして動作させることができます。バイナリ変換を行なうか、もしくは AMD* Virtualization や Intel* Virtualization Technology などのハードウエア支援型 (<xref linkend="gloss-vt-hwassisted"/>) 仮想化技術のいずれかを使用します。ハードウエア支援型の仕組みは、対応するプロセッサを使用することで、よりよい性能を提供できる仕組みです。</para>
    <para os="sles;sled">完全仮想化モードで動作するゲスト側のオペレーティングシステムでは、ゲスト側のオペレーティングシステムが提供するドライバの代わりに、 SUSE Virtual Machine Drivers Pack (VMDP) が提供するドライバを使用するように設定することもできます。このドライバを使用して仮想マシンを実行することで、 Windows* Server <!-- NOTE: removed due to outdated; "2003" --> などのゲストオペレーティングシステムを劇的に高速化することができます。詳しくは <xref linkend="app-vmdp-driver" xrefstyle="ChapTitleOnPage"/> をお読みください。</para>
   </listitem>
   <listitem>
    <para>準仮想化モードで動作させる場合、一般にゲスト側のオペレーティングシステムを仮想化環境に合わせて修正する必要があります。その代わり、完全仮想化でオペレーティングシステムを動作させる場合に比べて準仮想化は、より高速にオペレーティングシステムを動作させることができます。</para>
    <para>準仮想化に対応するよう修正されたオペレーティングシステムは、 <emphasis>準仮想化対応済みオペレーティングシステム</emphasis> と呼ばれ、 &productname; や NetWare® 6.5 SP8 などがそれに該当します。</para>
   </listitem>
  </itemizedlist>
 </sect1>
<!-- I/O virtualization -->
 <xi:include href="vt_io.xml"/>
</chapter>
