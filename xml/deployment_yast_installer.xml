<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter [
<!ENTITY % entities SYSTEM "entity-decl.ent">
%entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="cha.install">
 <title>インストール手順</title>
 <info>
  <abstract>
   <para>本章では、 &productname; でターゲットとなるデバイスにデータがコピーされるまでの流れを説明しています。この流れの中では、いくつかの基本的な設定パラメータについても、新しく作成されてインストール済みのシステムに反映されます。手順は GUI のグラフィカルな表示で行なわれます。 <phrase os="sles;sled">ここで説明している手順は、 <xref linkend="cha.remote_installation"/> で書かれているリモートからのインストールに対しても適用することができます。 </phrase> テキストモードでもインストールを行なうことができますが、こちらでも流れは同じです (見た目だけの違いです) 。 <phrase os="sles;osuse">対話処理を介さない自動インストールに関する情報は、 <xref linkend="book.autoyast"/> をお読みください。</phrase></para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para os="sles">インストーラを起動する前に、まずは <xref linkend="part.prep"/> をお読みください。お使いのシステムのアーキテクチャによって、インストールを開始する際に行なうべき手順が異なります。</para>

 <para>&productname; を初めてお使いになる場合は、 &yast; が提示する提案内容を、ほとんどの箇所でそのままお使いになることをお勧めします。ただし、ご利用の形態に応じて設定を調整してもかまいません。それぞれの手順におるヘルプは、 <guimenu>ヘルプ</guimenu> をお使いください。</para>

 <tip>
  <title>マウスを利用しないインストールについて</title>
  <para>インストールシステムがマウスを正しく検出できなかった場合は、 <keycap function="tab"/> で移動を、矢印 (カーソル) キーでスクロールを、 <keycap function="enter"/> で選択した項目の決定を、それぞれ行なってください。また、ボタンや選択肢の項目に、下線が引かれた文字が書かれている場合がありますが、この場合は <keycombo><keycap function="alt"/><keycap>文字</keycap></keycombo> を押すと、 <keycap function="tab"/> で移動することなく、ボタンや選択肢を直接選択することができます。</para>
 </tip>

 <sect1 xml:id="sec.yast_install.overview">
  <title>概要</title>
  <para>本章は、それぞれのインストール手順について概要を説明しています。各手順には、より細かい説明を得るためのリンクが用意されています。</para>
  <procedure>
   <step>
    <para>インストールを始める前に、インストールシステムは自分自身を更新することができます。詳しくは <xref linkend="sec.yast_install.self_update"/> をお読みください。</para>
   </step>
   <step>
    <para><phrase os="sles;sled">言語と製品を選択することで、実際のインストールが始まります。</phrase> <phrase os="osuse">言語を選択し、ライセンス同意を受け入れることで、実際のインストールが始まります。</phrase> 詳しくは <xref linkend="sec.yast_install.welcome"/> をお読みください。</para>
   </step>
   <step os="sles;sled">
    <para>ライセンス同意を受け入れます。詳しくは <xref linkend="sec.yast_install.license_agreement"/> をお読みください。</para>
   </step>
   <step arch="zseries" os="sles">
    <para>&zseries; のマシンの場合は、ディスクの有効化作業が必要となります。詳しくは <xref linkend="sec.yast_install.s390.part"/> をお読みください。</para>
   </step>
   <step>
    <para>ネットワークの設定を行ないます。これはインストール時にネットワーク接続を必要とする場合で、 DHCP での自動ネットワーク設定が失敗したにのみ設定すべきものです。詳しくは <xref linkend="sec.yast_install.network"/> をお読みください。</para>
   </step>
   <step os="sles;sled">
    <para>ネットワークの接続が成功すると、 &scc; または &rmt; サーバにマシンを登録することができるようになります。詳しくは <xref linkend="sec.yast_install.scc_registration"/> をお読みください。</para>
   </step>
   <step os="sles;sled">
    <para>このマシンに対して有効化するモジュールを選択します。ここでの選択は、後続の手順でのシステムの役割やパッケージなどに影響します。詳しくは <xref linkend="sec.yast_install.modules"/> をお読みください。</para>
   </step>
   <step os="sles;sled">
    <para>手作業でリポジトリを追加することもできます。詳しくは <xref linkend="sec.yast_install.addons"/> をお読みください。</para>
   </step>
   <step os="sles;sled">
    <para>お使いのシステムに対する役割を選択します。役割の選択によって、既定でインストールするパッケージの一覧を決定するほか、ハードディスクのパーティション設定の提案にも影響します。詳しくは <xref linkend="sec.yast_install.conf.manual.role"/> をお読みください。</para>
   </step>
   <step os="osuse">
    <para>お使いのシステムで使用するユーザインターフェイスのほか、デスクトップ用途とサーバ用途のどちらで使用するのかを選択します。これにより、既定でインストールするパッケージの一覧を決定することになります。詳しくは <xref linkend="sec.i.yast2.ui"/> をお読みください。</para>
   </step>
   <step>
    <para>お使いのシステムでのパーティションを設定します。詳しくは <xref linkend="sec.yast_install.partitioning"/> をお読みください。</para>
   </step>
   <step>
    <para>タイムゾーンを選択します。詳しくは <xref linkend="sec.yast_install.timezone"/> をお読みください。</para>
   </step>
   <step>
    <para>ユーザを作成します。詳しくは <xref linkend="sec.yast_install.user"/> をお読みください。</para>
   </step>
   <step>
    <para>必要であれば、システム管理者である &rootuser; に対して、異なるパスワードを設定することもできます。詳しくは <xref linkend="sec.yast_install.user.root"/> をお読みください。</para>
   </step>
   <step>
    <para>最後の手順として、インストールシステムは全ての設定に関する概要を表示します。必要であれば、ここから変更することもできます。詳しくは <xref linkend="sec.yast_install.proposal"/> をお読みください。</para>
   </step>
   <step>
    <para>インストールシステムは必要な全てのデータをコピーしながら、進捗を表示します。詳しくは <xref linkend="sec.yast_install.perform"/> をお読みください。</para>
   </step>
  </procedure>
 </sect1>

 <sect1 xml:id="sec.yast_install.self_update">
  <title>インストーラの自己更新</title>

  <para>インストールやアップグレードの処理中に、 &yast; はリリース後に発見されたインストールシステム内のバグを解決するため、自分自身で自分自身を更新することができます。この機能は <phrase os="osuse">既定では無効化されています。有効化するには、起動パラメータ <option>self_update</option> に <literal>1</literal> を指定してください。</phrase> <phrase os="sles;sled">既定で有効化されています。無効化するには、起動パラメータ <option>self_update</option> に <literal>0</literal> を指定してください。</phrase></para>

  <important>
   <title>自己更新の際のネットワーク設定について</title>
   <para>インストールシステムの更新をダウンロードするには、 &yast; はネットワークへのアクセスを必要とします。既定では全てのネットワークインターフェイスに対して、 DHCP を利用してアクセスしようとします。お使いのネットワーク内に DHCP サーバが存在していれば、そのまま自動的に動作します。</para>
   <para>固定の IP アドレスを設定する必要がある場合は、起動パラメータ <literal>ifcfg</literal> を設定してください。詳しくは <link xlink:href="https://ja.opensuse.org/SDB:Linuxrc"/> にある linuxrc の文書をお読みください。</para>
  </important>

  <tip>
   <title>言語の選択</title>
   <para>インストールシステムの自己更新は、言語選択の手順よりも前に実行されます。そのため、自己更新の処理時の進捗表示やエラー表示などは、既定では英語での表示となります。</para>
   <para os="sles">この時点で英語以外の言語を使用したい場合は、お使いのアーキテクチャで対応していれば、起動パラメータ <literal>language</literal> を設定してください。たとえば日本語であれば、 <literal>language=ja_JP</literal> を指定します。それ以外にも、起動画面で <keycap>F2</keycap> を押して、表示された言語の一覧の中から選択してもかまいません。</para>
   <para os="sled;osuse">この時点で英語以外の言語を使用したい場合は、起動画面で <keycap>F2</keycap> を押して、表示された言語の一覧の中から選択してください。それ以外にも、起動パラメータ <literal>language</literal> を設定してもかまいません。たとえば日本語であれば、 <literal>language=ja_JP</literal> のようになります。</para>
  </tip>

  <para>この機能はユーザに対して入力を求めない設計になっていますが、この動作の仕組みについては、知っておいたほうがよいでしょう。ご興味のない場合は、本章の残りを読まずに <xref linkend="sec.yast_install.welcome"/> まで読み飛ばしていただいてかまいません。</para>

  <sect2 xml:id="sec.yast_install.self_update.process">
   <title>自己更新処理</title>

   <para>この処理は主に 2 つの作業から構成されています:</para>

   <orderedlist spacing="normal">
    <listitem>
     <para>更新リポジトリの場所の判断</para>
    </listitem>
    <listitem>
     <para>インストールシステムに対する更新のダウンロードとインストール</para>
    </listitem>
   </orderedlist>

   <sect3 xml:id="sec.yast_install.self_update.determine_repo">
    <title>更新リポジトリの場所の判断</title>

    <para>インストーラの自己更新は、専用のリポジトリ内に通常の RPM パッケージとして配布されています。そのため、まずはリポジトリの URL を設定する必要があります。</para>
    <important>
     <title>自己更新リポジトリだけを指定してください</title>
     <para>下記に示すどのようなオプションを選択した場合であっても、インストーラの自己更新 URL だけを指定する必要があります。たとえば下記のようになります:</para>
<screen>self_update=https://www.example.com/my_installer_updates/</screen>
     <para>たとえばソフトウエアの更新リポジトリなど、他のリポジトリは指定してはなりません。</para>
    </important>
    <para>&yast; は情報源として下記のものを使用します:</para>

    <orderedlist spacing="normal">
     <listitem>
      <para>起動パラメータ <literal>self_update</literal> の内容 (詳しくは <xref linkend="sec.boot_parameters.advanced.self_update"/> をお読みください) 。 URL を指定した場合は、他の方式よりも優先して動作します。</para>
     </listitem>
     <listitem>
      <para>&ay; をお使いの場合は、プロファイル要素の <literal>/general/self_update_url</literal> の値。</para>
     </listitem>
     <listitem os="sles;sled">
      <para>登録サーバの設定。 &yast; は登録サーバに対して URL を尋ねます。使用すべきサーバは、下記の順序で判断が行なわれます:</para>
      <orderedlist spacing="normal">
       <listitem>
        <para>起動パラメータ <literal>regurl</literal> の設定値 (詳しくは <xref linkend="sec.boot_parameters.advanced.smt"/> をお読みください) 。</para>
       </listitem>
       <listitem>
        <para>&ay; をお使いの場合は、プロファイル要素の <literal>/suse_register/reg_server</literal> の値。</para>
       </listitem>
       <listitem>
        <para>SLP 検索の実施。 SLP サーバが見つかると、 &yast; はそれを使用すべきかどうかを尋ねます。なぜなら、この時点では何も認証を行なっていないため、正規の登録サーバかどうかがわからないためです。</para>
       </listitem>
       <listitem>
        <para>&scc; の問い合わせ。</para>
       </listitem>
      </orderedlist>
     </listitem>
     <listitem>
      <para>上記までの検索が失敗した場合は、フォールバック URL (インストールメディア内に設定されています) を使用します。</para>
     </listitem>
    </orderedlist>
   </sect3>

   <sect3 xml:id="sec.yast_install.self_update.apply_updates">
    <title>更新のダウンロードと適用</title>

    <para>更新リポジトリの判断が完了したら、 &yast; は更新が利用できるかどうかを確認します。更新が利用できる場合、更新をダウンロードしてインストールシステムに反映します。</para>

    <para>最後に、 &yast; は反映した新しいバージョンを読み込むよう再起動を行ない、ようこそ画面を表示します。何も更新が提供されていない場合は、インストールシステムは再起動することなく処理を続行します。</para>

    <note>
     <title>更新内容の検証について</title>
     <para>正当な更新であり、かつダウンロードが正しく行なわれていることを確認するため、更新に付属している署名が検証されます。署名が見つからない場合や、署名が正しくない場合、更新を適用すべきかどうかをユーザに確認します。</para>
    </note>
   </sect3>

   <sect3 xml:id="sec.yast_install.self_update.temporary_addon_repo">
    <title>自己更新アドオンリポジトリの一時使用について</title>

    <para>自己更新型のリポジトリ内で提供されるパッケージには、インストーラに対する追加のデータが含まれているものがあります。これらにはたとえば、インストール時の既定値やシステムの役割などが含まれます。インストーラ側で、自己更新型リポジトリ内にこのようなパッケージを見つけると、ローカル内に一時的なリポジトリを作成して、これらのパッケージをコピーする動作を行ないます。これらはインストールの最中に使用されますが、インストールが完了すると、作成した一時的なリポジトリは削除されます。そのため、これらのパッケージは、ターゲットのシステム内にはインストール <emphasis>されない</emphasis> ことになります。</para>

    <para>このような拡張リポジトリはアドオン製品として表示されることはありませんが、パッケージ管理システム内では <literal>SelfUpdate0</literal> リポジトリとして表示されます。</para>
   </sect3>
  </sect2>

  <sect2 xml:id="sec.yast_install.self_update.custom">
   <title>独自の自己更新リポジトリ</title>

   <para>&yast; では起動パラメータ <literal>self_update</literal> を指定することで、公式のものではない、独自のリポジトリを使用することができます。この場合、下記の点にご注意ください:</para>

   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>HTTP/HTTPS/FTP のいずれかのリポジトリにのみ対応しています。</para>
    </listitem>
    <listitem>
     <para>RPM-MD 形式のリポジトリにのみ対応しています (&rmt; で必要となるためです) 。</para>
    </listitem>
    <listitem>
     <para>パッケージは通常の手順でインストールされることはありません。展開処理のみが行なわれ、スクリプトは実行されません。</para>
    </listitem>
    <listitem>
     <para>依存関係のチェックも行なわれません。パッケージはアルファベット順にインストールされます。</para>
    </listitem>
    <listitem>
     <para>オリジナルのインストールメディア内にあるファイルは、パッケージが提供するファイルで上書きされます。言い換えると、更新パッケージには全てのファイルが含まれているとは限らず、変更すべきファイルのみを含んでいることになります。変更の必要がないファイルは、メモリとダウンロード帯域の削減のため、パッケージ内では省略されています。</para>
    </listitem>
   </itemizedlist>

   <note>
    <title>リポジトリは 1 つしか指定できません</title>
    <para>現時点では、インストーラの自己更新を行なうにあたって、複数のリポジトリを使用することはできません。</para>
   </note>
  </sect2>
 </sect1>

 <sect1 xml:id="sec.yast_install.welcome">
  <title><phrase os="sles;sled">言語／キーボード／製品選択</phrase> <phrase os="osuse">言語／キーボード／ライセンス同意</phrase></title>
  <figure>
   <title>言語／キーボード／製品選択</title>
   <mediaobject>
    <textobject role="description"><phrase>言語／キーボード／製品選択</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sled" fileref="install_product_sled.png" width="100%"/>
     <imagedata os="sles" fileref="install_product_sles.png" width="100%"/>
     <imagedata os="osuse" fileref="install_welcome_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sled" fileref="install_product_sled.png" width="100%"/>
     <imagedata os="sles" fileref="install_product_sles.png" width="100%"/>
     <imagedata os="osuse" fileref="install_welcome_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para><guimenu>言語</guimenu> と <guimenu>キーボードレイアウト</guimenu> の設定は、起動画面で選択した言語にあわせて設定されます。起動画面で何も設定を変更していない場合は、 English (US) (アメリカ英語) になります。ここでは、必要に応じて変更を行なうことができます。</para>
  <para>言語の設定を変更すると、キーボードレイアウトについても自動的に設定されます。異なるキーボードレイアウトを使用したい場合は、ドロップダウンボックスを利用してキーボードレイアウトを選択してください。また、 <guimenu>キーボードのテスト</guimenu> にあるテキストボックスを利用することで、キーボードが正しく設定されているかどうかを確認することができます。また、ここで選択した言語は、システム時計のタイムゾーンの既定値としても使われます。なお、この設定はインストール後のシステムでも変更することができます。詳しくは <xref linkend="cha.yast.lang"/> をお読みください。</para>
  <para os="sles;sled">&leanos; では、全ての &sle; 基本製品をインストールすることができます:</para>
  <itemizedlist os="sles;sled">
   <listitem>
    <para>&sls; &productnumber; ( <phrase os="sles">本文書で説明しています</phrase> <phrase os="sled">インストールの手順について、詳しくは <link xlink:href="https://www.suse.com/documentation/sles/"/> をお読みください</phrase> )</para>
   </listitem>
   <listitem>
    <para>&sled; &productnumber; ( <phrase os="sled">本文書で説明しています</phrase> <phrase os="sles">インストールの手順について、詳しくは <link xlink:href="https://www.suse.com/documentation/sled/"/> をお読みください</phrase> )</para>
   </listitem>
   <listitem>
    <para>&slehpc; &productnumber; <!-- (refer to FIXME for installation instructions) --></para>
   </listitem>
   <listitem>
    <para>&slert; &productnumber; (インストールの手順について、詳しくは <link xlink:href="https://www.suse.com/documentation/slerte/"/> をお読みください)</para>
   </listitem>
   <listitem>
    <para>&sles4sap; &productnumber; (インストールの手順について、詳しくは <link xlink:href="https://www.suse.com/documentation/sles-for-sap/"/> をお読みください)</para>
   </listitem>
   <listitem>
    <para><remark>cwickert 2019-03-04: FIXME Check version number and URL</remark> &susemgr; Server 4.0 (インストールの手順について、詳しくは <link xlink:href="https://www.suse.com/documentation/suse-manager/"/> をお読みください)</para>
   </listitem>
   <listitem>
    <para><remark>cwickert 2019-03-04: FIXME Check version number and URL</remark> &susemgr; Proxy 4.0 (インストールの手順について、詳しくは <link xlink:href="https://www.suse.com/documentation/suse-manager/"/> をお読みください)</para>
   </listitem>
   <listitem>
    <para><remark>cwickert 2019-03-04: FIXME Check version number and URL</remark> &susemgr; Retail Branch Server 4.0 (インストールの手順について、詳しくは <link xlink:href="https://www.suse.com/documentation/suse-manager-for-retail/"/> をお読みください)</para>
   </listitem>
  </itemizedlist>
  <para os="sles;sled">インストールする製品を選択します。それぞれの製品に対して、登録コードが必要となります。本文書では、 <phrase os="sles">&sls;</phrase> <phrase os="sled">&sled;</phrase> を選択したものとして記述します。選択したら <guimenu>次へ</guimenu> を押します。</para>
  <para os="osuse">ライセンス同意を読みます。起動画面で選択した言語で表示されます。その他の言語への翻訳は、 <guimenu>ライセンス言語</guimenu> のドロップダウンボックスを利用して表示させてください。 <guimenu>ライセンス条件に同意します</guimenu> にチェックを入れて合意を示すことで、 &productname; をインストールできるようになります。 <guimenu>次へ</guimenu> を押して進みます。</para>
 </sect1>

 <sect1 xml:id="sec.yast_install.license_agreement" os="sles;sled">
  <title>ライセンス同意</title>
  <figure os="sles;sled">
   <title>ライセンス同意</title>
   <mediaobject>
    <textobject role="description"><phrase>ライセンス同意</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sled" fileref="install_license_sled.png" width="100%"/>
     <imagedata os="sles" fileref="install_license_sles.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sled" fileref="install_license_sled.png" width="100%"/>
     <imagedata os="sles" fileref="install_license_sles.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>ライセンス同意を読みます。起動画面で選択した言語で表示されます。その他の言語への翻訳は、 <guimenu>ライセンス言語</guimenu> のドロップダウンボックスを利用して表示させてください。 <phrase os="sles;sled">ライセンス条件に合意する場合は、 <guimenu>ライセンス条件に同意します</guimenu> にチェックを入れてから <guimenu>次へ</guimenu> を押すことで、インストールできるようになります。ライセンス合意に同意できない場合は、 &productname; をインストールすることができません。 <guimenu>中止</guimenu> を押してインストールを中止してください。</phrase> <phrase os="osuse"><guimenu>次へ</guimenu> を押すと、ライセンス同意を受け入れて先に進みます。ライセンス同意を受け入れることができない場合は、 <guimenu>中止</guimenu> を押してインストールをキャンセルしてください。</phrase></para>
 </sect1>

 <sect1 xml:id="sec.yast_install.s390.part" arch="zseries" os="sles">
  <title>&zseries;: ディスクの有効化</title>
  <para>&zseries; プラットフォームにインストールする場合、言語選択のダイアログに続いて、接続されたハードディスクを設定するダイアログが表示されます。</para>
  <figure>
   <title>ディスクの有効化</title>
   <mediaobject>
    <textobject role="description"><phrase>ディスクの有効化</phrase></textobject>
    <imageobject role="fo">
     <imagedata fileref="install_zseries_disk_activation.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_zseries_disk_activation.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>&productname; をインストールするのに使用する DASD, Fibre Channel Attached SCSI Disks (zFCP), iSCSI のいずれかを選択します。 DASD と zFCP の設定ボタンは、関連するデバイスが接続されている場合にのみ表示されます。 iSCSI ディスクの設定方法について、詳しくは <xref linkend="sec.iscsi.initiator"/> をお読みください。</para>
  <para><guimenu>ネットワーク設定</guimenu> ダイアログを起動することで、この画面内の<guimenu>ネットワーク設定</guimenu> を変更することもできます。一覧からネットワークインターフェイスを選択して、 <guimenu>編集</guimenu> を押すと、設定を変更することができます。なお、 DNS やルーティングを設定する場合は、タブを選択してください。詳しくは <xref linkend="sec.network.yast"/> をお読みください。</para>

  <sect2 xml:id="sec.yast_install.s390.part.dasd">
   <title>DASD ディスクの設定</title>
   <para>&zseries; 以外のハードウエアにインストールしている場合は、この手順は飛ばしてください。</para>
   <figure xml:id="fig.s390_yast2.i_y2_sel_dasd">
    <title>DASD ディスク管理</title>
    <mediaobject>
     <textobject role="description"><phrase>DASD ディスク管理</phrase></textobject>
     <imageobject role="fo">
      <imagedata width="100%" fileref="s390_i_y2_sel_dasd.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata width="100%" fileref="s390_i_y2_sel_dasd.png"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para><guimenu>DASD ディスクの設定</guimenu> での選択を行なうと、概要に利用可能な全ての DASD が表示されるようになります。利用可能なデバイスに対して、よりわかりやすい表示をするには、一覧の上にあるテキストボックスで表示するチャンネル範囲を指定してください。範囲を指定したあとは、 <guimenu>フィルタ</guimenu> を選択します。</para>
   <para>一覧内で DASD を選択し、インストールに使用するものを選択します。 <guimenu>すべてを選択</guimenu> を押すと、現在表示されている DASD をすべて選択することができます。また、 <menuchoice> <guimenu>アクションの実行</guimenu> <guimenu>有効化</guimenu> </menuchoice> を選択すると、選択した DASD をインストールに利用できるようにします。 DASD をフォーマットするには、 <menuchoice><guimenu>アクションの実行</guimenu> <guimenu>フォーマット</guimenu> </menuchoice> を選択してください。なお、後続の手順である <xref linkend="sec.expert_partitioner"/> で説明しているとおり、 &yast; パーティション設定でもフォーマットを行なうことができます。</para>
  </sect2>
  <sect2 xml:id="sec.yast_install.s390.part.zfcp">
   <title>zFCP ディスクの設定</title>
   <para>&productname; のインストールで zFCP ディスクを使用するには、選択ダイアログで<guimenu>zFCP ディスクの設定</guimenu> を押します。これにより、システムで利用可能な zFCP ディスクの一覧を含むダイアログが表示されます。このダイアログ内では、 <guimenu>追加</guimenu> を押すことで、 zFCP パラメータを入力することができる、さらなるダイアログが表示されます。</para>
   <para>&productname; のインストールで zFCP ディスクを利用するには、まずドロップダウンボックスで <guimenu>チャネル番号</guimenu> を選択してください。<guimenu>WWPN の取得</guimenu> (World Wide Port Number) と <guimenu>LUN の取得</guimenu> (Logical Unit Number) を利用することで、利用可能な WWPN と FCP-LUN を得ることができます。自動的な LUN の検出は、 NPIV が有効化されている場合にのみ動作します。</para>
   <para>設定が終わったら <guimenu>次へ</guimenu> ボタンを押して zFCP ダイアログを終了し、 <guimenu>完了</guimenu> ボタンを押して一般的なハードディスクの設定ダイアログも終わらせてください。あとは残りの設定を行ないます。</para>
  </sect2>
 </sect1>

 <sect1 xml:id="sec.yast_install.network">
  <title>ネットワーク設定</title>
  <para>インストールシステムが起動すると、まずはインストールルーチンが始まります。この処理では、少なくとも 1 つのネットワークインターフェイスに対して、 DHCP による設定を試みます。この試みが失敗した場合、 <guimenu>ネットワーク設定</guimenu> のダイアログが表示されます。</para>
  <figure>
   <title>ネットワーク設定</title>
   <mediaobject>
    <textobject role="description"><phrase>ネットワーク設定</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled" fileref="install_network.png" width="100%"/>
     <imagedata os="osuse" fileref="install_network_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled" fileref="install_network.png" width="100%"/>
     <imagedata os="osuse" fileref="install_network_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>一覧からネットワークインターフェイスを選択し、 <guimenu>編集</guimenu> を押して設定を編集します。ここではタブを利用することで、 DNS やルーティングも設定することができます。詳しくは <xref linkend="sec.network.yast"/> をお読みください。<phrase os="sles" arch="zseries">&zseries; では、このダイアログは自動では表示されません。 <guimenu>ディスクの有効化</guimenu> の手順内で起動することができます。</phrase></para>
  <para os="sles;sled">インストール処理時に DHCP による設定が成功した場合は、 <guimenu>&scc; の登録</guimenu> の手順で <guimenu>ネットワーク設定</guimenu> を押すことでも、このダイアログにアクセスすることができます。これにより、自動的に設定された値を変更することができます。</para>
  <note>
   <title>起動パラメータを指定した場合のネットワーク設定について</title>
   <para>起動パラメータで 1 つ以上のネットワークインターフェイスを設定 (詳しくは <xref linkend="sec.boot_parameters.list.network"/> をお読みください) した場合、 DHCP による自動設定は無効化され、起動パラメータでの設定を取り込んで使用します。</para>
  </note>
  <tip>
   <title>ネットワークストレージやローカル RAID へのアクセス</title>
   <para>インストール時に SAN やローカルの RAID にアクセスするには、下記の手順で libstorage のコマンドラインクライアントをお使いください:</para>
   <orderedlist>
    <listitem>
     <para><keycombo><keycap function="control"/> <keycap function="alt"/> <keycap>F2</keycap></keycombo> を押してコンソールに切り替えます。</para>
    </listitem>
    <listitem>
     <para><command>extend libstoragemgmt</command> を実行して、 libstoragemgmt 拡張をインストールします。</para>
    </listitem>
    <listitem>
     <para>これで <command>lsmcli</command> コマンドを使用できるようになります。詳しくは <command>lsmcli --help</command> を実行してください。</para>
    </listitem>
    <listitem>
     <para>インストールシステムに戻るには、 <keycombo><keycap function="alt"/> <keycap>F7</keycap></keycombo> を押してください。</para>
    </listitem>
   </orderedlist>
   <para>Netapp Ontap, SMI-S 互換の SAN プロバイダ, LSI MegaRAID にそれぞれ対応しています。</para>
  </tip>
 </sect1>

 <sect1 xml:id="sec.yast_install.scc_registration" os="sles;sled">
  <title>登録</title>
  <para>技術サポートや製品の更新を受け取るためには、 &scc; もしくはローカルの登録サーバに対して、お使いの製品を登録する必要があります。この段階で &productname; を登録しておくと、即時に更新リポジトリにアクセスできるようになります。これにより、最新の更新や修正を適用したシステムをすぐに構築することができるようになります。</para>
  <para>登録を行なう場合、次の手順でインストールすることのできるモジュールや拡張向けのリポジトリと依存関係は、登録サーバから読み込むようになります。</para>
  <para>オフライン環境にいる場合や、ここでの登録を飛ばしたい場合は、 <guimenu>登録を行なわずに飛ばす</guimenu> を選択してください。詳しくは <xref linkend="sec.yast_install.scc_registration.none"/> をお読みください。</para>

  <sect2 xml:id="sec.yast_install.scc_registration.manually">
   <title>手作業での登録</title>
   <para>&scc; を利用して登録する場合は、 &productname; に対する <guimenu>登録コード</guimenu> を入力します。組織でローカルの登録サーバを提供しているような場合は、その登録サーバに対して登録することもできます。この場合は、 <guimenu>ローカル &rmt; サーバを使用してシステムを登録する</guimenu> を選択して、ドロップダウンボックスから URL を選択するか、アドレスを入力してください。登録処理を始めるには、 <guimenu>次へ</guimenu> を押します。</para>
   <figure>
    <title>&scc; への登録</title>
    <mediaobject>
     <textobject role="description"><phrase>&scc; への登録</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sles" fileref="install_registration_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_registration_sled.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles" fileref="install_registration_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_registration_sled.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>

   <note os="sled">
    <title>リポジトリの信頼</title>
    <para>お使いのハードウエアに依存しますが、登録時にハードウエアドライバを含むリポジトリを追加することもできます。この場合は、それらのリポジトリを <guimenu>信頼する</guimenu> よう求められることがあります。</para>
   </note>

   <tip>
    <title>インストール時点での製品の修正のインストールについて</title>
    <para>&productname; の登録が完了すると、オンラインリポジトリで提供されている最新の更新を、インストール時に適用するかどうかを尋ねられます。 <guimenu>はい</guimenu> を選択すると、インストールシステムは最新のパッケージをインストールするようになります。これにより、インストール後に更新をインストールする必要がなくなります。</para>
   </tip>

   <para>インストール時にシステムの登録が成功すると、インストールが完了した時点で、 &yast; は CD/DVD や USB メモリなど、ローカルのインストールメディアのリポジトリを無効化します。これにより、インストールソースが利用できない場合に発生しうる問題を回避することができるほか、オンラインのリポジトリが提供する最新の更新を常に適用できるようになります。</para>
  </sect2>
  <sect2 xml:id="sec.yast_install.scc_registration.usb">
   <title>USB メモリからの登録コードの読み込み</title>
   <para>登録処理をより効率的に行なうために、 USB メモリなどの USB ストレージデバイス内に登録コードを保存することができます。 &yast; は、これを検出すると関連するテキストボックスを自動的に埋めるようになります。これは特に、インストールのテストの際に便利になるほか、多数のシステムや拡張を登録しなければならないような場合に有用です。</para>
   <para>まずは <filename>regcodes.txt</filename> もしくは <filename>regcodes.xml</filename> というファイル名で、ファイルを作成します。なお、 USB メモリ内に両方のファイルが存在する場合は、 XML を優先的に使用します。</para>
   <para>作成したファイル内に、 <command>zypper search --type product</command> で表示される名前で製品を指定し、それぞれに対応する登録コードを記述します。たとえば下記のようになります:</para>
   <example xml:id="ex.i.yast2.conf.manual.cc.usb.txt">
    <title><filename>regcodes.txt</filename></title>
<screen>SLES    cc36aae1
SLED    309105d4

sle-we  5eedd26a
sle-live-patching 8c541494</screen>
   </example>
   <example xml:id="ex.i.yast2.conf.manual.cc.usb.xml">
    <title><filename>regcodes.xml</filename></title>
<screen language="xml"><![CDATA[
<?xml version="1.0"?>
<profile xmlns="http://www.suse.com/1.0/yast2ns"
 xmlns:config="http://www.suse.com/1.0/configns">
  <suse_register>
    <addons config:type="list">
      <addon>
<name>SLES</name>
<reg_code>cc36aae1</reg_code>
      </addon>
      <addon>
<name>SLED</name>
<reg_code>309105d4</reg_code>
      </addon>
      <addon>
<name>sle-we</name>
<reg_code>5eedd26a</reg_code>
      </addon>
      <addon>
<name>sle-live-patching</name>
<reg_code>8c541494</reg_code>
      </addon>
    </addons>
  </suse_register>
</profile>]]></screen>
   </example>
   <para><literal>&slsa;</literal> や <literal>&sleda;</literal> は拡張ではありませんが、単一のファイル内で複数の基本製品に対する登録コードを記述する目的で、それらをアドオンとして記述しています。 <phrase os="sles">詳しくは <xref linkend="CreateProfile.Register.Extension"/> をお読みください。</phrase></para>

   <note>
    <title>制限事項</title>
    <para>現時点では、フラッシュメモリはインストールやアップグレードの際にのみ検出される仕組みであり、システム稼働中には動作しません。</para>
   </note>
  </sect2>

  <sect2 xml:id="sec.yast_install.scc_registration.none">
   <title>登録無しでのインストール</title>

   <para>システムを登録せずにインストールするには、 <guimenu>登録を行なわずに飛ばす</guimenu> を選択してください。表示される警告メッセージは <guimenu>OK</guimenu> を押して閉じ、<guimenu>次へ</guimenu> を押すと進むことができます。インストールの作業自体は登録を行なった場合とほとんど同じで、モジュールと拡張の選択のみ異なります。</para>

   <figure>
    <title>登録無しでのインストール</title>
    <mediaobject>
     <textobject role="description"><phrase>登録無しでのインストール</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sles" fileref="install_registration_offline_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_registration_offline_sled.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles" fileref="install_registration_offline_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_registration_offline_sled.png" width="100%"/>

     </imageobject>
    </mediaobject>
   </figure>

   <note>
    <title>&productname; の登録</title>
    <para>更新を受信し、サポートを受ける権利を得るには、システムと拡張をそれぞれ登録する必要があります。インストール時に登録処理を行なっていない場合は、インストールしたシステムを起動したあとでも登録を行なうことができます。登録を行なうには、 <menuchoice><guimenu>&yast;</guimenu> <guimenu>Product Registration</guimenu></menuchoice> を選択してください。</para>
   </note>

   <para>登録サーバに接続せずにインストールを行なった場合は、インストール時のシステム登録も行なうことができません。そのため、モジュールや拡張用のリポジトリ設定を登録サーバから受信することもできなくなります。通常のインストール方法でインストールを行なうことができるよう、 &suse; では &allmodules; ISO イメージと呼ばれる、第二のインストールメディアが用意されています。</para>

   <para>登録を行なわずにインストールを実施する場合は、インストール時に &allmodules; ISO イメージにアクセスできるようにしてください。 ISO イメージはローカルのハードディスクや取り外しの可能な USB メモリなどにコピーして使用できるほか、イメージを DVD に書き込んだり、ローカルのネットワークを介してアクセスできるようにしたりしてもかまいません。お使いのハードウエアで対応可能な方式をお選びください。</para>

   <tip>
    <title>&allmodules; からの　USB メモリへのデータコピーについて</title>
    <para>利用可能な USB メモリ内に ISO イメージの内容をコピーするには、下記のコマンドを使用します。</para>
    <screen>&prompt.sudo;dd if=<replaceable>ISO イメージのパス</replaceable>
    of=<replaceable>フラッシュメモリのパーティション</replaceable> bs=4M &amp;&amp; sync</screen>
    <para><replaceable>ISO イメージのパス</replaceable> には、 ISO イメージの相対パスまたは絶対パスを指定します。<replaceable>フラッシュメモリのパーティション</replaceable> には、 USB メモリのパーティション (通常は 1 つしかありません) を示すパスを指定します。パーティションの一覧を表示するには、 USB メモリを接続して下記のようなコマンドを実行します:</para>
    <screen>&prompt.root;grep -Ff &lt;(hwinfo --disk --short) &lt;(hwinfo --usb --short)
disk:
  /dev/sdc             General USB Flash Disk
&prompt.root;fdisk -l /dev/sdc | grep -e "^/dev"
/dev/sdc1  *     2048 31490047 31488000  15G 83 Linux</screen>
    <para>上記のような出力の場合、下記のように入力することになります:</para>
    <screen>dd if=/tmp/SLE-15-Packages-x86_64-DVD1.iso \
 of=/dev/sdc1 bs=4M &amp;&amp; sync</screen>
    <para>なお、パーティションには十分な容量 (6 GB もしくはそれ以上) があることをご確認ください。また、 <command>dd</command> コマンドを実行する際には、対象となるパーティションをマウントしていてはなりません。なお、パーティション内のすべての情報が消去されます！</para>
   </tip>
  </sect2>
 </sect1>

 <sect1 xml:id="sec.yast_install.modules" os="sles;sled">
  <title>拡張とモジュールの選択</title>
  <para>このダイアログでは、 &productname; 向けに提供されているモジュールと拡張が一覧で表示されています。モジュールは要件に応じて製品を変えることのできる部品で、これらは無償で提供されています。拡張は製品に対して追加の機能を提供するもので、有償の購読契約と登録キーが必要となります。</para>
  <para>利用できるモジュールや拡張は、インストールの最初の段階で選択した製品によって異なります。モジュールの説明とそれらのライフサイクル情報について、詳しくは <link xlink:href="https://www.suse.com/releasenotes/x86_64/SUSE-SLES/15/#Intro.Module">リリースノート</link> をお読みください。</para>
  <para>モジュールを選択すると、インストールの範囲についても影響を及ぼします。これは、モジュールの選択によって、インストール時や動作中のシステムに対するソフトウエアのソース (リポジトリ) の設定が異なることによるものです。</para>
  <para>直前の手順でお使いのシステムを登録した方法によって、モジュールや拡張の選択方法が決まります:</para>
  <itemizedlist>
   <listitem>
    <para><xref xrefstyle="HeadingOnPage" linkend="sec.yast_install.modules.online"/></para>
   </listitem>
   <listitem>
    <para><xref xrefstyle="HeadingOnPage" linkend="sec.yast_install.modules.offline"/></para>
   </listitem>
  </itemizedlist>

  <sect2 xml:id="sec.yast_install.modules.online">
   <title>登録を行なう場合の拡張とモジュールの選択</title>

   <figure>
    <title>拡張とモジュールの選択</title>
    <mediaobject>
     <textobject role="description"><phrase>拡張とモジュールの選択</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sled" fileref="install_extensions_sled.png" width="100%"/>
      <imagedata os="sles" fileref="install_extensions_sles.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sled" fileref="install_extensions_sled.png" width="100%"/>
      <imagedata os="sles" fileref="install_extensions_sles.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>

   &extension_module_selection;
  </sect2>

  <sect2 xml:id="sec.yast_install.modules.offline">
   <title>登録を行なわない場合の拡張とモジュールの選択</title>

   <para>登録を飛ばした場合は、 <guimenu>アドオン製品</guimenu> ダイアログから &allmodules; ISO イメージにアクセスする必要があります:</para>

   <figure>
    <title>アドオン製品</title>
    <mediaobject>
     <textobject role="description"><phrase>アドオン製品</phrase></textobject>
     <imageobject role="fo">
      <imagedata fileref="install_addon_offline.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="install_addon_offline.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>

   <para><guimenu>アドオン製品</guimenu> のダイアログでは、 <guimenu>アドオン製品をインストールします</guimenu> を選択して、 &allmodules; ISO の場所を指定します。この時点でリポジトリの説明をダウンロードしたい場合は、 <guimenu>リポジトリの説明をダウンロード</guimenu> を選択します。選択しない場合は、インストールが始まったあとにダウンロードが行なわれます。選択が終わりましたら <guimenu>次へ</guimenu> を押して進めてください。データソースとして <guimenu>DVD</guimenu> を選択した場合は、メディアを挿入するように求められます。</para>

   <para><guimenu>拡張とモジュールの選択</guimenu> では、製品のほか少なくとも 1 つ以上のモジュールと、 1 つ以上の拡張を選択する必要があります。</para>

   <figure>
    <title>拡張とモジュールの選択</title>
    <mediaobject>
     <textobject role="description"><phrase>拡張とモジュールの選択</phrase></textobject>
     <imageobject role="fo">
      <imagedata fileref="install_extensions_offline.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="install_extensions_offline.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>

   &extension_module_selection_offline;

   <figure>
    <title>アドオン製品のインストール</title>
    <mediaobject>
     <textobject role="description"><phrase>アドオン製品のインストール</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sles" fileref="install_modlist_offline_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_modlist_offline_sled.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles" fileref="install_modlist_offline_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_modlist_offline_sled.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>インストール時に選択したすべてのモジュールが <guimenu>アドオン製品のインストール</guimenu> ダイアログ内に一覧表示されます。一覧を変更したい場合は、<guimenu>追加</guimenu> または <guimenu>削除</guimenu> を押してください。<guimenu>追加</guimenu> を押すと、追加のアドオンを異なるソースから取得することができます。詳しくは <xref linkend="sec.yast_install.addons"/> をお読みください。</para>
   <para>インストールを進めるには、 <guimenu>次へ</guimenu> を押します。続く章は読み飛ばして、 <xref linkend="sec.yast_install.conf.manual.role"/> からお読みください。</para>
  </sect2>
 </sect1>

 <sect1 xml:id="sec.yast_install.addons" os="sles;sled">
  <title>アドオン製品</title>
  <para><guimenu>アドオン製品</guimenu> ダイアログでは、 &productname; に対する &scc; では提供されていない追加のソフトウエアソース (<quote>リポジトリ</quote> と呼びます) を設定することができます。このようなアドオンには、お使いのシステムに対するサードパーティ製の製品やドライバのほか、追加のソフトウエアも用意されていることがあります。</para>
  <figure>
   <title>アドオン製品</title>
   <mediaobject>
    <textobject role="description"><phrase>アドオン製品</phrase></textobject>
    <imageobject role="fo">
     <imagedata fileref="install_addon.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_addon.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <tip>
   <title>インストール時のドライバの追加について</title>
   <para><guimenu>アドオン製品</guimenu> を介して、ドライバの更新リポジトリを追加することもできます。 &sle; に対するドライバ更新は、 <link xlink:href="http://drivers.suse.com/"/> で提供されています。これらのドライバは、 &suse; SolidDriver プログラムで作成されているものです。</para>
  </tip>
  <para>アドオンを追加したくない場合は、 <guimenu>次へ</guimenu> で先に進みます。追加する場合は、 <guimenu>アドオン製品をインストールします</guimenu> を選択してください。あとは CD, DVD, ハードディスク, USB マスストレージ, ローカルディレクトリ, ローカル ISO イメージの中からメディアの種類を選択します。この時点までにネットワークを設定している場合は、 HTTP, SLP, FTP などのリモートソースを利用することもできます。 URL を直接指定してもかまいません。この時点でリポジトリの説明をダウンロードしたい場合は、 <guimenu>リポジトリの説明をダウンロード</guimenu> を選択します。選択しない場合は、インストールが始まったあとにダウンロードが行なわれます。選択が終わりましたら <guimenu>次へ</guimenu> を押して進め、必要に応じて CD や DVD などを挿入してください。</para>
  <para>アドオンの内容によっては、追加のライセンス同意を受け入れる必要があります。</para>
 </sect1>

 <sect1 os="sles;sled" xml:id="sec.yast_install.conf.manual.role">
  <title>システムの役割</title>
  <para>&productname; には幅広い機能が用意されています。インストールを簡略化するため、 &yast; では事前に設定された役割を選択することで、用途別の要件に適合した構成を利用することができるようになっています。現時点では、役割はパッケージのセットと提案されるパーティション方式に影響を与えます。</para>
  <figure>
   <title>システムの役割</title>
   <mediaobject>
    <textobject role="description"><phrase>システムの役割</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles" fileref="install_system_role_sles.png" width="100%"/>
     <imagedata os="sled" fileref="install_system_role_sled.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles" fileref="install_system_role_sles.png" width="100%"/>
     <imagedata os="sled" fileref="install_system_role_sled.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para><guimenu>システムの役割</guimenu> で、最も要件に近いものを選択します。システムの役割はモジュールと拡張の選択によって選択肢が決まります。既定の選択では、下記のようなシステムの役割が用意されています:</para>

  <variablelist os="sles">
   <varlistentry>
    <term><guimenu>テキストモード</guimenu></term>
    <listitem>
     <para>デスクトップ環境はないものの、コマンドラインツールが豊富な基本的な &slea; 環境を構築するオプションです。 20 GB 以上のディスクがある場合、パーティション設定の提案では XFS でフォーマットされた個別のホームパーティションを設定しようとします。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>最小限</guimenu></term>
    <listitem>
     <para>基本的なコマンドラインツールだけを利用することのできる、非常に小さなインストールを行ないたい場合の役割です。</para>
     <para><emphasis>依存関係:</emphasis> なし</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>KVM 仮想化ホスト</guimenu></term>
    <listitem>
     <para>他の仮想マシンを実行する、 KVM ホストとして動作するマシンをインストールする際のシナリオです。 <filename>/var/lib/libvirt</filename> が個別のパーティションとして設定されるほか、ファイアウオールと Kdump が無効化されます。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, サーバアプリケーション</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Xen 仮想化ホスト</guimenu></term>
    <listitem>
     <para>他の仮想マシンを実行する、 &xen; ホストとして動作するマシンをインストールする際のシナリオです。 <filename>/var/lib/libvirt</filename> が個別のパーティションとして設定されるほか、ファイアウオールと Kdump が無効化されます。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, サーバアプリケーション</para>
    </listitem>
   </varlistentry>
  </variablelist>

  <variablelist os="sled">
   <varlistentry>
    <term><guimenu>GNOME デスクトップ (Wayland)</guimenu></term>
    <listitem>
     <para>オフィススイートや電子メールクライアント、 Web ブラウザやファイルマネージャを含む完全機能の GNOME デスクトップ環境をインストールします。 Wayland テクノロジーを使用して、物理システムへのインストールに最適化されています。ネットワーク上離れた場所からのデスクトップアクセスには対応して <emphasis>いません</emphasis> 。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, デスクトップアプリケーション, &slewe;</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>GNOME デスクトップ (X11)</guimenu></term>
    <listitem>
     <para>オフィススイートや電子メールクライアント、 Web ブラウザやファイルマネージャを含む完全機能の GNOME デスクトップ環境をインストールします。ネットワーク上離れた場所からのデスクトップアクセスにも対応しています。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, デスクトップアプリケーション, &slewe;</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>GNOME デスクトップ (基本)</guimenu></term>
    <listitem>
     <para>ごく限られたグラフィカルアプリケーション (たとえばファイルマネージャや Web ブラウザなど) だけがインストールされる GNOME デスクトップ環境をインストールします。 X11 テクノロジーを使用します。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, デスクトップアプリケーション</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>IceWM デスクトップ (最小限)</guimenu></term>
    <listitem>
     <para>最小限のグラフィカルアプリケーション (たとえば xterm) だけがインストールされる軽量型の IceWM デスクトップ環境をインストールします。 X11 テクノロジーを使用します。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム</para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>

 <sect1 xml:id="sec.i.yast2.ui" os="osuse">
  <title>ユーザインターフェイス</title>
  <para>この手順では、デスクトップやサーバなどの用途を選択することで、一般的なソフトウエアとシステムの設定を行ないます。</para>
  <figure>
   <title>ユーザインターフェイス</title>
   <mediaobject>
    <textobject role="description"><phrase>ユーザインターフェイス</phrase></textobject>
    <imageobject role="fo">
     <imagedata fileref="install_ui_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_ui_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>デスクトップ環境をインストールしたい場合は、 <guimenu>KDE Plasma を利用するデスクトップ</guimenu> もしくは <guimenu>GNOME を利用するデスクトップ</guimenu> のいずれかを選んでください。 KDE は Windows に比較的似た環境を提供するもので、 GNOME はそれよりも革新的な代替環境を提供するものです。</para>
  <para>サーバ環境を構築したい場合、一般的にはグラフィカルなユーザインターフェイスをインストールする必要はありません。この場合は、 <guimenu>サーバ (テキストモード)</guimenu> を選択してください。それ以外にも、 <guimenu>トランザクション型サーバ</guimenu> を選択すると、読み込み専用のルートパーティションを設定し、ソフトウエアを一括で更新する仕組みを構成することもできます。この選択肢は openSUSE Kubic をセットアップする場合には必須となっています。トランザクション型サーバについて、詳しくは <link xlink:href="https://kubic.opensuse.org/blog/2018-04-04-transactionalupdates/"/> (英語) をお読みください。</para>
  <para>このほか、お使いのシステムに対するソフトウエアを個別に選択して設定することもできます。この場合は <guimenu>カスタム</guimenu> を選んで <guimenu>次へ</guimenu> を押し、 <guimenu>ソフトウエアとシステムタスクの選択</guimenu> ダイアログを表示させてください。ここから 1 つまたは複数のパターンを選択してインストールすることができます。さらに細かくソフトウエアを選択したい場合は、 <guimenu>詳細</guimenu> を押してください。</para>
  <figure>
   <title>独自のユーザインターフェイス</title>
   <mediaobject>
    <textobject role="description"><phrase>独自のユーザインターフェイス</phrase></textobject>
    <imageobject role="fo">
     <imagedata fileref="install_custom_ui_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_custom_ui_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para><guimenu>ユーザインターフェイス</guimenu> ダイアログには、 <guimenu>オンラインリポジトリの設定</guimenu> ボタンも用意されています。このボタンを押すと、追加のソフトウエアを提供している openSUSE の公式ソフトウエアリポジトリを設定することができます。なお、特に要件のない限り、既定の設定のままにしておくことをお勧めします。また、 <quote>メインの更新用リポジトリ</quote> については、必ず選択したままにしておくことをお勧めします。これは、お使いのシステムに最新のセキュリティ修正をインストールするためのものです。</para>
  <figure>
   <title>オンラインリポジトリの設定</title>
   <mediaobject>
    <textobject role="description"><phrase>オンラインリポジトリの設定</phrase></textobject>
    <imageobject role="fo">
     <imagedata fileref="install_onlinerepos_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_onlinerepos_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>なお、リポジトリには下記のようなものがあります:</para>
  <itemizedlist>
   <listitem>
    <para><guimenu>メインリポジトリ (オープンソース)</guimenu> には、オープンソース (OSS) のソフトウエアが含まれています。 DVD のインストールメディアよりも多くのソフトウエアパッケージが用意されているほか、上述のデスクトップシステムのソフトウエアも数多く用意されています。デスクトップシステムをインストールする場合は、必ず選択しておくことをお勧めします。</para>
   </listitem>
   <listitem>
    <para><guimenu>メインの更新用リポジトリ</guimenu> には、 DVD インストールメディアや <guimenu>メインリポジトリ (オープンソース)</guimenu> に対するセキュリティ更新や、セキュリティ関連以外のその他の修正が含まれています。どのようなインストール方針であれ、必ず選択しておくことをお勧めします。</para>
   </listitem>
   <listitem>
    <para><guimenu>メインリポジトリ (非オープンソース)</guimenu> には、プロプライエタリな (オープンソースではない) ソフトウエアライセンスで提供されるソフトウエアが含まれています。通常のデスクトップ環境を構築する場合であれば、特に必須のものではありません。</para>
   </listitem>
   <listitem>
    <para><guimenu>更新リポジトリ (非オープンソース)</guimenu> は、 <guimenu>メインリポジトリ (非オープンソース)</guimenu> を選択した場合に合わせて選択しておくことをお勧めします。ここには非オープンソースのソフトウエアに対する更新が含まれています。</para>
   </listitem>
   <listitem>
    <para>上記以外のリポジトリは、高度なユーザや開発者に向けて用意されているものです。詳しくはそれぞれのリポジトリを選択した際に表示される、説明文をお読みください。</para>
   </listitem>
  </itemizedlist>
  <para>選択が完了したら <guimenu>次へ</guimenu> を押します。選択した項目によっては追加のライセンス同意を求められる場合がありますが、 <guimenu>ユーザインターフェイス</guimenu> の画面に戻るまで <guimenu>次へ</guimenu> を押していってください。さらに次に進むには、そのまま <guimenu>次へ</guimenu> を押します。</para>
 </sect1>

 <sect1 xml:id="sec.yast_install.partitioning">
  <title>パーティション設定</title>
  <sect2 xml:id="sec.yast_install.partitioning.important">
   <title>重要な情報</title>
   <warning>
    <title>本章の内容をよくお読みください</title>
    <para><xref linkend="sec.yast_install.partitioning.suggested"/> に進む前に、あらかじめ本章の内容をよくお読みください。</para>
   </warning>
   <variablelist>
    <varlistentry>
     <term>UEFI マシンでの独自のパーティション設定</term>
     <listitem>
      <para>UEFI マシンの場合、 <filename>/boot/efi</filename> にマウントされる EFI システムパーティションが <emphasis>必要</emphasis> です。このパーティションは、 <literal>FAT32</literal> ファイルシステムでマウントされていなければなりません。</para>
      <para>EFI パーティションが既に存在している場合 (たとえば以前に Windows がインストールされていたような場合) は、フォーマットし直すことなく <filename>/boot/efi</filename> にマウントすることができます。</para>
      <para>UEFI マシンで EFI システムパーティションが見つからない場合、必ずこれを作成するようにしてください。 EFI システムパーティションは物理パーティションか、 RAID 1 でなければなりません。その他の RAID レベルや LVM などの技術には対応していません。また、 FAT32 ファイルシステムでフォーマットする必要があります。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>独自のパーティション設定と snapper の関係について</term>
     <listitem>
      <para os="sles;osuse">ルートパーティションが 16 GB より大きい場合、 &productname; では既定でファイルシステムのスナップショットを有効化します。</para>
      <para os="sled">&productname; はシステムに対してなされた変更を巻き戻す (ロールバック) ことができるようにするため、スナップショットを使用するように設定することができます。</para>
      <para>&productname; では、この機能を提供するために snapper と btrfs の組み合わせを使用します。 btrfs はルートパーティションに対するスナップショットを設定するのに必要となります。</para>
      <para>ディスクが 16GB より小さいサイズの場合、 snapper の機能と自動スナップショット採取機能は無効化され、ルートパーティション <filename>/</filename> のサイズが枯渇しないようにします。</para>
      <para>ロールバック機能を有効化してシステムのスナップショットを作成できるようにするため、重要なシステムディレクトリは単一のパーティションとなるようマウントを行なってください。具体的には <filename>/usr</filename> と <filename>/var</filename> がそれにあたります。 <filename>/usr/local</filename> , <filename>/var/log</filename> , <filename>/tmp</filename> などのように、スナップショットから除外したいパーティションのみ、個別に作成してください。</para>
      <para>詳しくは <xref linkend="cha.snapper"/> をお読みください。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>btrfs データボリューム</term>
     <listitem>
      <para>データボリュームに対する btrfs は、 &productname; &productnumber; ではサポートしていません。データボリュームに対して btrfs を設定する必要があるアプリケーションがある場合は、クオータグループ機能を無効化して個別のファイルシステムを作成することをお勧めします。これはルートファイルシステム以外を作成する際、既定で設定されます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>暗号化されたルートパーティションに対する btrfs について</term>
     <listitem>
      <para>既定のパーティション設定では、ルートパーティションを btrfs に設定します。ルートパーティションを暗号化したい場合は、 GPT パーティションテーブルでの種類を既定の MSDOS から変更してください。変更を行なわないと、 GRUB2 ブートローダが第 2 ステージのローダを設定する際、十分な領域が確保できない場合があります。</para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="zseries">
     <term>&zseries;: z/VM でのミニディスクの使用</term>
     <listitem>
      <para>&productname; を z/VM 内のミニディスク内にインストールした場合、同じ物理ディスク内に配置されることになりますが、ミニディスクのアクセスパス (/dev/disk/by-id/) は唯一の値にはなりません。これは、物理ディスクの ID を表わすことになるためです。同じ物理ディスク内に複数のミニディスクを設定すると、いずれも同じ ID になります。</para>
      <para>ミニディスクをマウントする際の問題を回避するには、マウント方法を <emphasis>パス</emphasis> もしくは <emphasis>UUID</emphasis> に変更してください。</para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="zseries">
     <term>&zseries;: LVM ルートファイルシステム</term>
     <listitem>
      <para>ルートファイルシステムを LVM やソフトウエア RAID アレイ内に配置するシステムを設定する場合、 LVM や RAID で管理されていない個別のパーティションを作成して、それを <filename>/boot</filename> にマウントしなければなりません。これを設定しないと、システムは起動することができなくなります。個別のパーティションを作成する場合は、 500 MB 程度のサイズとし、 ext4 ファイルシステムを指定することをお勧めします。</para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="power">
     <!-- this warning is duplicated in sec.power.prep -->
     <term>IBM &power;: Installing on Systems with Multiple Fibre Channel Disks</term>
     <listitem>
      <para>
       If more than one disk is available, the partitioning scheme suggested during
       the installation puts the PReP and BOOT partitions on different disks. If
       these disks are Fibre Channel Disks, the GRUB boot loader is not able to
       find the BOOT partition and the system cannot be booted.
      </para>
      <para>
       When prompted to select the partition scheme during the installation,
       choose <guimenu>Guided Setup</guimenu> and verify that only one disk is
       selected for installation. Alternatively, run the <guimenu>Expert
       Partitioner</guimenu> and manually set up a partitioning scheme that has
       PRep and BOOT on a single disk.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>サポートされるソフトウエア RAID ボリューム</term>
     <listitem>
      <para>既存のソフトウエア RAID ボリュームが存在する場合、 Disk Data Format (DDF) ボリュームと Intel Matrix Storage Manager (IMSM) ボリュームであれば、インストールを行なうことができます。 IMSM は、それぞれ下記の名前で提供されている機能です:</para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>Intel Rapid Storage Technology</para>
       </listitem>
       <listitem>
        <para>Intel Matrix Storage Technology</para>
       </listitem>
       <listitem>
        <para>Intel Application Accelerator / Intel Application Accelerator RAID Edition</para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>FCoE や iSCSI デバイス向けのマウントポイントについて</term>
     <listitem>
      <para>FCoE や iSCSI のデバイスは、起動処理時には非同期で検出されます。 initrd ではルートファイルシステムに対してデバイスが正しく設定されていることを確認しますが、その他のファイルシステムやマウントポイント、たとえば <filename>/usr</filename> などに対しては、確認を行ないません。そのため、 <filename>/usr</filename> や <filename>/var</filename> に対しては、これらはサポートしていません。これらのデバイスに対しては、サービスやデバイスなどで正しく設定されていることを確認してください。</para>
     </listitem>
    </varlistentry>
    <varlistentry os="sled;osuse">
     <term>パーティション設定の提案における Windows パーティションの取り扱いについて</term>
     <listitem>
      <para>パーティション設定の提案で、巨大な Windows FAT もしくは NTFS のパーティションを含むディスクを対象として選択すると、 &productname; がインストールできるだけのサイズを確保するため、 Windows パーティションのサイズ変更を自動的に設定します。この場合、データを失ってしまうことの無いよう、下記を実施しておくことを強くお勧めします:</para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>パーティションがフラグメント状態にないことをご確認ください (&productname; をインストールする前に、 Windows 側でデフラグプログラムを動作させてください)</para>
       </listitem>
       <listitem>
        <para>Windows 向けのパーティションが十分に大きいことを再度ご確認ください</para>
       </listitem>
       <listitem>
        <para>&productname; をインストールする前に、あらかじめデータをバックアップしておいてください</para>
       </listitem>
      </itemizedlist>
      <para>Windows パーティション向けのサイズ変更を調整したい場合は、 <guimenu>熟練者向けパーティション設定</guimenu> をお使いください。</para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
  <sect2 xml:id="sec.yast_install.partitioning.suggested">
   <title>パーティション設定の提案</title>
   <para>この手順では、 &productname; 向けのパーティション設定を行ないます。</para>
   <figure>
    <title>パーティション設定の提案</title>
    <mediaobject>
     <textobject role="description"><phrase>パーティション設定の提案</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sles;sled" fileref="install_partitioner.png" width="100%"/>
      <imagedata os="osuse" fileref="install_partitioner_osuse.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles;sled" fileref="install_partitioner.png" width="100%"/>
      <imagedata os="osuse" fileref="install_partitioner_osuse.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para os="sled;osuse">インストーラは、利用可能なディスクのうちの 1 台に対して、 btrfs でフォーマットするルートパーティションを 1 つ、スワップパーティションを 1 つ、 xfs でフォーマットするホームディレクトリ用のパーティションを 1 つ含む提案を作成します。 20 GB 未満のサイズしかないディスクの場合は、ホームディレクトリ用のパーティションは作成しません。利用可能なハードディスク内に 1 つ以上のスワップパーティションが見つかると、それらを使用するように設定します。ここからいくつかの選択を行なうことができます:</para>
   <para os="sles">システムの役割に応じて、利用可能なディスクのうちのいずれかに対して、インストーラが提案を作成します。いずれの提案とも、 btrfs でフォーマットするルートパーティションを 1 つと、スワップパーティションを 1 つ含みます。 GNOME デスクトップやテキストモードを選択した場合、ディスクが 20 GB 以上あれば個別のホームディレクトリ用のパーティションを作成します。システムの役割で仮想化ホストを選択した場合は、既定でイメージファイルを配置する先として、 <filename>/var/lib/libvirt</filename> 向けの個別のパーティションを設定します。また、利用可能なハードディスク内に 1 つ以上のスワップパーティションが見つかると、それらを使用するように設定します。ここからいくつかの選択を行なうことができます:</para>
   <variablelist>
    <varlistentry>
     <term><guimenu>次へ</guimenu></term>
     <listitem>
      <para>何も設定を変更せずに、提案の内容をそのまま受け入れるには、 <guimenu>次へ</guimenu> を押してインストールの作業を進めます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>ガイド付き設定</guimenu></term>
     <listitem>
      <para>提案内容を調整したい場合は、 <guimenu>ガイド付き設定</guimenu> を選択します。まずは使用するハードディスクとパーティションを選択します。次に <guimenu>パーティション方式</guimenu> の画面で、 Logical Volume Management (LVM) とディスクの暗号化を設定します。あとは <guimenu>ファイルシステムオプション</guimenu> で各種の設定を行ないます。ここではルートパーティションに設定するファイルシステムと、個別のホームディレクトリ用パーティションやスワップパーティションを作成するかどうかを指定します。お使いのマシンでサスペンド機能を利用する場合は、スワップパーティションを作成して <guimenu>サスペンド用に RAM サイズまで拡大する</guimenu> を選択していることを確認してください。なお、ルートファイルシステムで btrfs を選択すると、ここで btrfs のスナップショットを有効にするかどうかを選択することができます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>熟練者向けパーティション設定</guimenu></term>
     <listitem>
      <para>独自のパーティション設定を行なうには、 <guimenu>熟練者向けパーティション設定</guimenu> を選択します。現在提案されている設定をベースにして変更を行ないたい場合は、<guimenu>現在表示されている提案を元にする</guimenu> を選択します。現在のディスク内のパーティション設定を元にする場合は、 <guimenu>既存のパーティション設定を元にする</guimenu> を選択します。いずれの場合も、パーティションを <guimenu>追加</guimenu> , <guimenu>編集</guimenu> , <guimenu>サイズ変更</guimenu> , <guimenu>削除</guimenu> することができます。</para>
      <para>また、熟練者向けパーティション設定では、論理ボリューム (LVM) やソフトウエア RAID 、デバイスマッピング (DM) やパーティションの暗号化、 NFS 共有のマウントや tmpfs ボリュームの管理などを行なうことができます。それぞれの btrfs パーティションに対してサブボリュームやスナップショットの処理を調整するには、 <guimenu>btrfs</guimenu> を選択してください。独自のパーティション設定や高度な機能の設定方法について、詳しくは <xref linkend="sec.expert_partitioner"/> をお読みください。</para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
 </sect1>

 <sect1 xml:id="sec.yast_install.timezone">
  <title>時計とタイムゾーン</title>
  <para>このダイアログでは、知識とタイムゾーンの設定を行ないます。いずれの設定とも、インストール時に選択した言語に従った値が事前に選択されます。</para>
  <figure>
   <title>時計とタイムゾーン</title>
   <mediaobject>
    <textobject role="description"><phrase>時計とタイムゾーン</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled" fileref="install_timezone.png" width="100%"/>
     <imagedata os="osuse" fileref="install_timezone_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled" fileref="install_timezone.png" width="100%"/>
     <imagedata os="osuse" fileref="install_timezone_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>事前に選択された設定を変更するには、地図を使用するか、もしくは <guimenu>地域</guimenu> と <guimenu>タイムゾーン</guimenu> のドロップダウンを使用します。地図を使用する場合は、大まかな場所にカーソルを合わせて、左クリックすると地図が拡大されます。拡大されたら地図内の場所を選んで左クリックすると、選択することができます。なお、右クリックをすると、世界全体の地図に戻ります。</para>
  <para>時計を設定するには、まず <guimenu>ハードウエアの時刻を UTC に設定する</guimenu> のチェックを入れるか外すかします。お使いのマシンに Microsoft Windows など、他のオペレーティングシステムがインストールされている場合は、お使いのシステムはローカルの時刻に設定されているはずなので、チェックを外してください。また、 Linux のみを動作させているマシンの場合は、チェックを入れて UTC に設定することで、夏時間 (サマータイム) の設定を自動的に適用させることができるようになります。</para>
  <important>
   <title>ハードウエアの時刻を UTC に設定する</title>
   <para>標準時から夏時間への切り替え (もしくはその逆) は、ハードウエア (CMOS) の時計が UTC に設定されている場合にのみ、自動的に行なうことができます。これは、 NTP で自動的に時刻を同期させている場合も同様で、 NTP はハードウエアとシステムの時計の差が 15 分未満の場合にのみ動作するためです。</para>
   <para>なお、システムの時計を正しく設定しないと、様々な問題が発生する可能性があります (たとえばバックアップの処理を行なわずに飛ばしてしまったり、メールメッセージが期限切れであるものとして捨てられてしまったり、マウントが失敗してしまったりなど) 。特に理由がない限り、ハードウエアの時計は UTC に設定しておくことを <emphasis>強く</emphasis> お勧めします。</para>
  </important>
  <para arch="power;x86_64" os="sles">ネットワークを設定してある場合は、 NTP サーバとの間で時刻同期を設定することができます。 <guimenu>その他の設定</guimenu> から NTP の設定を行なうか、もしくは <guimenu>手動</guimenu> で時刻を設定してください。 NTP サービスの設定について、詳しくは <xref linkend="cha.ntp"/> をお読みください。完了しましたら、 <guimenu>了解</guimenu> を押すとインストールを続けることができます。</para>
  <para arch="power;x86_64" os="sles">なお、 NTP を設定せずに実行する場合は、正しくない時刻をハードウエアの時刻として反映してしまわないよう、 <literal>SYSTOHC=no</literal> ( <literal>sysconfig</literal> の変数です) を設定してください。</para>
  <para os="sled;osuse">ネットワークを設定してある場合は、 NTP サーバとの間で時刻同期を設定することができます。 <guimenu>その他の設定</guimenu> から NTP の設定を行なうか、もしくは <guimenu>手動</guimenu> で時刻を設定してください。 NTP サービスの設定について、詳しくは <xref linkend="cha.ntp"/> をお読みください。完了しましたら、 <guimenu>了解</guimenu> を押すとインストールを続けることができます。</para>
  <para os="sled;osuse">なお、 NTP を設定せずに実行する場合は、正しくない時刻をハードウエアの時刻として反映してしまわないよう、 <literal>SYSTOHC=no</literal> ( <literal>sysconfig</literal> の変数です) を設定してください。</para>
  <note arch="zseries" os="sles">
   <title>&zseries; での時刻変更について</title>
   <para>オペレーティングシステム側では日時を直接変更することが許可されていません。そのため、 &zseries; では <guimenu>その他の設定</guimenu> を利用できません。</para>
  </note>
 </sect1>

 <sect1 xml:id="sec.yast_install.user">
  <title>新しいユーザの作成</title>
  <para>この手順では、ローカルユーザを作成します。</para>
  <figure>
   <title>新しいユーザの作成</title>
   <mediaobject>
    <textobject role="description"><phrase>新しいユーザの作成</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled" fileref="install_user.png" width="100%"/>
     <imagedata os="osuse" fileref="install_user_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled" fileref="install_user.png" width="100%"/>
     <imagedata os="osuse" fileref="install_user_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>アルファベットで名・姓の順に空白で区切って入力すると、 <guimenu>ユーザ名</guimenu> が自動的に生成され、入力されます。なお、ユーザ名はアルファベットの小文字 (a-z) と数字 (0-9) のほか、 <literal>.</literal> (ドット), <literal>-</literal> (ハイフン), <literal>_</literal> (アンダースコア) をそれぞれ使用することができます。なお、特殊記号<!-- Japanese original content start -->や漢字、ひらがな／カタカナなど<!-- Japanese original content end -->は使用できません。</para>
  <para>続いてユーザに対して設定するパスワードを指定します。誤って想定とは異なる文字を入力してしまったりなどを防ぐため、パスワードは二度入力します。なお、セキュリティ面への考慮から、パスワードは 6 文字以上で、かつアルファベットの大文字と小文字、数字と特殊文字 (キーボードに書かれている記号) をそれぞれ含んでいるべきものです。ただし、特殊記号 (キーボードに書かれていない記号) <!-- Japanese original content start -->や漢字、ひらがな／カタカナなど<!-- Japanese original content end -->は使用できません。また、入力したパスワードは強度のチェックが行なわれ、誰でも知っているような単語や名前など、推測が容易なものである場合には、警告メッセージが表示されます。この警告メッセージを利用することで、よりよいセキュリティを実現できるようになっています。</para>
  <important>
   <title>ユーザ名とパスワード</title>
   <para>ユーザ名とパスワードは、必ず覚えておいてください。これらはシステムにログインする際に必要となるためです。</para>
  </important>
  <para>1 つもしくは複数の Linux がインストールされているマシンに &productname; をインストールする場合、 &yast; ではユーザ名とパスワードを、インストール済みの Linux から取り込むことができます。取り込むには、 <guimenu>以前のインストールからユーザデータを取り込む</guimenu> を選択して、 <guimenu>ユーザの選択</guimenu> でユーザを選択してください。</para>
  <para>ローカルユーザを設定したくない場合 (たとえば集中管理型のユーザ認証の仕組みを利用してクライアントを構築するような場合) は、この手順を飛ばして <guimenu>次へ</guimenu> を押し、表示される警告に応答してください。集中管理型のユーザ認証の設定は、インストール完了後に行ないます。詳しくは <xref linkend="cha.yast.userman"/> をお読みください。</para>
  <para>ここでは、 2 種類の追加オプションを選択することができます:</para>
  <variablelist>
   <varlistentry>
    <term><guimenu>このパスワードをシステム管理者用のものとしても使用する</guimenu></term>
    <listitem>
     <para>この項目にチェックを入れると、ユーザ向けのものとして設定したパスワードを、システム管理者である &rootuser; のパスワードとしても設定します。このオプションは、スタンドアロン型のワークステーションのほか、 1 人だけで使用するようなホームネットワーク向けのオプションです。チェックを入れない場合は、インストールの次の手順でシステム管理者用のパスワードを入力します (詳しくは <xref linkend="sec.yast_install.user.root"/> をお読みください) 。</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>自動ログイン</guimenu></term>
    <listitem>
     <para>このオプションは、システムの起動時に自動的にユーザがログインするように設定するためのものです。このオプションは、主に 1 人だけで使用するような環境で便利な仕組みです。<phrase os="sles">なお、自動ログインを動作させるには、このオプションを明示的に有効化しなければなりません。</phrase></para>
    </listitem>
   </varlistentry>
  </variablelist>
  <warning>
   <title>自動ログイン</title>
   <para>自動ログインを有効化すると、システムは認証を求めることなくデスクトップを起動するようになります。お使いのシステムに機密データが含まれるような場合は、そのコンピュータが誰にでも操作できる状況になってしまうことから、有効化すべきではありません。</para>
  </warning>
  <para>NIS や LDAP など、認証を集中管理しているような環境の場合は、ローカルユーザを作成する必要がないかもしれません。その場合は、 <guimenu>ユーザの作成を行なわずに飛ばす</guimenu> を選択してください。</para>
 </sect1>

 <sect1 xml:id="sec.yast_install.user.root">
  <title>システム管理者 <quote>root</quote> の認証</title>
  <para>以前の手順で <guimenu>このパスワードをシステム管理者用のものとしても使用する</guimenu> を選択していなかった場合は、ここでシステム管理者 &rootuser; のパスワードを入力するよう求められます。選択した場合、この手順は飛ばされます。</para>
  <figure>
   <title>システム管理者 &rootuser; の認証</title>
   <mediaobject>
    <textobject role="description"><phrase>システム管理者 &rootuser; の認証</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled" fileref="install_root.png" width="100%"/>
     <imagedata os="osuse" fileref="install_root_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled" fileref="install_root.png" width="100%"/>
     <imagedata os="osuse" fileref="install_root_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>&rootuser; とはスーパーユーザの名前であり、システムの管理者でもあります。一般ユーザとは異なり、 &rootuser; にはシステムの設定を無制限に変更することのできる権限や、プログラムのインストールや新しいハードウエアの設定などの権限が与えられています。また、一般ユーザのパスワードを忘れてしまったような場合や、システムに何らかの問題が発生したような場合も、 &rootuser; でそれぞれの作業を行なうことになります。なお、 &rootuser; はシステム管理や修復のためだけに使用すべきアカウントであり、一般的な作業を &rootuser; で行なうべきものではありません。ごくありふれた操作ミスによって、システムを壊してしまうリスクがあるためです。</para>
  <para>なお、パスワードの入力が間違っていないことを確認するため、 &rootuser; のパスワードは二度入力します。 &rootuser; のパスワードは、決して忘れてはなりません。いったん入力して保存したあとは、パスワードを読み出すことができなくなります。</para>
  <tip>
   <title>パスワードとキーボードレイアウトについて</title>
   <para>英語キーボードでも利用可能な文字のみを使用しておくことをお勧めします。システムに障害が発生したような場合や、システムをレスキューモードで起動しなければならなくなったような場合、英語キーボードを使用しなければならないことがあるためです。</para>
  </tip>
  <para>&rootuser; のパスワードは、インストール完了後でも自由に変更することができます。 &yast; からパスワードを変更するには、 <menuchoice> <guimenu>セキュリティとユーザ</guimenu> <guimenu>ユーザとグループの管理</guimenu> </menuchoice> を選択してください。</para>
  <important>
   <title><systemitem class="username">root</systemitem> ユーザ</title>
   <para>&rootuser; には、システムに対して変更を加えることのできるすべての権限が許可されています。このような作業を行ないたい場合は、 &rootuser; のパスワードが必要となります。このパスワードを入力しない限り、システム管理作業を行なうことはできません。</para>
  </important>

  <para>ご利用の環境によっては、公開鍵を利用してリモートから SSH ログインを行ないたい場合があります。この画面では、メディアから公開鍵を取り込む機能も提供しています。</para>
  <para>下記の手順では、 USB メモリから SSH 公開鍵を追加する方法について説明しています。CD/DVD-ROM のほか、既存のパーティションから公開鍵を取り込む場合も、ほとんど同じ手順で行なうことができます。具体的には下記のようにして行ないます:</para>
  <procedure xml:id="pro.yast_install.user.root.sshkey">
   <title>ユーザ &rootuser; に対する SSH 公開鍵の追加</title>
   <step>
    <para>SSH 公開鍵を含む USB メモリを、お使いのコンピュータに接続します。なお、公開鍵のファイル名の拡張子は、 <filename class="extension">.pub</filename> であるはずです。</para>
   </step>
   <step>
    <para><guimenu>更新</guimenu> を押します。すると <guimenu>SSH 公開鍵のインポート</guimenu> 内のドロップダウンボックスに、接続した USB メモリが表示されますので、それを選択します。</para>
   </step>
   <step>
    <para>あとは <guimenu>参照</guimenu> を押し、 SSH 公開鍵を選択します。</para>
   </step>
   <step>
    <para><guimenu>次へ</guimenu> を押して進みます。</para>
   </step>
   <step>
    <para><guimenu>インストールの概要</guimenu> では、 <guimenu>ファイアウオールと SSH</guimenu> 内の項目に注意してください。必要であれば <guimenu>開く</guimenu> を押して <guimenu>SSH のポートを開きます</guimenu> の状態にしてください。</para>
   </step>
  </procedure>
  <para>インストールを完了することで、指定した SSH 公開鍵でログインできるようになります。</para>
 </sect1>

 <sect1 xml:id="sec.yast_install.proposal">
  <title>インストール設定</title>
  <para>実際にインストールを行なう前の最後の手順として、ここではインストールシステムが提案した様々なインストール設定を確認することができます。提案内容を変更するには、それぞれの項目名のリンク (下線が引かれた箇所) を押してください。設定を変更したあとは、またインストール設定の画面に戻ってきますが、このとき変更した内容が反映されていることをご確認ください。</para>
  <para><xref linkend="pro.yast_install.user.root.sshkey" xrefstyle="select:label"/> に示す手順で &rootuser; 向けの SSH 鍵を追加している場合は、 <guimenu>ファイアウオールと SSH</guimenu> 内で SSH のポートを開くように設定してください。</para>
  <figure>
   <title>インストール設定</title>
   <mediaobject>
    <textobject role="description"><phrase>インストール設定</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles" fileref="install_summary_sles.png" width="100%"/>
     <imagedata os="sled" fileref="install_summary_sled.png" width="100%"/>
     <imagedata os="osuse" fileref="install_summary_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles" fileref="install_summary_sles.png" width="100%"/>
     <imagedata os="sled" fileref="install_summary_sled.png" width="100%"/>
     <imagedata os="osuse" fileref="install_summary_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <sect2 xml:id="sec.yast_install.proposal.sofware">
   <title><guimenu>ソフトウエア</guimenu></title>
   <para>&productname; には、様々な用途を想定したソフトウエアパターンが複数用意されています。利用可能なパターンやパッケージの選択肢は、選択したモジュールや拡張によって決まります。</para>
   <para><guimenu>ソフトウエア</guimenu> を選択すると、 <guimenu>ソフトウエアとシステムタスクの選択</guimenu> を開くことができます。ここでは、必要に応じてパターンの選択を行なうことができます。一覧からパターンを選択すると、ウインドウの右側に説明が表示されます。それぞれのパターンには、その機能に応じて複数のソフトウエアパッケージが含まれています (たとえば <phrase os="sled;osuse">マルチメディア, オフィスソフトウエア</phrase> <phrase os="sles">Web および LAMP サーバ, 印刷サーバ</phrase> などがあります) 。インストールするソフトウエアパッケージをより細かく指定したい場合は、 <guimenu>詳細</guimenu> を押して &yast; ソフトウエアマネージャを起動してください。</para>
   <figure>
    <title>ソフトウエアとシステムタスクの選択</title>
    <mediaobject>
     <textobject role="description"><phrase>ソフトウエアとシステムタスクの選択</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sles" fileref="install_software_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_software_sled.png" width="100%"/>
      <imagedata os="osuse" fileref="install_software_osuse.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles" fileref="install_software_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_software_sled.png" width="100%"/>
      <imagedata os="osuse" fileref="install_software_osuse.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>ソフトウエアパッケージは、インストール後にも追加や削除を行なうことができます。パッケージを追加／削除するには、 &yast; ソフトウエアマネージャをお使いください。詳しくは <xref linkend="cha.yast-software"/> をお読みください。</para>
   <para os="sles">GNOME をインストールするように選択した場合、 &productname; は X.org ディスプレイサーバをあわせてインストールします。 &gnome; の代替としては、軽量型のウインドウマネージャである IceWM もインストールすることができます。 <guimenu>ソフトウエアとシステムタスクの選択</guimenu> から <guimenu>詳細</guimenu> を選択して、 <literal>icewm</literal> を検索してください。</para>
   <para os="sled;osuse">既定では、 &productname; は Wayland ディスプレイサーバプロトコルを使用します。</para>
   <tip os="sles" arch="zseries">
    <title>&zseries;: ハードウエア暗号化サポートについて</title>
    <para>ハードウエア暗号化スタックは、既定ではインストールされません。インストールするには、 <guimenu>ソフトウエアとシステムタスクの選択</guimenu> 画面内にある<guimenu>System z ハードウエア暗号化サポート</guimenu> を選択してください。</para>
   </tip>
   <tip xml:id="ann.sec.yast_install.proposal.sofware.language">
    <title>第二言語の追加</title>
    <para>インストールの最初の手順で選択した言語は、システム内で第一言語として設定されます。<guimenu>ソフトウエア</guimenu> ダイアログ内の <menuchoice> <guimenu>詳細</guimenu> <guimenu>表示</guimenu> <guimenu>言語</guimenu></menuchoice> を選択することで、第二言語を追加することができます。</para>
   </tip>
  </sect2>
  <sect2 xml:id="sec.yast_install.proposal.booting">
   <title><guimenu>起動</guimenu></title>
   <para>インストールシステムは、お使いのシステムに対して起動の設定を提案します。 Microsoft Windows や他の Linux など、その他のオペレーティングシステムがインストールされていることが検出されると、それらをブートローダの項目として自動的に追加します。ただし、既定で起動されるのは &productname; として設定されます。通常はこれらの設定を変更する必要はありませんが、何らかの独自の設定を行ないたい場合は、必要に応じて提案を変更する必要があります。詳しくは<xref linkend="sec.grub2.yast2.config"/> をお読みください。</para>
   <important>
    <title>ソフトウエア RAID 1</title>
    <para><filename>/boot</filename> がソフトウエア RAID 1 デバイス内に存在しているような構成をサポートしていますが、この場合はブートローダを MBR にインストールしておく ( <menuchoice> <guimenu>ブートローダの場所</guimenu> <guimenu>マスターブートレコード (MBR) から起動</guimenu> </menuchoice> を選択する) 必要があります。 RAID 1 以外のソフトウエア RAID からの起動はサポートしていません。<phrase os="sles">詳しくは <xref linkend="cha.raidroot"/> をお読みください。</phrase></para>
   </important>
  </sect2>
  <sect2 xml:id="sec.yast_install.proposal.firewall">
   <title><guimenu>ファイアウオールと SSH</guimenu></title>
   <para>既定では、 &firewalld; がすべての設定済みネットワークインターフェイスに対して有効化されます。このコンピュータ全体に対してファイアウオール機能を無効化したい場合は、 <guimenu>無効化する</guimenu> を選択してください。</para>
   <note>
    <title>ファイアウオールの設定</title>
    <para>ファイアウオールを有効化すると、すべてのインターフェイスが <quote>外部ゾーン</quote> に割り当てられ、すべてのポートが閉じられます。これにより、最大限のセキュリティ状態になります。ここで開くことができるポートは 22 (SSH) だけですが、このポートを開くことで、リモートからのアクセスができるようになります。 FTP, Samba, Web サーバなど、それ以外の全てのサービスについては、ファイアウオールの設定を調整して開く必要があります。詳しくは <xref linkend="cha.security.firewall"/> をお読みください。</para>
   </note>
   <para>Secure Shell (SSH) でのリモートからのアクセスを許可するには、<literal>SSH サービス</literal> が有効化され、<literal>SSH ポート</literal> が開いていることをご確認ください。</para>
   <tip>
    <title>既存の SSH ホスト鍵の取り込み</title>
    <para>既に Linux がインストールされているマシンに &productname; をインストールしようとしている場合は、 SSH のホスト鍵を取り込むことができます。既定では、最終アクセス日時が最も新しいホスト鍵を選択します。 <phrase os="sles;sled">なお、<xref linkend="sec.yast_install.proposal.sshimport"/> もお読みください。</phrase></para>
   </tip>
   <para>VNC 経由でリモートからのインストールを行なっている場合は、インストール後にも VNC 経由でアクセスできるようにすべきかどうかを指定することができます。なお、 VNC を有効化する場合は、 <guimenu>既定の systemd ターゲット</guimenu> を<guimenu>グラフィカルモード</guimenu> に設定してください。</para>
  </sect2>
  <sect2 xml:id="sec.yast_install.proposal.kdump" os="sles">
   <title><guimenu>Kdump</guimenu></title>
   <para>Kdump を使用することで、 (クラッシュ時に) カーネルの状態をダンプファイルに保存して、何が悪かったのかを後から調べることができるようになります。このダイアログを利用して、 Kdump を有効化および設定してください。詳しくは <xref linkend="cha.tuning.kexec"/> をお読みください。</para>
  </sect2>
  <sect2 xml:id="sec.yast_install.proposal.blacklist" os="sles" arch="zseries">
   <title>&zseries;: デバイスのブラックリスト設定</title>
   <para>メモリ消費を削減するため、既定ではデバイスに使用されていないすべてのチャンネルをブラックリスト設定します (ブラックリスト設定されていないと、各チャンネルに対して 50 KB 程度のメモリを使用します) 。ブラックリストに設定されたチャンネルを利用して追加のハードウエアを設定するには、関連する &yast; モジュールを実行して、必要なチャンネルを有効化してください。 <remark condition="clarity"> 2014-06-05 - fs: FIXME What's the name of the yast module? </remark></para>
   <para>ブラックリストを無効化するには、 <guimenu>無効にする</guimenu> を選択します。</para>
  </sect2>
  <sect2 xml:id="sec.yast_install.proposal.runlevel">
   <title><guimenu>既定の systemd ターゲット</guimenu></title>
   <para>&productname; は 2 種類の異なるターゲット (従来は <quote>ランレベル</quote> として知られています) のいずれかを起動することができます。一方の <guimenu>グラフィカル</guimenu> ターゲットはディスプレイマネージャを起動するもので、他方の <guimenu>マルチユーザ</guimenu> ターゲットはコマンドラインインターフェイスを起動するものです。</para>
   <para>既定のターゲットは <guimenu>グラフィカル</guimenu> です。 <guimenu>X Window System</guimenu> パターンをインストールしていない場合は、<guimenu>マルチユーザ</guimenu> に変更する必要があります。システムを VNC 経由でアクセスできるようにするには、 <guimenu>グラフィカル</guimenu> を選択する必要があります。</para>
  </sect2>
  <sect2 xml:id="sec.yast_install.proposal.sshimport">
   <title><guimenu>SSH ホスト鍵と設定の取り込み</guimenu></title>
   <para>お使いのコンピュータ内に既に Linux がインストールされていることが検出されると、 &yast; は既定で、 <filename>/etc/ssh</filename> 内にある最も新しい SSH ホスト鍵を取り込もうとします。必要であれば、ディレクトリ内の他のファイルについても取り込むことができます。これにより、既存のインストールで使用されている SSH の識別情報を再利用し、接続した際の <literal>REMOTE HOST IDENTIFICATION HAS CHANGED</literal> (リモートのホスト識別情報が変更されています) という警告メッセージが出ないようにすることができます。なお、この項目は既存の Linux インストールが検出されなかった場合には、表示されません。選択肢としては、下記のようなものがあります:</para>
   <variablelist>
    <varlistentry>
     <term><guimenu>以前のインストールから SSH 鍵を取り込む</guimenu></term>
     <listitem>
      <para>このオプションを選択すると、既存のインストールから SSH ホスト鍵を取り込むことができるほか、必要であれば設定を取り込むこともできます。どの Linux システムから取り込むのかについても、選択することができます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu> SSH 設定の取り込み </guimenu></term>
     <listitem>
      <para>このオプションを選択すると、既存のインストールにあるホスト鍵に加え、設定についても取り込むようになります。</para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
  <sect2 xml:id="sec.yast_install.proposal.system">
   <title><guimenu>システム</guimenu></title>
   <para>この画面では、お使いのコンピュータに対してインストールシステムが収集することのできた、すべてのハードウエア情報が表示されます。なお、収集処理は画面を初めて開いた際に行なわれます。お使いのシステムの構成にもよりますが、収集処理にはしばらくの時間がかかります。一覧から項目を選択して <guimenu>詳細</guimenu> を押すと、選択した項目に対する詳細な情報を取得することができます。また、 <guimenu>ファイルに保存</guimenu> を押すと、詳細なリストをローカルのファイルシステムやリムーバブルデバイスに保存することができます。</para>
   <para>知識のあるユーザであれば、 <guimenu>カーネル設定</guimenu> を選択することで、 <guimenu>PCI ID の設定</guimenu> を変更することができます。画面には 2 種類のタブが用意されています:</para>
   <variablelist>
    <varlistentry>
     <term><guimenu>PCI ID の設定</guimenu></term>
     <listitem>
      <para>それぞれのカーネルドライバには、自身がサポートするデバイスの ID の一覧が設定されています。そのため、ドライバのデータベースには掲載されていない新しいデバイスの場合は、ドライバが存在しているにもかかわらず、サポートされていないように扱われてしまうことがあります。ここでは、 PCI ID をデバイスドライバに追加することができます。なお、知識のある方だけがお使いになることをお勧めします。</para>
      <para>ID を追加するには、 <guimenu>追加</guimenu> を押して <guimenu>一覧から選択</guimenu> もしくは <guimenu>手動</guimenu> のいずれかを選択します。 <guimenu>SysFS ディレクトリ</guimenu> は <filename>/sys/bus/pci/drivers</filename> 以下のディレクトリを指定するもので、何も指定しない場合は <guimenu>ドライバ</guimenu> の値を使用します。既存の項目については、 <guimenu>編集</guimenu> と <guimenu>削除</guimenu> でそれぞれ管理することができます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>カーネル設定</guimenu></term>
     <listitem>
      <para>ここでは、 <guimenu>グローバル I/O スケジューラ</guimenu> を設定することができます。<guimenu>未設定</guimenu> を選択すると、各アーキテクチャの既定値を使用します。この設定は、インストール後でも変更することができます。 I/O チューニングについて、詳しくは <xref linkend="cha.tuning.io"/> をお読みください。</para>
      <para>ここでは、 <guimenu>SysRq キーを有効にする</guimenu> を有効にすることもできます。これらのキーは、ごく基本的なコマンド (システムの再起動やカーネルダンプの書き込み) を実行するためのもので、主にシステムがクラッシュした際に使用するものです。これらのキーは、カーネル周りの開発を行なっている場合にはお勧めの機能です。詳しくは <link xlink:href="https://www.kernel.org/doc/html/latest/admin-guide/sysrq.html"/> (英語) をお読みください。</para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
 </sect1>

 <sect1 xml:id="sec.yast_install.perform">
  <title>インストールの実行</title>
  <para>すべてのインストール設定が完了したら、インストール設定の画面で <guimenu>インストール</guimenu> を押して、インストールを開始します。ソフトウエアによっては、ライセンス確認のダイアログが表示される場合があります。それらのソフトウエアパッケージをインストールするには、 <guimenu>了解</guimenu> を押してください。ライセンスに同意できない場合は、 <guimenu>同意しません</guimenu> を押すと、インストールを行なわなくなります。インストールの確認ダイアログが表示されたら、 <guimenu>インストールする</guimenu> を押してください。</para>
  <para>インストール処理は、システムの性能と選択したソフトウエアの範囲によりますが、おおよそ 15 分から 30 分程度の時間がかかります。ハードディスクの準備と各種の設定の保存と復元が行なわれた後、ソフトウエアのインストールが始まります。 <guimenu>詳細</guimenu> を押すとインストールの進捗表示に切り替えることができるほか、 <guimenu>リリースノート</guimenu> を選択することで、マニュアルが作成された後に判明した最新の重要情報を表示することもできます。</para>
  <para>ソフトウエアのインストールが完了したら、システムは再起動を行ない、ログイン可能な状態でインストール済みのシステムが起動します。システムの設定を後から変更したり、追加のソフトウエアパッケージをインストールしたりしたい場合は、 &yast; を起動してください。</para>

  <sect2 xml:id="sec.s390.inst.reipl" arch="zseries" os="sles">
   <title>&zseries;: インストール済みのシステムの IPL</title>
   <para>&yast; は通常、 &zseries; プラットフォームでも再起動後にインストール済みのシステムを起動します。ただし、 FCP デバイス内にブートローダが存在していて、 z196 もしくは z/VM のリリース 5.4 以前の古い LPAR 環境で動作させている環境の場合は例外です。この場合は、ブートローダが <filename>/boot/zipl/</filename> にマウントされている個別のパーティション内に書き込まれます。</para>
   <para>自動的な再起動ができない環境の場合、 &yast; はどのデバイスから IPL するのかの情報ダイアログが表示されます。シャットダウンオプションを受け入れたあと、シャットダウン後に IPL を行なってください。手順はインストールの種類によって異なります:</para>
   <variablelist>
    <varlistentry>
     <term>LPAR のインストール</term>
     <listitem>
      <para>&zseries; HMC では、 <guimenu>Load</guimenu> , <guimenu>Clear</guimenu> の順に選択します。あとは読み込みアドレス (ブートローダを含む <filename>/boot/zipl</filename> ディレクトリのデバイスアドレス) を指定してください。 zFCP ディスクを起動デバイスとして使用している場合は、 <guimenu>Load from SCSI</guimenu> を選んで FCP アダプタのアドレスと、起動デバイスに対する WWPN, LUN を入力してください。これにより、プロセスの読み込みが始まります。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>z/VM のインストール</term>
     <listitem>
      <para>VM ゲストに <systemitem class="username">LINUX1</systemitem> としてログイン (設定について、詳しくは <xref linkend="ex.prep.prep_ipl.vm.linux_guest.config"/> をお読みください) し、インストール済みのシステムを IPL します:</para>
      <screen>IPL 151 CLEAR</screen>
      <para><literal>151</literal> は DASD ブートデバイスのアドレス例です。実際のアドレスに置き換えてお使いください。</para>
      <para>起動デバイスに zFCP ディスクを使用している場合は、 IPL を行なう前に起動デバイスの zFCP WWPN と LUN をそれぞれ指定します。パラメータの長さは最大 8 文字までに制限されます。長い数値はスペースで区切って指定します:</para>
      <screen>SET LOADDEV PORT 50050763 00C590A9 LUN 50010000 00000000</screen>
      <para>最後に IPL を実行します:</para>
      <screen>IPL FC00</screen>
      <para><literal>FC00</literal> は zFCP アダプタのアドレスの例です。実際のアドレスに置き換えてお使いください。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>KVM ゲストのインストール</term>
     <listitem>
      <para>インストールが完了したら、仮想マシンはシャットダウンされます。この時点で KVM ホストにログインして、仮想マシンの説明ファイルを編集したあと、インストール済みのシステムを IPL して起動します:</para>
      <procedure>
       <step>
        <para>KVM ホストにログインします。</para>
       </step>
       <step>
        <para>下記を実行して、ドメインの XML ファイルを編集します:</para>
        <screen>&prompt.sudo;<command>virsh edit s12-1</command></screen>
        <para>下記の行を削除します:</para>
<screen><![CDATA[  <!-- Boot kernel - インストール成功後、下記 3 行を削除 -->
  <kernel>/var/lib/libvirt/images/s12-kernel.boot</kernel>
  <initrd>/var/lib/libvirt/images/s12-initrd.boot</initrd>
  <cmdline>linuxrcstderr=/dev/console</cmdline>]]></screen>
       </step>
       <step>
        <para>&vmguest; を起動して、インストール済みのシステムを IPL します:</para>
        <screen>&prompt.sudo;<command>virsh start s12-1 --console</command></screen>
       </step>
      </procedure>
      <note>
       <title><literal>cio_ignore</literal> は KVM インストールでは無効化されます</title>
       <para>カーネルパラメータ <literal>cio_ignore</literal> は、利用可能なすべてのハードウエアを参照しないようにするパラメータです。しかしながら、 KVM ゲストではハイパーバイザが正しいデバイスへのアクセスのみを扱うようにするようになっています。そのため、 KVM ゲストをインストールしている場合は、 <literal>cio_ignore</literal> は既定で無効化されます (z/VM や LPAR のインストールの場合は、既定で有効化されます) 。</para>
      </note>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
  <sect2 xml:id="sec.s390.inst.reipl.reconnect" arch="zseries" os="sles">
   <title>&zseries;: インストール済みシステムへの接続</title>
   <para>システムの IPL が完了したら、あとは VNC, SSH, X などを利用して、システムにログインすることができます。 VNC や SSH での接続がお勧めです。システムの設定を後から変更したり、追加のソフトウエアパッケージをインストールしたりしたい場合は、 &yast; を起動してください。</para>
   <sect3 xml:id="sec.s390.inst.reipl.reconnect.vnc">
    <title>VNC を使用する接続</title>
    <para>3270 端末内のメッセージで、 Linux システムに対して VNC 接続するように求めます。しかしながら、このメッセージはカーネルのメッセージ内に埋もれてしまうものであり、メッセージに気がつく前に端末プロセスを終了していることも多いので、見逃してしまうことがあります。 5 分程度経過しても何も起こらない場合は、 VNC ビューアを利用して Linux システムに接続してみてください。</para>
    <para>JavaScript 対応のブラウザで接続する場合は、インストール済みのシステムの IP アドレスのほか、ポート番号を指定して接続します。具体的には下記のようになります:</para>
<screen>http://<replaceable>インストール済みのシステムの IP アドレス</replaceable>:5801/</screen>
   </sect3>
   <sect3 xml:id="sec.s390.inst.reipl.reconnect.ssh">
    <title>SSH を使用する接続</title>
    <para>3270 端末内のメッセージで、 Linux システムに対して SSH クライアントを利用して接続するように求めます。しかしながら、このメッセージはカーネルのメッセージ内に埋もれてしまうものであり、メッセージに気がつく前に端末プロセスを終了していることも多いので、見逃してしまうことがあります。</para>
    <para>メッセージが表示されたら、 SSH を利用して &rootuser; で Linux システムにログインします。接続が拒否されたり、タイムアウトしてしまったりした場合は、しばらく待ってから再接続してみてください (かかる時間は、サーバ側の設定値に依存します) 。</para>
   </sect3>
   <sect3 xml:id="sec.s390.inst.reipl.reconnect.x">
    <title>X を使用する接続</title>
    <para>インストール済みのシステムを起動したあとは、インストールの最初のフェーズで使用していた X サーバを起動したままにしていて、かつ DASD からの起動前に有効化されていることをご確認ください。 &yast; はこの X サーバを利用して、インストールを完了使用とします。システムが起動しても、 X サーバへの接続が行なわれるまでしばらくお待ちください。</para>
   </sect3>
  </sect2>
 </sect1>
</chapter>
