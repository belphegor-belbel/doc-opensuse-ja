<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter [
<!ENTITY % entities SYSTEM "generic-entities.ent">
%entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="cha-install">
 <title>インストール手順</title>
 <info>
  <abstract>
   <para>本章では、 &productname; でターゲットとなるデバイスにデータがコピーされるまでの流れを説明しています。この流れの中では、いくつかの基本的な設定パラメータについても、新しく作成されてインストール済みのシステムに反映されます。手順は GUI のグラフィカルな表示で行われます。 <phrase os="sles;sled">ここで説明している手順は、 <xref linkend="cha-remote-installation"/> で書かれているリモートからのインストールに対しても適用することができます。 </phrase> テキストモードでもインストールを行うことができますが、こちらでも流れは同じです (見た目だけの違いです) 。 <phrase os="sles;osuse">対話処理を介さない自動インストールに関する情報は、 <xref linkend="book-autoyast"/> をお読みください。</phrase></para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para os="sles">インストーラを起動する前に、まずは <xref linkend="part-prep"/> をお読みください。お使いのシステムのアーキテクチャによって、インストールを開始する際に行うべき手順が異なります。</para>

 <para>&productname; を初めてお使いになる場合は、 &yast; が提示する提案内容を、ほとんどの箇所でそのままお使いになることをお勧めします。ただし、ご利用の形態に応じて設定を調整してもかまいません。それぞれの手順におるヘルプは、 <guimenu>ヘルプ</guimenu> をお使いください。</para>

 <tip>
  <title>マウスを利用しないインストールについて</title>
  <para>インストールシステムがマウスを正しく検出できなかった場合は、 <keycap function="tab"/> で移動を、矢印 (カーソル) キーでスクロールを、 <keycap function="enter"/> で選択した項目の決定を、それぞれ行ってください。また、ボタンや選択肢の項目に、下線が引かれた文字が書かれている場合がありますが、この場合は <keycombo><keycap function="alt"/><keycap>文字</keycap></keycombo> を押すと、 <keycap function="tab"/> で移動することなく、ボタンや選択肢を直接選択することができます。</para>
 </tip>

 <sect1 xml:id="sec-yast-install-overview">
  <title>概要</title>
  <para>本章は、それぞれのインストール手順について概要を説明しています。各手順には、より細かい説明を得るためのリンクが用意されています。</para>
  <procedure>
   <step os="sles;sled;osuse">
    <para>インストールを始める前に、インストールシステムは自分自身を更新することができます。詳しくは <xref linkend="sec-yast-install-self-update"/> をお読みください。</para>
   </step>
   <step>
    <para><phrase os="sles;sled">言語と製品を選択することで、実際のインストールが始まります。</phrase> <phrase os="osuse">言語を選択し、ライセンス同意を受け入れることで、実際のインストールが始まります。</phrase> 詳しくは <xref linkend="sec-yast-install-welcome"/> をお読みください。</para>
   </step>
   <step os="sles;sled;slemicro">
    <para>ライセンス同意を受け入れます。詳しくは <xref linkend="sec-yast-install-license-agreement"/> をお読みください。</para>
   </step>
   <step arch="zseries" os="sles;slemicro">
    <para>&zseries; のマシンの場合は、ディスクの有効化作業が必要となります。詳しくは <xref linkend="sec-yast-install-s390-part"/> をお読みください。</para>
   </step>
   <step>
    <para>ネットワークの設定を行います。これはインストール時にネットワーク接続を必要とする場合で、 DHCP での自動ネットワーク設定が失敗したにのみ設定すべきものです。自動ネットワーク設定が成功した場合、この手順は飛ばされます。詳しくは <xref linkend="sec-yast-install-network"/> をお読みください。</para>
   </step>
   <step os="sles;sled">
    <para>ネットワークの接続が成功すると、 &scc; または &rmt; サーバにマシンを登録することができるようになります。詳しくは <xref linkend="sec-yast-install-scc-registration"/> をお読みください。</para>
   </step>
   <step os="sles;sled">
    <para>このマシンに対して有効化するモジュールを選択します。ここでの選択は、後続の手順でのシステムの役割やパッケージなどに影響します。詳しくは <xref linkend="sec-yast-install-modules"/> をお読みください。</para>
   </step>
   <step os="sles;sled">
    <para>手作業でリポジトリを追加することもできます。詳しくは <xref linkend="sec-yast-install-addons"/> をお読みください。</para>
   </step>
   <step os="osuse">
    <para>ここではオンラインリポジトリの設定を行います。公式の &opensuse; リポジトリを追加することで、さらなるソフトウエアへのアクセスを得ることができるほか、インストール時に最新のセキュリティ更新を適用することもできます。詳しくは <xref linkend="sec-yast-install-online-repos"/> をお読みください。この手順は任意で、飛ばすこともできます。</para>
   </step>
   <step os="sles;sled:osuse">
    <para>お使いのシステムの <phrase os="osuse">デスクトップもしくは</phrase> 役割を選択します。これにより既定でインストールするパッケージの一覧を決定するほか、ハードディスクのパーティション設定の提案にも影響します。詳しくは <xref linkend="sec-yast-install-system-role"/> をお読みください。</para>
   </step>
   <step os="sles;sled;osuse">
    <para>お使いのシステムでのパーティションを設定します。詳しくは <xref linkend="sec-yast-install-partitioning"/> をお読みください。</para>
   </step>
   <step>
    <para>タイムゾーンを選択します。詳しくは <xref linkend="sec-yast-install-date-time"/> をお読みください。</para>
   </step>
   <step os="sles">
    <para>ユーザを作成します。詳しくは <xref linkend="sec-yast-install-user"/> をお読みください。</para>
   </step>
   <step>
    <para>必要であれば、システム管理者である &rootuser; に対して、異なるパスワードを設定することもできます。詳しくは <xref linkend="sec-yast-install-user-root"/> をお読みください。</para>
   </step>
   <step>
    <para>最後の手順として、インストールシステムは全ての設定に関する概要を表示します。必要であれば、ここから変更することもできます。詳しくは <xref linkend="sec-yast-install-proposal"/> をお読みください。</para>
   </step>
   <step>
    <para>インストールシステムは必要な全てのデータをコピーしながら、進捗を表示します。詳しくは <xref linkend="sec-yast-install-perform"/> をお読みください。</para>
   </step>
  </procedure>
 </sect1>

 <sect1 os="sles;sled;osuse" xml:id="sec-yast-install-self-update">
  <title>インストーラの自己更新</title>

  <para>インストールやアップグレードの処理中に、 &yast; はリリース後に発見されたインストールシステム内のバグを解決するため、自分自身で自分自身を更新することができます。この機能は既定で有効化されています。無効化するには、起動パラメータ <option>self_update</option> に <literal>0</literal> を指定してください。詳しくは <xref linkend="sec-boot-parameters-advanced-self-update"/> をお読みください。</para>

<!--taroth 2019-09-12: same note used in ay_bigfile.xml-->
  <important os="sles;sled">
   <title>四半期ごとのメディア更新: 自己更新の無効化について</title>
   <para>インストーラの自己更新は、 &leanos; やパッケージ ISO の <literal>GM</literal> 版を使用した場合にのみ利用することができます。四半期ごとの更新 (名前に <literal>QU</literal> がついているもの) として公開されている ISO を利用した場合、自己更新は無効化され、動作することはありません。</para>
  </important>

  <important>
   <title>自己更新の際のネットワーク設定について</title>
   <para>インストールシステムの更新をダウンロードするには、 &yast; はネットワークへのアクセスを必要とします。既定では全てのネットワークインターフェイスに対して、 DHCP を利用してアクセスしようとします。お使いのネットワーク内に DHCP サーバが存在していれば、そのまま自動的に動作します。</para>
   <para>固定の IP アドレスを設定する必要がある場合は、起動パラメータ <literal>ifcfg</literal> を設定してください。詳しくは <link xlink:href="https://ja.opensuse.org/SDB:Linuxrc"/> にある linuxrc の文書をお読みください。</para>
  </important>

  <tip>
   <title>言語の選択</title>
   <para>インストールシステムの自己更新は、言語選択の手順よりも前に実行されます。そのため、自己更新の処理時の進捗表示やエラー表示などは、既定では英語での表示となります。</para>
   <para>この時点で英語以外の言語を使用したい場合は、お使いのアーキテクチャで対応していれば、起動パラメータ <literal>language</literal> を設定してください。たとえば日本語であれば、 <literal>language=ja_JP</literal> を指定します。それ以外にも、起動画面で <keycap>F2</keycap> を押して、表示された言語の一覧の中から選択してもかまいません。従来型の BIOS の搭載されたシステムの場合は、起動メニューが表示された時点で <keycap>F2</keycap> を押し、言語を選択してもかまいません。</para>
  </tip>

  <para>この機能はユーザに対して入力を求めない設計になっていますが、この動作の仕組みについては、知っておいたほうがよいでしょう。ご興味のない場合は、本章の残りを読まずに <xref linkend="sec-yast-install-welcome"/> まで読み飛ばしていただいてかまいません。</para>

  <sect2 xml:id="sec-yast-install-self-update-process">
   <title>自己更新処理</title>

   <para>この処理は主に 2 つの作業から構成されています:</para>

   <orderedlist spacing="normal">
    <listitem>
     <para>更新リポジトリの場所の判断</para>
    </listitem>
    <listitem>
     <para>インストールシステムに対する更新のダウンロードとインストール</para>
    </listitem>
   </orderedlist>

   <sect3 xml:id="sec-yast-install-self-update-determine-repo">
    <title>更新リポジトリの場所の判断</title>

    <para>インストーラの自己更新は、専用のリポジトリ内に通常の RPM パッケージとして配布されています。そのため、まずはリポジトリの URL を設定する必要があります。</para>
    <important>
     <title>自己更新リポジトリだけを指定してください</title>
     <para>下記に示すどのようなオプションを選択した場合であっても、インストーラの自己更新 URL だけを指定する必要があります。たとえば下記のようになります:</para>
<screen>self_update=https://www.example.com/my_installer_updates/</screen>
     <para>たとえばソフトウエアの更新リポジトリなど、他のリポジトリは指定してはなりません。</para>
    </important>
    <para>&yast; は情報源として下記のものを使用します:</para>

    <orderedlist spacing="normal">
     <listitem>
      <para>起動パラメータ <literal>self_update</literal> の内容 (詳しくは <xref linkend="sec-boot-parameters-advanced-self-update"/> をお読みください) 。 URL を指定した場合は、他の方式よりも優先して動作します。</para>
     </listitem>
     <listitem>
      <para>&ay; をお使いの場合は、プロファイル要素の <literal>/general/self_update_url</literal> の値。</para>
     </listitem>
     <listitem os="sles;sled">
      <para>登録サーバの設定。 &yast; は登録サーバに対して URL を尋ねます。使用すべきサーバは、下記の順序で判断が行われます:</para>
      <orderedlist spacing="normal">
       <listitem>
        <para>起動パラメータ <literal>regurl</literal> の設定値 (詳しくは <xref linkend="sec-boot-parameters-advanced-smt"/> をお読みください) 。</para>
       </listitem>
       <listitem>
        <para>&ay; をお使いの場合は、プロファイル要素の <literal>/suse_register/reg_server</literal> の値。</para>
       </listitem>
       <listitem>
        <para>SLP 検索の実施。 SLP サーバが見つかると、 &yast; はそれを使用すべきかどうかを尋ねます。なぜなら、この時点では何も認証を行っていないため、正規の登録サーバかどうかがわからないためです。</para>
       </listitem>
       <listitem>
        <para>&scc; の問い合わせ。</para>
       </listitem>
      </orderedlist>
     </listitem>
     <listitem>
      <para>上記までの検索が失敗した場合は、フォールバック URL (インストールメディア内に設定されています) を使用します。</para>
     </listitem>
    </orderedlist>
   </sect3>

   <sect3 xml:id="sec-yast-install-self-update-apply-updates">
    <title>更新のダウンロードと適用</title>

    <para>更新リポジトリの判断が完了したら、 &yast; は更新が利用できるかどうかを確認します。更新が利用できる場合、更新をダウンロードしてインストールシステムに反映します。</para>

    <para>最後に、 &yast; は反映した新しいバージョンを読み込むよう再起動を行い、ようこそ画面を表示します。何も更新が提供されていない場合は、インストールシステムは再起動することなく処理を続行します。</para>

    <note>
     <title>更新内容の検証について</title>
     <para>正当な更新であり、かつダウンロードが正しく行われていることを確認するため、更新に付属している署名が検証されます。署名が見つからない場合や、署名が正しくない場合、更新を適用すべきかどうかをユーザに確認します。</para>
    </note>
   </sect3>

   <sect3 xml:id="sec-yast-install-self-update-temporary-addon-repo">
    <title>自己更新アドオンリポジトリの一時使用について</title>

    <para>自己更新型のリポジトリ内で提供されるパッケージには、インストーラに対する追加のデータが含まれているものがあります。これらにはたとえば、インストール時の既定値やシステムの役割などが含まれます。インストーラ側で、自己更新型リポジトリ内にこのようなパッケージを見つけると、ローカル内に一時的なリポジトリを作成して、これらのパッケージをコピーする動作を行います。これらはインストールの最中に使用されますが、インストールが完了すると、作成した一時的なリポジトリは削除されます。そのため、これらのパッケージは、ターゲットのシステム内にはインストール <emphasis>されない</emphasis> ことになります。</para>

    <para>このような追加のリポジトリはアドオン製品として表示されることはありませんが、パッケージ管理システム内では <literal>SelfUpdate0</literal> リポジトリとして表示されることがあります。</para>
   </sect3>
  </sect2>

  <sect2 xml:id="sec-yast-install-self-update-custom">
   <title>独自の自己更新リポジトリ</title>

   <para>&yast; では起動パラメータ <literal>self_update</literal> を指定することで、公式のものではない、独自のリポジトリを使用することができます。この場合、下記の点にご注意ください:</para>

   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>HTTP/HTTPS/FTP のいずれかのリポジトリにのみ対応しています。</para>
    </listitem>
    <listitem>
     <para>RPM-MD 形式のリポジトリにのみ対応しています (&rmt; で必要となるためです) 。</para>
    </listitem>
    <listitem>
     <para>パッケージは通常の手順でインストールされることはありません。展開処理のみが行われ、スクリプトは実行されません。</para>
    </listitem>
    <listitem>
     <para>依存関係のチェックも行われません。パッケージはアルファベット順にインストールされます。</para>
    </listitem>
    <listitem>
     <para>オリジナルのインストールメディア内にあるファイルは、パッケージが提供するファイルで上書きされます。言い換えると、更新パッケージには全てのファイルが含まれているとは限らず、変更すべきファイルのみを含んでいることになります。変更の必要がないファイルは、メモリとダウンロード帯域の削減のため、パッケージ内では省略されています。</para>
    </listitem>
   </itemizedlist>

   <note>
    <title>リポジトリは 1 つしか指定できません</title>
    <para>現時点では、インストーラの自己更新を行うにあたって、複数のリポジトリを使用することはできません。</para>
   </note>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-welcome">
  <title><phrase os="sles;sled">言語／キーボード／製品選択</phrase> <phrase os="osuse">言語／キーボード／ライセンス同意</phrase></title>
  <figure>
  <title><phrase os="sles;sled">言語／キーボード／製品選択</phrase> <phrase os="osuse;slemicro">言語／キーボード／ライセンス同意</phrase></title>
   <mediaobject>
    <textobject role="description"><phrase>言語／キーボード／製品選択</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sled" fileref="install_product_sled.png" width="100%"/>
     <imagedata os="sles;slemicro" fileref="install_product_sles.png" width="100%"/>
     <imagedata os="osuse" fileref="install_welcome_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sled" fileref="install_product_sled.png" width="100%"/>
     <imagedata os="sles;slemicro" fileref="install_product_sles.png" width="100%"/>
     <imagedata os="osuse" fileref="install_welcome_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para><guimenu>言語</guimenu> と <guimenu>キーボードレイアウト</guimenu> の設定は、起動画面で選択した言語にあわせて設定されます。起動画面で何も設定を変更していない場合は、 English (US) (アメリカ英語) になります。ここでは、必要に応じて変更を行うことができます。</para>
  <para>言語の設定を変更すると、キーボードレイアウトについても自動的に設定されます。異なるキーボードレイアウトを使用したい場合は、ドロップダウンボックスを利用してキーボードレイアウトを選択してください。また、 <guimenu>キーボードのテスト</guimenu> にあるテキストボックスを利用することで、キーボードが正しく設定されているかどうかを確認することができます。また、ここで選択した言語は、システム時計のタイムゾーンの既定値としても使われます。 <phrase os="sles">なお、この設定はインストール後のシステムでも変更することができます。詳しくは <xref linkend="cha-yast-lang"/> をお読みください。</phrase></para>
  &product_selection;
  <para os="sles;sled">インストールする製品を選択します。それぞれの製品に対して、登録コードが必要となります。本文書では、 <phrase os="sles">&sls;</phrase> <phrase os="sled">&sled;</phrase> を選択したものとして記述します。選択したら <guimenu>次へ</guimenu> を押します。</para>
  <para os="osuse">ライセンス同意を読みます。起動画面で選択した言語で表示されます。その他の言語への翻訳は、 <guimenu>ライセンス言語</guimenu> のドロップダウンボックスを利用して表示させてください。ライセンス条件に同意できる場合は <guimenu>次へ</guimenu> を押して進めてください。合意できない場合は、 <guimenu>中止</guimenu> を押すことで、インストールを中止することができます。</para>
  <tip>
   <title>色やコントラスト (濃淡) の変更について</title>
   <para>インストーラに表示されるラベルが読みにくい場合、色やテーマを変更することをお勧めします。</para>
   <para>視覚に障害のある方の場合は、 <keycombo><keycap function="shift"/><keycap>F4</keycap></keycombo> キーを押して色の表示形態を変更してください。再度ボタンを押すと、元の表示に戻ります。</para>
   <para>また <keycombo><keycap function="shift"/><keycap>F3</keycap></keycombo> キーを押すと、テーマを選択するためのダイアログが表示されます。一覧からいずれかを選んで、 <guimenu>閉じる</guimenu> を押してください。</para>
  </tip>
 </sect1>

 <sect1 xml:id="sec-yast-install-license-agreement" os="sles;sled">
  <title>ライセンス同意</title>
  <figure os="sles;sled;slemicro">
   <title>ライセンス同意</title>
   <mediaobject>
    <textobject role="description"><phrase>ライセンス同意</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sled" fileref="install_license_sled.png" width="100%"/>
     <imagedata os="sles;slemicro" fileref="install_license_sles.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sled" fileref="install_license_sled.png" width="100%"/>
     <imagedata os="sles;slemicro" fileref="install_license_sles.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>ライセンス同意を読みます。起動画面で選択した言語で表示されます。その他の言語への翻訳は、 <guimenu>ライセンス言語</guimenu> のドロップダウンボックスを利用して表示させてください。 <phrase os="sles;sled">ライセンス条件に合意する場合は、 <guimenu>ライセンス条件に同意します</guimenu> にチェックを入れてから <guimenu>次へ</guimenu> を押すことで、インストールできるようになります。ライセンス合意に同意できない場合は、 &productname; をインストールすることができません。 <guimenu>中止</guimenu> を押してインストールを中止してください。</phrase> <phrase os="osuse"><guimenu>次へ</guimenu> を押すと、ライセンス同意を受け入れて先に進みます。ライセンス同意を受け入れることができない場合は、 <guimenu>中止</guimenu> を押してインストールをキャンセルしてください。</phrase></para>
 </sect1>

 <sect1 xml:id="sec-yast-install-s390-part" arch="zseries" os="sles;slemicro">
  <title>&zseries;: ディスクの有効化</title>
  <para>&zseries; プラットフォームにインストールする場合、言語選択のダイアログに続いて、接続されたハードディスクを設定するダイアログが表示されます。</para>
  <figure>
   <title>ディスクの有効化</title>
   <mediaobject>
    <textobject role="description"><phrase>ディスクの有効化</phrase></textobject>
    <imageobject role="fo">
     <imagedata fileref="install_zseries_disk_activation.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_zseries_disk_activation.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>&productname; をインストールするのに使用する DASD, Fibre Channel Attached SCSI Disks (zFCP), iSCSI のいずれかを選択します。 DASD と zFCP の設定ボタンは、関連するデバイスが接続されている場合にのみ表示されます。 <phrase os="sles">iSCSI ディスクの設定方法について、詳しくは <xref linkend="sec-iscsi-initiator"/> をお読みください。</phrase></para>
  <para><guimenu>ネットワーク設定</guimenu> ダイアログを起動することで、この画面内の<guimenu>ネットワーク設定</guimenu> を変更することもできます。一覧からネットワークインターフェイスを選択して、 <guimenu>編集</guimenu> を押すと、設定を変更することができます。なお、 DNS やルーティングを設定する場合は、タブを選択してください。 <phrase os="sles">詳しくは <xref linkend="sec-network-yast"/> をお読みください。</phrase></para>

  <sect2 xml:id="sec-yast-install-s390-part-dasd">
   <title>DASD ディスクの設定</title>
   <para>&zseries; 以外のハードウエアにインストールしている場合は、この手順は飛ばしてください。</para>
   <figure xml:id="fig-s390-yast2-i-y2-sel-dasd">
    <title>DASD ディスク管理</title>
    <mediaobject>
     <textobject role="description"><phrase>DASD ディスク管理</phrase></textobject>
     <imageobject role="fo">
      <imagedata width="100%" fileref="install_zseries_dasd.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata width="100%" fileref="install_zseries_dasd.png"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para><guimenu>DASD ディスクの設定</guimenu> での選択を行うと、概要に利用可能な全ての DASD が表示されるようになります。利用可能なデバイスに対して、よりわかりやすい表示をするには、一覧の上にあるテキストボックスで表示するチャンネル範囲を指定してください。範囲を指定したあとは、 <guimenu>フィルタ</guimenu> を選択します。</para>
   <para>一覧内で DASD を選択し、インストールに使用するものを選択します。 <guimenu>すべてを選択</guimenu> を押すと、現在表示されている DASD をすべて選択することができます。また、 <menuchoice> <guimenu>アクションの実行</guimenu> <guimenu>有効化</guimenu> </menuchoice> を選択すると、選択した DASD をインストールに利用できるようにします。 DASD をフォーマットするには、 <menuchoice><guimenu>アクションの実行</guimenu> <guimenu>フォーマット</guimenu> </menuchoice> を選択してください。なお、後続の手順である <xref linkend="sec-expert-partitioner"/> で説明しているとおり、 &yast; パーティション設定でもフォーマットを行うことができます。</para>
  </sect2>
  <sect2 xml:id="sec-yast-install-s390-part-zfcp">
   <title>zFCP ディスクの設定</title>
   <para>&zseries; 以外のハードウエアにインストールしている場合は、この手順は飛ばしてください。</para>
   <figure xml:id="fig-install-zseries-zfcp">
    <title>設定済みの zFCP デバイス</title>
    <mediaobject>
     <textobject role="description"><phrase>設定済みの zFCP デバイス</phrase></textobject>
     <imageobject role="fo">
      <imagedata width="100%" fileref="install_zseries_zfcp.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata width="100%" fileref="install_zseries_zfcp.png"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para><guimenu>設定済みの zFCP ディスク</guimenu> を選択すると、システム内にある zFCP ディスクを一覧表示するダイアログが表示されます。このダイアログでは <guimenu>追加</guimenu> を押すことで、 zFCP パラメータを入力するための別のダイアログを表示することができます。</para>
   <para>&productname; のインストールで zFCP ディスクを利用するには、まずドロップダウンボックスで <guimenu>チャネル番号</guimenu> を選択してください。<guimenu>WWPN の取得</guimenu> (World Wide Port Number) と <guimenu>LUN の取得</guimenu> (Logical Unit Number) を利用することで、利用可能な WWPN と FCP-LUN を得ることができます。自動的な LUN の検出は、 NPIV が有効化されている場合にのみ動作します。</para>
   <para>設定が終わったら <guimenu>次へ</guimenu> ボタンを押して zFCP ダイアログを終了し、 <guimenu>完了</guimenu> ボタンを押して一般的なハードディスクの設定ダイアログも終わらせてください。あとは残りの設定を行います。</para>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-network">
  <title>ネットワーク設定</title>
  <para>インストールシステムが起動すると、まずはインストールルーチンが始まります。この処理では、少なくとも 1 つのネットワークインターフェイスに対して、 DHCP による設定を試みます。この試みが失敗した場合、 <guimenu>ネットワーク設定</guimenu> のダイアログが表示されます。</para>
  <figure>
   <title>ネットワーク設定</title>
   <mediaobject>
    <textobject role="description"><phrase>ネットワーク設定</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled;slemicro" fileref="install_network.png" width="100%"/>
     <imagedata os="osuse" fileref="install_network_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled;slemicro" fileref="install_network.png" width="100%"/>
     <imagedata os="osuse" fileref="install_network_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>一覧からネットワークインターフェイスを選択し、 <guimenu>編集</guimenu> を押して設定を編集します。ここではタブを利用することで、 DNS やルーティングも設定することができます。 <phrase os="sles;sled;osuse">詳しくは <xref linkend="sec-network-yast"/> をお読みください。</phrase> <phrase os="sles" arch="zseries">&zseries; では、このダイアログは自動では表示されません。 <guimenu>ディスクの有効化</guimenu> の手順内で起動することができます。</phrase></para>
  <para>インストール処理時に DHCP による設定が成功した場合は、 <phrase os="sles;sled"><guimenu>&scc; の登録</guimenu> の手順で</phrase> <guimenu>ネットワーク設定</guimenu> を押すことでも、このダイアログにアクセスすることができます。これにより、自動的に設定された値を変更することができます。</para>
  <note>
   <title>起動パラメータを指定した場合のネットワーク設定について</title>
   <para>起動パラメータで 1 つ以上のネットワークインターフェイスを設定 (詳しくは <xref linkend="sec-boot-parameters-list-network"/> をお読みください) した場合、 DHCP による自動設定は無効化され、起動パラメータでの設定を取り込んで使用します。</para>
  </note>
  <tip>
   <title>ネットワークストレージやローカル RAID へのアクセス</title>
   <para>インストール時に SAN やローカルの RAID にアクセスするには、下記の手順で libstorage のコマンドラインクライアントをお使いください:</para>
   <orderedlist>
    <listitem>
     <para><keycombo><keycap function="control"/> <keycap function="alt"/> <keycap>F2</keycap></keycombo> を押してコンソールに切り替えます。</para>
    </listitem>
    <listitem>
     <para><command>extend libstoragemgmt</command> を実行して、 libstoragemgmt 拡張をインストールします。</para>
    </listitem>
    <listitem>
     <para>これで <command>lsmcli</command> コマンドを使用できるようになります。詳しくは <command>lsmcli --help</command> を実行してください。</para>
    </listitem>
    <listitem>
     <para>インストールシステムに戻るには、 <keycombo><keycap function="alt"/> <keycap>F7</keycap></keycombo> を押してください。</para>
    </listitem>
   </orderedlist>
   <para>Netapp Ontap, SMI-S 互換の SAN プロバイダ, LSI MegaRAID にそれぞれ対応しています。</para>
  </tip>
 </sect1>

 <sect1 xml:id="sec-yast-install-scc-registration" os="sles;sled;slemicro">
  <title>登録</title>
  <para>技術サポートや製品の更新を受け取るためには、 &scc; もしくはローカルの登録サーバに対して、お使いの製品を登録してアクティベートする必要があります。この段階で &productname; を登録しておくと、即時に更新リポジトリにアクセスできるようになります。これにより、最新の更新や修正を適用したシステムをすぐに構築できるようになります。</para>
  <para>登録を行う場合、次の手順でインストールすることのできるモジュールや拡張向けのリポジトリと依存関係は、登録サーバから読み込むようになります。</para>
  <para>このダイアログでは、 <guimenu>ネットワークの設定</guimenu> を押すことで、 &yast; の <guimenu>ネットワーク設定</guimenu> モジュールに切り替えることができます。 <phrase os="sles;sled;osuse">詳しくは <xref linkend="sec-network-yast"/> をお読みください。</phrase></para>
  <para>オフライン環境にいる場合や、ここでの登録を飛ばしたい場合は、 <guimenu>登録を行わずに飛ばす</guimenu> を選択してください。詳しくは <xref linkend="sec-yast-install-scc-registration-none"/> をお読みください。</para>

  <sect2 xml:id="sec-yast-install-scc-registration-manually">
   <title>手作業での登録</title>
   <para>&scc; で登録を行う場合は、 SCC アカウントに関連づけられた <guimenu>電子メールアドレス</guimenu> と、 &productname; に対応する <guimenu>登録コード</guimenu> をそれぞれ入力します。</para>
   <para>ご利用の組織内でローカルの登録サーバを提供しているような場合は、その登録サーバに対して登録することもできます。この場合は、 <guimenu>ローカル SMT サーバを使用してシステムを登録する</guimenu> を選択して、ドロップダウンボックスから URL を選択するか、アドレスを入力してください。登録処理を始めるには、 <guimenu>次へ</guimenu> を押します。</para>
   <para>&scc; を利用して登録する場合は、 &productname; に対する <guimenu>登録コード</guimenu> を入力します。ご利用の組織内でローカルの登録サーバを提供しているような場合は、その登録サーバに対して登録することもできます。この場合は、 <guimenu>ローカル &rmt; サーバを使用してシステムを登録する</guimenu> を選択して、ドロップダウンボックスから URL を選択するか、アドレスを入力してください。登録処理を始めるには、 <guimenu>次へ</guimenu> を押します。</para>
   <para><guimenu>次へ</guimenu> を押して登録処理を開始します。</para>
   <figure>
    <title>&scc; への登録</title>
    <mediaobject>
     <textobject role="description"><phrase>&scc; への登録</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sles;slemicro" fileref="install_registration_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_registration_sled.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles;slemicro" fileref="install_registration_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_registration_sled.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>

   <note os="sled">
    <title>リポジトリの信頼</title>
    <para>お使いのハードウエアに依存しますが、登録時にハードウエアドライバを含むリポジトリを追加することもできます。この場合は、それらのリポジトリを <guimenu>信頼する</guimenu> よう求められることがあります。</para>
   </note>

   <tip>
    <title>インストール時点での製品修正のインストールについて</title>
    <para>&productname; の登録が完了すると、オンラインリポジトリで提供されている最新の更新を、インストール時に適用するかどうかを尋ねられます。 <guimenu>はい</guimenu> を選択すると、インストールシステムは最新のパッケージをインストールするようになります。これにより、インストール後に更新をインストールする必要がなくなります。</para>
   </tip>

   &note_firewall_updates;

   <para>インストール時にシステムの登録が成功すると、インストールが完了した時点で、 &yast; は CD/DVD や USB メモリなど、ローカルのインストールメディアのリポジトリを無効化します。これにより、インストールソースが利用できない場合に発生しうる問題を回避することができるほか、オンラインのリポジトリが提供する最新の更新を常に適用できるようになります。</para>
  </sect2>
  <sect2 xml:id="sec-yast-install-scc-registration-usb">
   <title>USB メモリからの登録コードの読み込み</title>
   <para>登録処理をより効率的に行うために、 USB メモリなどの USB ストレージデバイス内に登録コードを保存することができます。 &yast; は、これを検出すると関連するテキストボックスを自動的に埋めるようになります。これは特に、インストールのテストの際に便利になるほか、多数のシステムや拡張を登録しなければならないような場合に有用です。</para>
   <para>まずは <filename>regcodes.txt</filename> もしくは <filename>regcodes.xml</filename> というファイル名で、ファイルを作成します。なお、 USB メモリ内に両方のファイルが存在する場合は、 XML を優先的に使用します。</para>
   <para>作成したファイル内に、 <command>zypper search --type product</command> で表示される名前で製品を指定し、それぞれに対応する登録コードを記述します。たとえば下記のようになります:</para>
   <example xml:id="ex-i-yast2-conf-manual-cc-usb-txt">
    <title><filename>regcodes.txt</filename></title>
<screen>SLES    cc36aae1
SLED    309105d4

sle-we  5eedd26a
sle-live-patching 8c541494</screen>
   </example>
   <example xml:id="ex-i-yast2-conf-manual-cc-usb-xml">
    <title><filename>regcodes.xml</filename></title>
<screen language="xml"><![CDATA[
<?xml version="1.0"?>
<profile xmlns="http://www.suse.com/1.0/yast2ns"
 xmlns:config="http://www.suse.com/1.0/configns">
  <suse_register>
    <addons config:type="list">
      <addon>
<name>SLES</name>
<reg_code>cc36aae1</reg_code>
      </addon>
      <addon>
<name>SLED</name>
<reg_code>309105d4</reg_code>
      </addon>
      <addon>
<name>sle-we</name>
<reg_code>5eedd26a</reg_code>
      </addon>
      <addon>
<name>sle-live-patching</name>
<reg_code>8c541494</reg_code>
      </addon>
    </addons>
  </suse_register>
</profile>]]></screen>
   </example>
   <para os="sles;sled"><literal>&slsa;</literal> や <literal>&sleda;</literal> は拡張ではありませんが、単一のファイル内で複数の基本製品に対する登録コードを記述する目的で、それらをアドオンとして記述しています。 <phrase os="sles">詳しくは <xref linkend="CreateProfile-Register-Extension"/> をお読みください。</phrase></para>

   <note>
    <title>制限事項</title>
    <para>現時点では、フラッシュメモリはインストールやアップグレードの際にのみ検出される仕組みであり、システム稼働中には動作しません。</para>
   </note>
  </sect2>

  <sect2 xml:id="sec-yast-install-scc-registration-none">
   <title>登録無しでのインストール</title>
   <para>オフライン環境にいる場合や、ここでの登録を飛ばしたい場合は、 <guimenu>登録を行わずに飛ばす</guimenu> を選択してください。警告メッセージが表示されますが、 <guimenu>OK</guimenu> および <guimenu>次へ</guimenu> を押して先に進んでください。</para>
   <important>
    <title>登録処理を飛ばす際の注意事項</title>
    <para>更新を受信し、サポートを受ける権利を得るには、お使いのシステムと拡張をそれぞれ登録する必要があります。なお、登録を行わずにインストールを行うには、 <filename>&packagemedia;</filename> イメージからインストールを行う必要があります。</para>
   </important>

   <figure>
    <title>登録無しでのインストール</title>
    <mediaobject>
     <textobject role="description"><phrase>登録無しでのインストール</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sles;slemicro" fileref="install_registration_offline_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_registration_offline_sled.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles;slemicro" fileref="install_registration_offline_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_registration_offline_sled.png" width="100%"/>

     </imageobject>
    </mediaobject>
   </figure>

   <note>
    <title>&productname; の登録</title>
    <para>更新を受信し、サポートを受ける権利を得るには、システムと拡張をそれぞれ登録する必要があります。インストール時に登録処理を行っていない場合は、インストールしたシステムを起動したあとでも登録を行うことができます。登録を行うには、 <menuchoice><guimenu>&yast;</guimenu> <guimenu>Product Registration</guimenu></menuchoice> を選択してください。</para>
   </note>

   <!-- cwickert 2020-03-18: Old content from the 'offline' section -->
   <!--
   <para>
    If you perform an installation without connecting to a registration server,
    you cannot register your system during the installation. Therefore you
    cannot receive the repository configuration for modules and
    extensions from the registration server. To enable a regular installation,
    &suse; offers a second installation medium, the &packagemedia; image.
   </para>

   <para>
    To perform the installation without registration, make sure the contents
    of the &packagemedia; image can be accessed during the installation. This
    can be achieved by copying it to a local hard disk or a removable flash
    disk or by making it available in the local
    network. Choose a method that is supported by your hardware.
   </para>
   -->

   <tip>
    <title>インストールメディアのイメージからリムーバブルディスクへのデータコピーについて</title>
    <remark>Not a suitable location for this tip.</remark>
    <para>インストールイメージの内容をリムーバブルディスクにコピーするには、下記のコマンドを入力して実行してください。</para>
    <screen>&prompt.sudo;dd if=<replaceable>イメージファイルのパス</replaceable> of=<replaceable>リムーバブルディスク</replaceable> bs=4M &amp;&amp; sync</screen>
    <para>ここで、 <replaceable>イメージファイルのパス</replaceable> には、 <filename>&installmedia;</filename> もしくは <filename>&packagemedia;</filename> のパスを指定します。また、 <replaceable>リムーバブルディスク</replaceable> にはリムーバブルディスクのデバイス名を指定します。デバイス名を識別するには、メディアを挿入したあと下記のコマンドを実行します:</para>
    <screen>&prompt.root;grep -Ff &lt;(hwinfo --disk --short) &lt;(hwinfo --usb --short)
     disk:
     /dev/sdc             General USB Flash Disk</screen>
    <para>なお、書き込むイメージに対して十分な容量のデバイスを指定してください。デバイスのサイズを知りたい場合は、下記のコマンドを実行します:</para>
    <screen>&prompt.root;fdisk -l /dev/sdc | grep -e "^/dev"
     /dev/sdc1  *     2048 31490047 31488000  15G 83 Linux</screen>
    <para>上記の例では、デバイスに 15GB の容量が存在しています。 <filename>&packagemedia;</filename> の内容を書き込む場合は、下記のようなコマンドを実行します:</para>
    <screen>dd if=&packagemedia; of=/dev/sdc bs=4M &amp;&amp; sync</screen>
    <para>なお、 <command>dd</command> コマンドを実行する際には、対象となるパーティションをマウントしていてはなりません。また、パーティション内のすべての情報が消去されます！</para>
   </tip>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-modules" os="sles;sled">
  <title>拡張とモジュールの選択</title>
  <para>このダイアログでは、 &productname; 向けに提供されているモジュールと拡張が一覧で表示されています。モジュールは要件に応じて製品を変えることのできる部品で、これらは無償で提供されています。拡張は製品に対して追加の機能を提供するもので、有償の購読契約と登録キーが必要となります。</para>
  <para>利用できるモジュールや拡張は、インストールの最初の段階で選択した製品によって異なります。モジュールの説明とそれらのライフサイクル情報を読みたい場合は、付属するテキストファイルをお読みください。なお、さらに詳しい情報が <link xlink:href="https://documentation.suse.com/sles-15/html/SLES-all/article-modules.html">&modulesquick;</link> に書かれています。</para>
  <para>モジュールを選択すると、インストールの範囲についても影響を及ぼします。これは、モジュールの選択によって、インストール時や動作中のシステムに対するソフトウエアのソース (リポジトリ) の設定が異なることによるものです。</para>

  <figure>
   <title>拡張とモジュールの選択</title>
   <mediaobject>
    <textobject role="description"><phrase>拡張とモジュールの選択</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sled" fileref="install_extensions_sled.png" width="100%"/>
     <imagedata os="sles" fileref="install_extensions_sles.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sled" fileref="install_extensions_sled.png" width="100%"/>
     <imagedata os="sles" fileref="install_extensions_sles.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  &extension_module_selection;


 </sect1>

 <sect1 xml:id="sec-yast-install-addons" os="sles;sled">
  <title>アドオン製品</title>
  <para><guimenu>アドオン製品</guimenu> ダイアログでは、 &productname; に対する &scc; では提供されていない追加のソフトウエアソース (<quote>リポジトリ</quote> と呼びます) を設定することができます。このようなアドオンには、お使いのシステムに対するサードパーティ製の製品やドライバのほか、追加のソフトウエアも用意されていることがあります。</para>
  <figure>
   <title>アドオン製品</title>
   <mediaobject>
    <textobject role="description"><phrase>アドオン製品</phrase></textobject>
    <imageobject role="fo">
     <imagedata fileref="install_addon.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_addon.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>このダイアログでは、 <guimenu>ネットワークの設定</guimenu> を押すことで、 &yast; の <guimenu>ネットワーク設定</guimenu> モジュールに切り替えることができます。 <phrase os="sles;sled">詳しくは <xref linkend="sec-network-yast"/> をお読みください。</phrase></para>
  <tip>
   <title>インストール時のドライバの追加について</title>
   <para><guimenu>アドオン製品</guimenu> を介して、ドライバの更新リポジトリを追加することもできます。 &sle; に対するドライバ更新は、 <link xlink:href="http://drivers.suse.com/"/> で提供されています。これらのドライバは、 &suse; SolidDriver プログラムで作成されているものです。</para>
  </tip>
  <para>アドオンを追加したくない場合は、 <guimenu>次へ</guimenu> で先に進みます。追加する場合は、 <guimenu>アドオン製品をインストールします</guimenu> を選択してください。あとは CD, DVD, ハードディスク, USB マスストレージ, ローカルディレクトリ, ローカル ISO イメージの中からメディアの種類を選択します。この時点までにネットワークを設定している場合は、 HTTP, SLP, FTP などのリモートソースを利用することもできます。 URL を直接指定してもかまいません。この時点でリポジトリの説明をダウンロードしたい場合は、 <guimenu>リポジトリの説明をダウンロード</guimenu> を選択します。選択しない場合は、インストールが始まったあとにダウンロードが行われます。選択が終わりましたら <guimenu>次へ</guimenu> を押して進め、必要に応じて CD や DVD などを挿入してください。</para>
  <para>アドオンの内容によっては、追加のライセンス同意を受け入れる必要があります。</para>
 </sect1>

 <sect1 xml:id="sec-yast-install-online-repos" os="osuse">
  <title>オンラインリポジトリ</title>
  <para>システムの分析処理を行います。ここではストレージデバイスの検出のほか、既にインストールされている他のシステムも検出しようとします。また、インターネットへの接続が利用できる場合は、オンラインのリポジトリを使用するかどうかを尋ねられます。通常は <guimenu>はい</guimenu> を押して進めてください。インターネットへの接続が検出できなかった場合、この手順は行われません。</para>
  <informalfigure>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="install_onlinerepos_ask_osuse.png" width="75%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_onlinerepos_ask_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </informalfigure>
  <para>オンラインのリポジトリは公式の &opensuse; パッケージリポジトリです。これらはインストールメディア内に含まれていない追加のパッケージのほか、セキュリティ修正やバグ修正など、オンラインでの更新を提供するものもあります。既定の選択肢のまま進めていくと、少なくとも <guimenu>Main Update Repository</guimenu> (<guimenu>メインの更新用リポジトリ</guimenu>) が追加されますが、これによってお使いのシステムに対して、最新のセキュリティ修正を適用できるようになっています。</para>
  <informalfigure>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="install_onlinerepos_osuse.png" width="75%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_onlinerepos_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </informalfigure>
  <para>なお、リポジトリには下記のようなものがあります:</para>
  <itemizedlist>
   <listitem>
    <para><guimenu>メインリポジトリ (Main Repository)</guimenu> には、オープンソース (OSS) のソフトウエアが含まれています。 DVD のインストールメディアよりも多くのソフトウエアパッケージが用意されているほか、上述のデスクトップシステムのソフトウエアも数多く用意されています。デスクトップシステムをインストールする場合は、必ず選択しておくことをお勧めします。</para>
   </listitem>
   <listitem>
    <para>また、 <guimenu>Update repository with updates from SUSE Linux Enterprise 15</guimenu> と <guimenu>Update repository from openSUSE Backports</guimenu> には、メインリポジトリ に対する各種の更新が含まれています。どのようなインストール方針であっても、必ず選択しておくことをお勧めします。</para>
   </listitem>
   <listitem>
    <para><guimenu>非オープンソースリポジトリ (Non-OSS Repository)</guimenu> には、プロプライエタリな (オープンソースではない) ソフトウエアライセンスで提供されるソフトウエアが含まれています。通常のデスクトップ環境を構築する場合であれば、特に必須のものではありません。</para>
   </listitem>
   <listitem>
    <para><guimenu>更新リポジトリ (非オープンソース)</guimenu> は、 <guimenu>非オープンソースリポジトリ (Non-OSS Repository)</guimenu> を選択した場合に合わせて選択しておくことをお勧めします。ここには非オープンソースのソフトウエアに対する更新やセキュリティ修正などが含まれています。</para>
   </listitem>
   <listitem>
    <para>上記以外のリポジトリは、高度なユーザや開発者に向けて用意されているものです。詳しくはそれぞれのリポジトリを選択した際に表示される説明文をお読みください。</para>
   </listitem>
  </itemizedlist>
  <para>選択が完了したら <guimenu>次へ</guimenu> を押します。選択した項目によっては追加のライセンス同意を求められる場合がありますが、 <guimenu>システムの役割</guimenu> の画面に進むまで <guimenu>次へ</guimenu> を押していってください。さらに次に進むには、そのまま <guimenu>次へ</guimenu> を押します。</para>
 </sect1>

 <sect1 os="sles;sled;osuse" xml:id="sec-yast-install-system-role">
  <title>システムの役割</title>
  <para>&productname; には幅広い機能が用意されています。インストールを簡略化するため、インストーラは事前に用意された用途を選択することで、それぞれの要件に適合した構成を利用することができるようになっています。</para>
  <figure>
   <title>システムの役割</title>
   <mediaobject>
    <textobject role="description"><phrase>システムの役割</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles" fileref="install_system_role_sles.png" width="100%"/>
     <imagedata os="sled" fileref="install_system_role_sled.png" width="100%"/>
     <imagedata os="osuse" fileref="install_ui_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles" fileref="install_system_role_sles.png" width="100%"/>
     <imagedata os="sled" fileref="install_system_role_sled.png" width="100%"/>
     <imagedata os="osuse" fileref="install_ui_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para><guimenu>システムの役割</guimenu> で、最も要件に近いものを選択します。システムの役割では、モジュールと拡張の選択によって選択肢が決まります。そのため、下記の状況下では、このダイアログが表示されなくなります:</para>
  <itemizedlist>
   <listitem>
    <para>有効化されたモジュールが、対応する基本製品に対して <emphasis>何も役割を提供していない場合</emphasis> 。この場合、この製品に対する既定の設定を適用してインストールを行うことになります。</para>
   </listitem>
   <listitem>
    <para>有効化されたモジュールが、対応する基本製品に対して <emphasis>1 つだけ役割を提供しているような場合</emphasis> 。この場合、その役割を選択したものとみなしてインストールを行うことになります。</para>
   </listitem>
  </itemizedlist>

  <para>既定の選択では、下記のようなシステムの役割が用意されています:</para>
  <variablelist os="sles">
   <varlistentry>
    <term><guimenu>テキストモード</guimenu></term>
    <listitem>
     <para>このオプションを選択すると、コマンドラインツールが豊富に用意された、デスクトップ環境の無い基本的な &slsa; 環境をインストールします。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>最小限</guimenu></term>
    <listitem>
     <para>基本的なコマンドラインツールだけを利用することのできる、非常に小さなインストールを行いたい場合の役割です。</para>
     <para><emphasis>依存関係:</emphasis> なし</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>KVM 仮想化ホスト</guimenu></term>
    <listitem>
     <para>他の仮想マシンを実行する、 KVM ホストとして動作するマシンをインストールする際のシナリオです。 <filename>/var/lib/libvirt</filename> が個別のパーティションとして設定されるほか、ファイアウオールと Kdump が無効化されます。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, サーバアプリケーション</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Xen 仮想化ホスト</guimenu></term>
    <listitem>
     <para>他の仮想マシンを実行する、 &xen; ホストとして動作するマシンをインストールする際のシナリオです。 <filename>/var/lib/libvirt</filename> が個別のパーティションとして設定されるほか、ファイアウオールと Kdump が無効化されます。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, サーバアプリケーション</para>
    </listitem>
   </varlistentry>
  </variablelist>

  <variablelist os="sled">
   <varlistentry>
    <term><guimenu>GNOME デスクトップ (Wayland)</guimenu></term>
    <listitem>
     <para>オフィススイートや電子メールクライアント、 Web ブラウザやファイルマネージャを含む完全機能の GNOME デスクトップ環境をインストールします。 Wayland テクノロジーを使用して、物理システムへのインストールに最適化されています。ネットワーク上離れた場所からのデスクトップアクセスには対応して <emphasis>いません</emphasis> 。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, デスクトップアプリケーション, &slewe;</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>GNOME デスクトップ (X11)</guimenu></term>
    <listitem>
     <para>オフィススイートや電子メールクライアント、 Web ブラウザやファイルマネージャを含む完全機能の GNOME デスクトップ環境をインストールします。ネットワーク上離れた場所からのデスクトップアクセスにも対応しています。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, デスクトップアプリケーション, &slewe;</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>GNOME デスクトップ (基本)</guimenu></term>
    <listitem>
     <para>ごく限られたグラフィカルアプリケーション (たとえばファイルマネージャや Web ブラウザなど) だけがインストールされる GNOME デスクトップ環境をインストールします。 X11 テクノロジーを使用します。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム, デスクトップアプリケーション</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>IceWM デスクトップ (最小限)</guimenu></term>
    <listitem>
     <para>最小限のグラフィカルアプリケーション (たとえば xterm) だけがインストールされる軽量型の IceWM デスクトップ環境をインストールします。 X11 テクノロジーを使用します。</para>
     <para><emphasis>依存関係:</emphasis> 基本システム</para>
    </listitem>
   </varlistentry>
  </variablelist>
  <variablelist os="osuse">
   <varlistentry>
    <term><guimenu>KDE Plasma を利用するデスクトップ</guimenu></term>
    <listitem>
     <para>完全な PIM スイート (メール, カレンダー, タスク, メモ, フィード) の付属しているパワフルなデスクトップ環境です。デスクトップ内にウイジェットを動作させることができるほか、さまざまな機能が用意されています。 Windows に慣れ親しんでいる場合は、 KDE の選択をお勧めします。詳しくは <link xlink:href="https://kde.org/"/> をお読みください。</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>GNOME を利用するデスクトップ</guimenu></term>
    <listitem>
     <para>代替的ではありながら革新的なユーザエクスペリエンスを提供するデスクトップ環境です。 GNOME は使いやすさと生産性を念頭に置いて設計されています。詳しくは <link xlink:href="https://www.gnome.org/"/> をお読みください。</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Xfce を利用するデスクトップ (Desktop with Xfce)</guimenu></term>
    <listitem>
     <para>軽量な従来型のデスクトップ環境です。詳しくは <link xlink:href="https://www.xfce.org/"/> をお読みください。</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>汎用デスクトップ</guimenu></term>
    <listitem>
     <para>KDE, GNOME, Xfce 以外のデスクトップ環境を使用したい場合は、このオプションを選択します。この場合は、後続の <guimenu>インストール設定</guimenu> のダイアログで <guimenu>ソフトウエア</guimenu> を選択して、下記のようなデスクトップ環境をインストールすることができます:</para>
     <simplelist>
      <member>Enlightenment ( <link xlink:href="https://www.enlightenment.org/"/> )</member>
      <member>LXDE ( <link xlink:href="https://lxde.org/"/> )</member>
      <member>LXQT ( <link xlink:href="https://lxqt.org/"/> )</member>
      <member>MATE ( <link xlink:href="https://mate-desktop.org/"/> )</member>
     </simplelist>
     <para>なお DVD からインストールを行っている場合は、 <guimenu>オンラインリポジトリ</guimenu> の手順で <guimenu>メインリポジトリ (OSS)</guimenu> を有効化する必要があります。既に先の手順に進んでしまっている場合は、 <guimenu>戻る</guimenu> を押してその画面まで戻り、設定を行ってください。設定を行ったら <guimenu>次へ</guimenu> を押し、オンラインリポジトリの追加に同意して進めてください。</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>サーバ</guimenu></term>
    <listitem>
     <para>サーバ環境を構築したい場合、一般的にはオフィススイートなど、グラフィカルなユーザインターフェイスをインストールする必要はありません。これにより、サーバ環境で不要なパッケージをインストールするのを防ぐことができます。</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>トランザクション型サーバ</guimenu></term>
    <listitem>
     <para>これはサーバを選択した場合と似ていますが、読み込み専用のルートパーティションを設定し、ソフトウエアを一括で更新する仕組みを構成することができます。この選択肢は openSUSE Kubic をセットアップする場合には必須となっています。トランザクション型サーバについて、詳しくは <link xlink:href="https://kubic.opensuse.org/blog/2018-04-04-transactionalupdates/"/> (英語) をお読みください。</para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>

 <sect1 xml:id="sec-yast-install-partitioning">
  <title>パーティション設定</title>
  <sect2 xml:id="sec-yast-install-partitioning-important">
   <title>重要な情報</title>
   <remark>Include information that BTRFS with enabled snapshots is mandatory for SLE Micro root fs.</remark>
   <warning>
    <title>本章の内容をよくお読みください</title>
    <para><xref linkend="sec-yast-install-partitioning-suggested"/> に進む前に、あらかじめ本章の内容をよくお読みください。</para>
   </warning>
     <variablelist>
    <varlistentry>
     <term>UEFI マシンでの独自のパーティション設定</term>
     <listitem>
      <para>UEFI マシンの場合、 <filename>/boot/efi</filename> にマウントされる EFI システムパーティションが <emphasis>必要</emphasis> です。このパーティションは、 <literal>FAT32</literal> ファイルシステムでマウントされていなければなりません。</para>
      <para>EFI パーティションが既に存在している場合 (たとえば以前に Windows がインストールされていたような場合) は、フォーマットし直すことなく <filename>/boot/efi</filename> にマウントすることができます。</para>
      <para>UEFI マシンで EFI システムパーティションが見つからない場合、必ずこれを作成するようにしてください。 EFI システムパーティションは物理パーティションか、 RAID 1 でなければなりません。その他の RAID レベルや LVM などの技術には対応していません。また、 FAT32 ファイルシステムでフォーマットする必要があります。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>独自のパーティション設定と <systemitem>snapper</systemitem> の関係について</term>
     <listitem>
      <para os="sles;osuse">ルートパーティションが 16 GB より大きい場合、 &productname; では既定でファイルシステムのスナップショットを有効化します。</para>
      <para os="sled">&productname; はシステムに対してなされた変更を巻き戻す (ロールバック) ことができるようにするため、スナップショットを使用するように設定することができます。</para>
      <para>&productname; では、この機能を提供するために snapper と btrfs の組み合わせを使用します。 btrfs はルートパーティションに対するスナップショットを設定するのに必要となります。</para>
      <para>ディスクが 16GB より小さいサイズの場合、 snapper の機能と自動スナップショット採取機能は無効化され、ルートパーティション <filename>/</filename> のサイズが枯渇しないようにします。</para>
      <para>ロールバック機能を有効化してシステムのスナップショットを作成できるようにするため、重要なシステムディレクトリは単一のパーティションとなるようマウントを行ってください。具体的には <filename>/usr</filename> と <filename>/var</filename> がそれにあたります。 <filename>/usr/local</filename> , <filename>/var/log</filename> , <filename>/tmp</filename> などのように、スナップショットから除外したいパーティションのみ、個別に作成してください。</para>
      <para>スナップショット機能が有効化されている場合、インストーラはインストールの前後でそれぞれ <literal>単一</literal> スナップショットを自動作成します。</para>
      <para os="sles;sled;osuse">詳しくは <xref linkend="cha-snapper"/> をお読みください。</para>

      <important>
       <title>btrfs スナップショットとルートパーティションのサイズ</title>
       <para>スナップショットを作成すると、パーティション内にある程度の領域を占有することになります。一般的には、スナップショットが古くなればなるほど、もしくは保持している変更セットが大きくなればなるほど、スナップショットのサイズも大きくなります。これに加えて、スナップショット数そのものもディスク領域に影響があります。</para>
       <para>ルートパーティションがスナップショットのデータで埋め尽くされることがないよう、サイズを十分な確保するようにしてください。頻繁に更新するようなシステムや他のインストールを繰り返すようなシステムの場合は、少なくともルートパーティションに 30&nbsp;GB 程度を設定してください。また、システムのアップグレード時にスナップショットを使用する場合 <phrase os="sles;sled"> やサービスパック間の移行を行う場合 </phrase> (切り戻しができるようにするため) には、少なくとも 40&nbsp;GB 以上を設定してください。</para>
      </important>

     </listitem>
    </varlistentry>
    <varlistentry>
     <term>btrfs データボリューム</term>
     <listitem>
      <para>データボリュームに対する btrfs は、 &productname; &productnumber; ではサポートしていません。データボリュームに対して btrfs を設定する必要があるアプリケーションがある場合は、クォータグループ機能を無効化して個別のファイルシステムを作成することをお勧めします。これはルートファイルシステム以外を作成する際、既定で設定されます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>暗号化されたルートパーティションに対する btrfs について</term>
     <listitem>
      <para>既定のパーティション設定では、ルートパーティションを btrfs に設定します。ルートパーティションを暗号化したい場合は、パーティションテーブルを MSDOS ではなく GPT にしていることを確認してください。変更を行わないと、 GRUB2 ブートローダが第 2 ステージのローダを設定する際、十分な領域が確保できない場合があります。</para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="zseries">
     <term>&zseries;: z/VM でのミニディスクの使用</term>
     <listitem>
      <para>&productname; を z/VM 内のミニディスク内にインストールした場合、同じ物理ディスク内に配置されることになりますが、ミニディスクのアクセスパス (/dev/disk/by-id/) は唯一の値にはなりません。これは、物理ディスクの ID を表すことになるためです。同じ物理ディスク内に複数のミニディスクを設定すると、いずれも同じ ID になります。</para>
      <para>ミニディスクをマウントする際の問題を回避するには、マウント方法を <emphasis>パス</emphasis> もしくは <emphasis>UUID</emphasis> に変更してください。</para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="zseries">
     <term>&zseries;: LVM ルートファイルシステム</term>
     <listitem>
      <para>ルートファイルシステムを LVM やソフトウエア RAID アレイ内に配置するシステムを設定する場合、 LVM や RAID で管理されていない個別のパーティションを作成して、それを <filename>/boot</filename> にマウントしなければなりません。これを設定しないと、システムは起動することができなくなります。個別のパーティションを作成する場合は、 500 MB 程度のサイズとし、 ext4 ファイルシステムを指定することをお勧めします。</para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="power">
     <!-- this warning is duplicated in sec.power.prep -->
     <term>IBM &power;: 複数のファイバチャネル型ディスクが接続されたシステムへのインストール</term>
     <listitem>
      <para>複数のディスクが利用できる環境の場合、インストール時のパーティション提案では、異なるディスクに PReP および BOOT パーティションを作成するように設定されます。これらのディスクがファイバチャネルである場合、 GRUB ブートローダは BOOT パーティションを検出することができませんので、起動もできなくなってしまいます。</para>
      <para>インストール時にパーティション方式の選択を求められた場合は、 <guimenu>ガイド付き設定</guimenu> を押して 1 台のディスクのみを選択してください。それ以外の方法としては、 <guimenu>熟練者向けパーティション設定</guimenu> を利用して、 PReP および BOOT パーティションを 1 台のディスクに作成する方法もあります。</para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>サポートされるソフトウエア RAID ボリューム</term>
     <listitem>
      <para>既存のソフトウエア RAID ボリュームが存在する場合、 Disk Data Format (DDF) ボリュームと Intel Matrix Storage Manager (IMSM) ボリュームであれば、インストールを行うことができます。 IMSM は、それぞれ下記の名前で提供されている機能です:</para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>Intel Rapid Storage Technology</para>
       </listitem>
       <listitem>
        <para>Intel Matrix Storage Technology</para>
       </listitem>
       <listitem>
        <para>Intel Application Accelerator / Intel Application Accelerator RAID Edition</para>
       </listitem>
       <listitem>
        <para>Intel Virtual RAID on CPU (Intel VROC と略される場合もあります。詳しくは <link xlink:href="https://www.intel.com/content/www/us/en/support/articles/000024498/memory-and-storage/ssd-software.html"/> をお読みください)</para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>FCoE や iSCSI デバイス向けのマウントポイントについて</term>
     <listitem>
      <para>FCoE や iSCSI のデバイスは、起動処理時には非同期で検出されます。 initrd ではルートファイルシステムに対してデバイスが正しく設定されていることを確認しますが、その他のファイルシステムやマウントポイント、たとえば <filename>/usr</filename> などに対しては、確認を行いません。そのため、 <filename>/usr</filename> や <filename>/var</filename> に対しては、これらはサポートしていません。これらのデバイスに対しては、サービスやデバイスなどで正しく設定されていることを確認してください。</para>
     </listitem>
    </varlistentry>
    <varlistentry os="sled;osuse">
     <term>パーティション設定の提案における Windows パーティションの取り扱いについて</term>
     <listitem>
      <para>パーティション設定の提案で、巨大な Windows FAT もしくは NTFS のパーティションを含むディスクを対象として選択すると、 &productname; がインストールできるだけのサイズを確保するため、 Windows パーティションのサイズ変更を自動的に設定します。この場合、データを失ってしまうことの無いよう、下記を実施しておくことを強くお勧めします:</para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>パーティションがフラグメント状態にないことをご確認ください (&productname; をインストールする前に、 Windows 側でデフラグプログラムを動作させてください)</para>
       </listitem>
       <listitem>
        <para>Windows 向けのパーティションが十分に大きいことを再度ご確認ください</para>
       </listitem>
       <listitem>
        <para>&productname; をインストールする前に、あらかじめデータをバックアップしておいてください</para>
       </listitem>
      </itemizedlist>
      <para>Windows パーティション向けのサイズ変更を調整したい場合は、 <guimenu>熟練者向けパーティション設定</guimenu> をお使いください。</para>
     </listitem>
    </varlistentry>
    <varlistentry os="osuse">
     <term>個別の /home パーティションの提案</term>
     <listitem>
      <para>既定の提案では、 <filename>/home</filename> に対して個別のパーティションを作成するような提案は行われなくなっています。通常、 <filename>/home</filename> にはユーザのデータや個人の設定ファイルなどが含まれていますが、このディレクトリを個別のパーティションに分割することで、将来的にシステムを再構築するような作業をやりやすくすることができるほか、同じマシンに別の Linux ディストリビューションをインストールして、ディレクトリを共有するようなこともできるようになります。</para>
     <para><filename>/home</filename> に対して個別のパーティションを作成するように設定したい場合は、 <guimenu>ガイド付き設定</guimenu> を押して <guimenu>次へ</guimenu> を押し、 <guimenu>ファイルシステムオプション</guimenu> の画面まで移動します。ここで <guimenu>/home パーティションを分離して提案する</guimenu> を選択してください。なお、既定では <guimenu>XFS</guimenu> でフォーマットされますが、それ以外のファイルシステムを選択してもかまいません。あとは <guimenu>次へ</guimenu> ボタンを押すと、ダイアログを閉じることができます。</para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
  <sect2 xml:id="sec-yast-install-partitioning-suggested">
   <title>パーティション設定の提案</title>
   <para>この手順では、 &productname; 向けのパーティション設定を行います。</para>
   <figure>
    <title>パーティション設定の提案</title>
    <mediaobject>
     <textobject role="description"><phrase>パーティション設定の提案</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sles;sled;slemicro" fileref="install_partitioner.png" width="100%"/>
      <imagedata os="osuse" fileref="install_partitioner_osuse.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles;sled;slemicro" fileref="install_partitioner.png" width="100%"/>
      <imagedata os="osuse" fileref="install_partitioner_osuse.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para os="sled;osuse">インストーラは、利用可能なディスクのうちの 1 台に対して、 btrfs でフォーマットするルートパーティションを 1 つ、スワップパーティションを 1 つ含む提案を作成します。利用可能なハードディスク内に複数のスワップパーティションが見つかると、それらを使用するように設定します。ここからいくつかの選択を行うことができます:</para>
   <para os="sles">システムの役割に応じて、利用可能なディスクのうちのいずれかに対して、インストーラが提案を作成します。いずれの提案とも、 btrfs でフォーマットするルートパーティションを 1 つと、スワップパーティションを 1 つ含みます。 GNOME デスクトップやテキストモードを選択した場合、ディスクが 20 GB 以上あれば個別のホームディレクトリ用のパーティションを作成します。システムの役割で仮想化ホストを選択した場合は、既定でイメージファイルを配置する先として、 <filename>/var/lib/libvirt</filename> 向けの個別のパーティションを設定します。また、利用可能なハードディスク内に 1 つ以上のスワップパーティションが見つかると、それらを使用するように設定します。ここからいくつかの選択を行うことができます:</para>
   <variablelist>
    <varlistentry>
     <term><guimenu>次へ</guimenu></term>
     <listitem>
      <para>何も設定を変更せずに、提案の内容をそのまま受け入れるには、 <guimenu>次へ</guimenu> を押してインストールの作業を進めます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>ガイド付き設定</guimenu></term>
     <listitem>
      <para>提案内容を調整したい場合は、 <guimenu>ガイド付き設定</guimenu> を選択します。まずは使用するハードディスクとパーティションを選択します。次に <guimenu>パーティション方式</guimenu> の画面で、 Logical Volume Management (LVM) とディスクの暗号化を設定します。あとは <guimenu>ファイルシステムオプション</guimenu> で各種の設定を行います。ここではルートパーティションに設定するファイルシステムと、個別のホームディレクトリ用パーティションやスワップパーティションを作成するかどうかを指定します。お使いのマシンでサスペンド機能を利用する場合は、スワップパーティションを作成して <guimenu>サスペンド用に RAM サイズまで拡大する</guimenu> を選択していることを確認してください。なお、ルートファイルシステムで btrfs を選択すると、ここで btrfs のスナップショットを有効にするかどうかを選択することができます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>熟練者向けパーティション設定</guimenu></term>
     <listitem>
      <para>独自のパーティション設定を行うには、 <guimenu>熟練者向けパーティション設定</guimenu> を選択します。現在提案されている設定をベースにして変更を行いたい場合は、<guimenu>現在表示されている提案を元にする</guimenu> を選択します。現在のディスク内のパーティション設定を元にする場合は、 <guimenu>既存のパーティション設定を元にする</guimenu> を選択します。いずれの場合も、パーティションを <guimenu>追加</guimenu> , <guimenu>編集</guimenu> , <guimenu>サイズ変更</guimenu> , <guimenu>削除</guimenu> することができます。</para>
      <para>また <guimenu>熟練者向けパーティション設定</guimenu> では、論理ボリューム (LVM) やソフトウエア RAID, デバイスマッピング (DM) やパーティションの暗号化、 NFS 共有のマウントや tmpfs ボリュームの管理などを行うことができます。それぞれの btrfs パーティションに対してサブボリュームやスナップショットの処理を調整するには、 <guimenu>btrfs</guimenu> を選択してください。独自のパーティション設定や高度な機能の設定方法について、詳しくは <xref linkend="sec-expert-partitioner"/> をお読みください。</para>
     </listitem>
    </varlistentry>
   </variablelist>
   <warning>
    <title>ディスク領域の単位について</title>
    <para>パーティション設定を行う際、ディスク領域は一般的な 10 進接頭辞 (1 (キロ) = 1000) ではなく、 2 進接頭辞 (1 (キロ) = 1024) を使用することに注意してください。たとえばサイズの指定で <literal>1GB</literal> , <literal>1GiB</literal> , <literal>1G</literal> のいずれかを入力した場合、 1&nbsp;GB (ギガバイト) ではなく 1&nbsp;GiB (ギビバイト) として扱われます。</para>
    <variablelist>
     <varlistentry>
      <term>2 進接頭辞</term>
      <listitem>
       <para>1&nbsp;GiB = 1073741824 バイトを表します。</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>10 進接頭辞</term>
      <listitem>
       <para>1&nbsp;GB = 1000000000 バイトを表します。</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>差</term>
      <listitem>
       <para>1&nbsp;GiB &asymp; 1.07&nbsp;GB になります。</para>
      </listitem>
     </varlistentry>
    </variablelist>
   </warning>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-date-time">
  <title>時計とタイムゾーン</title>
  <para>このダイアログでは、知識とタイムゾーンの設定を行います。いずれの設定とも、インストール時に選択した言語に従った値が事前に選択されます。</para>
  <figure>
   <title>時計とタイムゾーン</title>
   <mediaobject>
    <textobject role="description"><phrase>時計とタイムゾーン</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled;slemicro" fileref="install_timezone.png" width="100%"/>
     <imagedata os="osuse" fileref="install_timezone_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled;slemicro" fileref="install_timezone.png" width="100%"/>
     <imagedata os="osuse" fileref="install_timezone_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>事前に選択された設定を変更するには、地図を使用するか、もしくは <guimenu>地域</guimenu> と <guimenu>タイムゾーン</guimenu> のドロップダウンを使用します。地図を使用する場合は、大まかな場所にカーソルを合わせて、左クリックすると地図が拡大されます。拡大されたら地図内の場所を選んで左クリックすると、選択することができます。なお、右クリックをすると、世界全体の地図に戻ります。</para>
  <para>時計を設定するには、まず <guimenu>ハードウエアの時刻を UTC に設定する</guimenu> のチェックを入れるか外すかします。お使いのマシンに Microsoft Windows など、他のオペレーティングシステムがインストールされている場合は、お使いのシステムはローカルの時刻に設定されているはずなので、チェックを外してください。また、 Linux のみを動作させているマシンの場合は、チェックを入れて UTC に設定することで、夏時間 (サマータイム) の設定を自動的に適用させることができるようになります。</para>
  <important>
   <title>ハードウエアの時刻を UTC に設定する</title>
   <para>標準時から夏時間への切り替え (もしくはその逆) は、ハードウエア (CMOS) の時計が UTC に設定されている場合にのみ、自動的に行うことができます。これは、 NTP で自動的に時刻を同期させている場合も同様で、 NTP はハードウエアとシステムの時計の差が 15 分未満の場合にのみ動作するためです。</para>
   <para>なお、システムの時計を正しく設定しないと、様々な問題が発生する可能性があります (たとえばバックアップの処理を行わずに飛ばしてしまったり、メールメッセージが期限切れであるものとして捨てられてしまったり、マウントが失敗してしまったりなど) 。特に理由がない限り、ハードウエアの時計は UTC に設定しておくことを <emphasis>強く</emphasis> お勧めします。</para>
  </important>
  <para arch="power;x86_64" os="sles">ネットワークを設定してある場合は、 NTP サーバとの間で時刻同期を設定することができます。 <guimenu>その他の設定</guimenu> から NTP の設定を行うか、もしくは <guimenu>手動</guimenu> で時刻を設定してください。 NTP サービスの設定について、詳しくは <xref linkend="cha-ntp"/> をお読みください。完了しましたら、 <guimenu>了解</guimenu> を押すとインストールを続けることができます。</para>
  <para arch="power;x86_64" os="sles">なお、 NTP を設定せずに実行する場合は、正しくない時刻をハードウエアの時刻として反映してしまわないよう、 <literal>SYSTOHC=no</literal> ( <literal>sysconfig</literal> の変数です) を設定してください。</para>
  <para os="sled;osuse">ネットワークを設定してある場合は、 NTP サーバとの間で時刻同期を設定することができます。 <guimenu>その他の設定</guimenu> から NTP の設定を行うか、もしくは <guimenu>手動</guimenu> で時刻を設定してください。 NTP サービスの設定について、詳しくは <xref linkend="cha-ntp"/> をお読みください。完了しましたら、 <guimenu>了解</guimenu> を押すとインストールを続けることができます。</para>
  <para os="sled;osuse">なお、 NTP を設定せずに実行する場合は、正しくない時刻をハードウエアの時刻として反映してしまわないよう、 <literal>SYSTOHC=no</literal> ( <literal>sysconfig</literal> の変数です) を設定してください。</para>
  <note arch="zseries" os="sles;slemicro">
   <title>&zseries; での時刻変更について</title>
   <para>オペレーティングシステム側では日時を直接変更することが許可されていません。そのため、 &zseries; では <guimenu>その他の設定</guimenu> を利用できません。</para>
  </note>
 </sect1>

 <sect1 os="sles;sled;osuse" xml:id="sec-yast-install-user">
  <title>新しいユーザの作成</title>
  <para>この手順では、ローカルユーザを作成します。</para>
  <figure>
   <title>新しいユーザの作成</title>
   <mediaobject>
    <textobject role="description"><phrase>新しいユーザの作成</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled" fileref="install_user.png" width="100%"/>
     <imagedata os="osuse" fileref="install_user_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled" fileref="install_user.png" width="100%"/>
     <imagedata os="osuse" fileref="install_user_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>アルファベットで名・姓の順に空白で区切って入力すると、 <guimenu>ユーザ名</guimenu> が自動的に生成され、入力されます。なお、ユーザ名はアルファベットの小文字 (a-z) と数字 (0-9) のほか、 <literal>.</literal> (ドット), <literal>-</literal> (ハイフン), <literal>_</literal> (アンダースコア) をそれぞれ使用することができます。なお、特殊記号<!-- Japanese original content start -->や漢字、ひらがな／カタカナなど<!-- Japanese original content end -->は使用できません。</para>
  <para>続いてユーザに対して設定するパスワードを指定します。誤って想定とは異なる文字を入力してしまったりなどを防ぐため、パスワードは二度入力します。なお、セキュリティ面への考慮から、パスワードは 6 文字以上で、かつアルファベットの大文字と小文字、数字と特殊文字 (キーボードに書かれている記号) をそれぞれ含んでいるべきものです。ただし、特殊記号 (キーボードに書かれていない記号) <!-- Japanese original content start -->や漢字、ひらがな／カタカナなど<!-- Japanese original content end -->は使用できません。また、入力したパスワードは強度のチェックが行われ、誰でも知っているような単語や名前など、推測が容易なものである場合には、警告メッセージが表示されます。この警告メッセージを利用することで、よりよいセキュリティを実現できるようになっています。</para>
  <important>
   <title>ユーザ名とパスワード</title>
   <para>ユーザ名とパスワードは、必ず覚えておいてください。これらはシステムにログインする際に必要となるためです。</para>
  </important>
  <para>1 つもしくは複数の Linux がインストールされているマシンに &productname; をインストールする場合、 &yast; ではユーザ名とパスワードを、インストール済みの Linux から取り込むことができます。取り込むには、 <guimenu>以前のインストールからユーザデータを取り込む</guimenu> を選択して、 <guimenu>ユーザの選択</guimenu> でユーザを選択してください。</para>
  <para>ローカルユーザを設定したくない場合 (たとえば集中管理型のユーザ認証の仕組みを利用してクライアントを構築するような場合) は、この手順を飛ばして <guimenu>次へ</guimenu> を押し、表示される警告に応答してください。集中管理型のユーザ認証の設定は、インストール完了後に行います。詳しくは <xref linkend="cha-yast-userman"/> をお読みください。</para>
  <para>ここでは、 2 種類の追加オプションを選択することができます:</para>
  <variablelist>
   <varlistentry>
    <term><guimenu>このパスワードをシステム管理者用のものとしても使用する</guimenu></term>
    <listitem>
     <para>この項目にチェックを入れると、ユーザ向けのものとして設定したパスワードを、システム管理者である &rootuser; のパスワードとしても設定します。このオプションは、スタンドアロン型のワークステーションのほか、 1 人だけで使用するようなホームネットワーク向けのオプションです。チェックを入れない場合は、インストールの次の手順でシステム管理者用のパスワードを入力します (詳しくは <xref linkend="sec-yast-install-user-root"/> をお読みください) 。</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>自動ログイン</guimenu></term>
    <listitem>
     <para>このオプションは、システムの起動時に自動的にユーザがログインするように設定するためのものです。このオプションは、主に 1 人だけで使用するような環境で便利な仕組みです。<phrase os="sles">なお、自動ログインを動作させるには、このオプションを明示的に有効化しなければなりません。</phrase></para>
    </listitem>
   </varlistentry>
  </variablelist>
  <warning>
   <title>自動ログイン</title>
   <para>自動ログインを有効化すると、システムは認証を求めることなくデスクトップを起動するようになります。お使いのシステムに機密データが含まれるような場合は、そのコンピュータが誰にでも操作できる状況になってしまうことから、有効化すべきではありません。</para>
  </warning>
  <para>NIS や LDAP など、認証を集中管理しているような環境の場合は、ローカルユーザを作成する必要がない場合があります。その場合は、 <guimenu>ユーザの作成を行わずに飛ばす</guimenu> を選択してください。</para>
 </sect1>

 <sect1 xml:id="sec-yast-install-user-root">
  <title>システム管理者 &rootuser; の認証</title>
  <para>以前の手順で <guimenu>このパスワードをシステム管理者用のものとしても使用する</guimenu> を選択していなかった場合は、ここでシステム管理者 &rootuser; のパスワードを入力するよう求められます。選択した場合、この手順は飛ばされます。</para>
  <figure>
   <title>システム管理者 &rootuser; の認証</title>
   <mediaobject>
    <textobject role="description"><phrase>システム管理者 &rootuser; の認証</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled;slemicro" fileref="install_root.png" width="100%"/>
     <imagedata os="osuse" fileref="install_root_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled;slemicro" fileref="install_root.png" width="100%"/>
     <imagedata os="osuse" fileref="install_root_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>&rootuser; とはスーパーユーザの名前であり、システムの管理者でもあります。一般ユーザとは異なり、 &rootuser; にはシステムの設定を無制限に変更することのできる権限や、プログラムのインストールや新しいハードウエアの設定などの権限が与えられています。また、一般ユーザのパスワードを忘れてしまったような場合や、システムに何らかの問題が発生したような場合も、 &rootuser; でそれぞれの作業を行うことになります。なお、 &rootuser; はシステム管理や修復のためだけに使用すべきアカウントであり、一般的な作業を &rootuser; で行うべきものではありません。ごくありふれた操作ミスによって、システムを壊してしまうリスクがあるためです。</para>
  <para>なお、パスワードの入力が間違っていないことを確認するため、 &rootuser; のパスワードは二度入力します。 &rootuser; のパスワードは、決して忘れてはなりません。いったん入力して保存したあとは、パスワードを読み出すことができなくなります。</para>
  <tip>
   <title>パスワードとキーボードレイアウトについて</title>
   <para>US ASCII (アメリカ英語) キーボードでも利用可能な文字のみを使用しておくことをお勧めします。これは、システムに障害が発生したような場合や、システムをレスキューモードで起動しなければならなくなったような場合に、英語キーボードを使用しなければならないことがあるためです。</para>
  </tip>
  <para>&rootuser; のパスワードは、インストール完了後でも自由に変更することができます。 &yast; からパスワードを変更するには、 <menuchoice> <guimenu>セキュリティとユーザ</guimenu> <guimenu>ユーザとグループの管理</guimenu> </menuchoice> を選択してください。</para>
  <important>
   <title><systemitem class="username">root</systemitem> ユーザ</title>
   <para>&rootuser; には、システムに対して変更を加えることのできるすべての権限が許可されています。このような作業を行いたい場合は、 &rootuser; のパスワードが必要となります。このパスワードを入力しない限り、システム管理作業を行うことはできません。</para>
  </important>

  <para>システムに対して SSH の公開鍵認証でアクセスしたい場合は、リムーバブルストレージか既存のパーティションから、鍵を取り込んでください。 <!-- FIXME cwickert 2021-06-27: Remove following sentence and use it as result of the precedure instead, once we have a style for that. See comment further at the end of precedure. --> インストールが完了すると、指定した SSH 鍵でログインできるようになります。</para>
  <procedure xml:id="pro-yast-install-user-root-sshkey">
   <title>ユーザ &rootuser; に対する SSH 公開鍵の追加</title>
   <para>メディア内のパーティションから SSH 公開鍵を取り込むには、下記の手順を実施します:</para>
   <step>
    <para>公開鍵は各ユーザの <filename class="directory">~/.ssh</filename> ディレクトリ内に保存し、 <filename class="extension">.pub</filename> という拡張子を付与します。リムーバブルストレージか、インストールの際にフォーマットを行わない予定のパーティションからコピーしてください。</para>
   </step>
   <step>
    <para>鍵がリムーバブルストレージ内に存在する場合は、リムーバブルストレージを接続して <guimenu>更新</guimenu> を押します。すると <guimenu>SSH 公開鍵の取り込み</guimenu> 以下にあるドロップダウンボックスに、接続したデバイスが表示されるようになります。</para>
   </step>
   <step>
    <para>あとは <guimenu>参照</guimenu> を押し、 SSH 公開鍵を選択して <guimenu>開く</guimenu> を押します。</para>
   </step>
   <step>
    <para><guimenu>次へ</guimenu> を押して進みます。</para>
   </step>
   <!-- FIXME cwickert 2021-06-27 Commented out until we have a style for
    result, see https://github.com/openSUSE/suse-xsl/issues/286 -->
   <!--
   <result>
    <para>
     After the installation is finished, you can log in through SSH using the
     provided SSH key.
    </para>
   </result> -->
  </procedure>
  <!-- cwickert 2021-06-25: Behavior changed in SLE 15 SP3 with SLE-15487:
   No root password set, SSH key only: Port will be opened by yast automatically
   to avoid being locked out of the newly installed system.
   Password and key: Port will not be opened automatically, enable it manually
   if you need remote access right after installation.
  -->
  <para>パスワードと SSH 公開鍵の両方を設定していて、インストール後にリモートアクセスが必要となる場合は、 <guimenu>インストール設定</guimenu> 内の <guimenu>セキュリティ</guimenu> セクションで忘れずに SSH のポートを開いておいてください。パスワードを設定していない状態で公開鍵のみを設定した場合は、新しくインストールしたシステムにアクセスができなくなってしまわないよう、 SSH のポートは自動的に開かれます。</para>
 </sect1>

 <sect1 xml:id="sec-yast-install-proposal">
  <title>インストール設定</title>
  <para>実際にインストールを行う前の最後の手順として、ここではインストールシステムが提案した様々なインストール設定を確認することができます。提案内容を変更するには、それぞれの項目名のリンク (下線が引かれた箇所) を押してください。設定を変更したあとは、またインストール設定の画面に戻ってきますが、このとき変更した内容が反映されていることをご確認ください。</para>
  <para><xref linkend="pro-yast-install-user-root-sshkey" xrefstyle="select:label"/> に示す手順で &rootuser; 向けの SSH 鍵を追加している場合は、 <guimenu>セキュリティ</guimenu> 設定で SSH のポートを開くように設定してください。</para>
  <figure>
   <title>インストール設定</title>
   <mediaobject>
    <textobject role="description"><phrase>インストール設定</phrase></textobject>
    <imageobject role="fo">
     <imagedata os="sles;slemicro" fileref="install_summary_sles.png" width="100%"/>
     <imagedata os="sled" fileref="install_summary_sled.png" width="100%"/>
     <imagedata os="osuse" fileref="install_summary_osuse.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;slemicro" fileref="install_summary_sles.png" width="100%"/>
     <imagedata os="sled" fileref="install_summary_sled.png" width="100%"/>
     <imagedata os="osuse" fileref="install_summary_osuse.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <sect2 xml:id="sec-yast-install-proposal-sofware">
   <title><guimenu>ソフトウエア</guimenu></title>
   <remark>Mention Cockpit here.</remark>
   <para>&productname; には、様々な用途を想定したソフトウエアパターンが複数用意されています。利用可能なパターンやパッケージの選択肢は、選択したモジュールや拡張によって決まります。</para>
   <para><guimenu>ソフトウエア</guimenu> を選択すると、 <guimenu>ソフトウエアとシステムタスクの選択</guimenu> を開くことができます。ここでは、必要に応じてパターンの選択を行うことができます。一覧からパターンを選択すると、ウインドウの右側に説明が表示されます。</para>
   <para>それぞれのパターンには、その機能に応じて複数のソフトウエアパッケージが含まれています (たとえば <phrase os="sled;osuse">マルチメディア, オフィスソフトウエア</phrase> <phrase os="sles">Web および LAMP サーバ, 印刷サーバ</phrase> などがあります) 。<phrase os="osuse"><guimenu>システムの役割</guimenu> ダイアログで <guimenu>汎用デスクトップ</guimenu> を選択した場合は、ここにある <guimenu>グラフィカルな環境</guimenu>  で選択を行ってください。</phrase> また、インストールするソフトウエアパッケージをより細かく指定したい場合は、 <guimenu>詳細</guimenu> を押して &yast; ソフトウエアマネージャを起動してください。</para>
   <figure>
    <title>ソフトウエアとシステムタスクの選択</title>
    <mediaobject>
     <textobject role="description"><phrase>ソフトウエアとシステムタスクの選択</phrase></textobject>
     <imageobject role="fo">
      <imagedata os="sles;slemicro" fileref="install_software_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_software_sled.png" width="100%"/>
      <imagedata os="osuse" fileref="install_software_osuse.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles;slemicro" fileref="install_software_sles.png" width="100%"/>
      <imagedata os="sled" fileref="install_software_sled.png" width="100%"/>
      <imagedata os="osuse" fileref="install_software_osuse.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para os="sles;sled;osuse">ソフトウエアパッケージは、インストール後にも追加や削除を行うことができます。パッケージを追加／削除するには、 &yast; ソフトウエアマネージャをお使いください。詳しくは <xref linkend="cha-yast-software"/> をお読みください。</para>
   <para os="sles">GNOME をインストールするように選択した場合、 &productname; は X.org ディスプレイサーバをあわせてインストールします。 &gnome; の代替としては、軽量型のウインドウマネージャである IceWM もインストールすることができます。 <guimenu>ソフトウエアとシステムタスクの選択</guimenu> から <guimenu>詳細</guimenu> を選択して、 <literal>icewm</literal> を検索してください。</para>
   <para os="sled;osuse">既定では、 &productname; は Wayland ディスプレイサーバプロトコルを使用します。</para>
   <tip os="sles;slemicro" arch="zseries">
    <title>&zseries;: ハードウエア暗号化サポートについて</title>
    <para>ハードウエア暗号化スタックは、既定ではインストールされません。インストールするには、 <guimenu>ソフトウエアとシステムタスクの選択</guimenu> 画面内にある<guimenu>System z ハードウエア暗号化サポート</guimenu> を選択してください。</para>
   </tip>
   <tip xml:id="ann-sec-yast-install-proposal-sofware-language">
    <title>第二言語の追加</title>
    <para>インストールの最初の手順で選択した言語は、システム内で第一言語として設定されます。<guimenu>ソフトウエア</guimenu> ダイアログ内の <menuchoice> <guimenu>詳細</guimenu> <guimenu>表示</guimenu> <guimenu>言語</guimenu></menuchoice> を選択することで、第二言語を追加することができます。</para>
   </tip>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-booting">
   <title><guimenu>起動</guimenu></title>
   <para>インストールシステムは、お使いのシステムに対して起動の設定を提案します。 Microsoft Windows や他の Linux など、その他のオペレーティングシステムがインストールされていることが検出されると、それらをブートローダの項目として自動的に追加します。ただし、既定で起動されるのは &productname; として設定されます。通常はこれらの設定を変更する必要はありませんが、何らかの独自の設定を行いたい場合は、必要に応じて提案を変更する必要があります。 <phrase os="sles;sled;osuse">詳しくは <xref linkend="sec-grub2-yast2-config"/> をお読みください。</phrase></para>
   <important>
    <title>ソフトウエア RAID 1</title>
    <para><filename>/boot</filename> がソフトウエア RAID 1 デバイス内に存在しているような構成をサポートしていますが、この場合はブートローダを MBR にインストールしておく ( <menuchoice> <guimenu>ブートローダの場所</guimenu> <guimenu>マスターブートレコード (MBR) から起動</guimenu> </menuchoice> を選択する) 必要があります。なお、 RAID 1 以外のソフトウエア RAID からの起動はサポートしていません。<phrase os="sles">詳しくは <xref linkend="cha-raidroot"/> をお読みください。</phrase></para>
   </important>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-security">
   <title><guimenu>セキュリティ</guimenu></title>
   <para><guimenu>CPU 緩和策</guimenu> では、 CPU のサイドチャネル攻撃を防ぐために必要な、ソフトウエア側での緩和策に対応するコマンドラインパラメータを設定することができます。選択を変更したい場合は、ハイライト表示された箇所を押して変更してください。 <phrase os="sles;sled;osuse">詳しくは <xref linkend="vle-grub2-yast2-cpu-mitigations"/> をお読みください。</phrase></para>
   <para>既定では、 &firewalld; がすべての設定済みネットワークインターフェイスに対して有効化されます。このコンピュータ全体に対してファイアウオール機能を無効化したい場合は、 <guimenu>無効化する</guimenu> を選択してください。</para>
   <note>
    <title>ファイアウオールの設定</title>
    <para>ファイアウオールを有効化すると、すべてのインターフェイスが <literal>public</literal> ゾーンに割り当てられ、すべてのポートが閉じられます。これにより、最大限のセキュリティが確保されるようになります。ここで開くことができるポートは 22 (SSH) だけですが、このポートを開くことで、リモートからのアクセスができるようになります。 FTP, Samba, Web サーバなど、それ以外の全てのサービスについては、ファイアウオールの設定を調整して開く必要があります。 <phrase os="sles;sled;osuse">詳しくは <xref linkend="cha-security-firewall"/> をお読みください。</phrase></para>
   </note>
   &note_firewall_updates;
   <para>
    The <guimenu>SSH service</guimenu> is enabled by default, but its port
    (22) is closed in the firewall. Click <guimenu>open</guimenu> to open the
    port or <guimenu>disable</guimenu> to disable the service. Note that if SSH
    is disabled, remote logins will not be possible. <phrase os="sles;sled;osuse">Refer to <xref linkend="cha-ssh"/> for more
     information.</phrase>
   </para>
   <tip>
    <title>既存の SSH ホスト鍵の取り込み</title>
    <para>既に Linux がインストールされているマシンに &productname; をインストールしようとしている場合は、 SSH のホスト鍵を取り込むことができます。既定では、最終アクセス日時が最も新しいホスト鍵を選択します。 <phrase os="sles;sled">なお、<xref linkend="sec-yast-install-proposal-sshimport"/> もお読みください。</phrase></para>
   </tip>
   <para>VNC 経由でリモートからのインストールを行っている場合は、インストール後にも VNC 経由でアクセスできるようにすべきかどうかを指定することができます。なお、 VNC を有効化する場合は、 <guimenu>既定の systemd ターゲット</guimenu> を<guimenu>グラフィカルモード</guimenu> に設定してください。</para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-network">
   <title><guimenu>ネットワークの設定</guimenu></title>
   <para>この分類には、現時点でのネットワーク設定が表示されます。通常はインストールの起動時に自動設定 (詳しくは <xref linkend="sec-yast-install-network" xrefstyle="select:label"/> をお読みください) しているか、もしくは <guimenu>登録</guimenu> や <guimenu>アドオン製品</guimenu> のダイアログで手動設定しているはずです。ここではネットワークの設定を確認したり、調整したりすることができます。必要であれば <guimenu>ネットワークの設定</guimenu> を押すと、 &yast; の <guimenu>ネットワーク設定</guimenu> を表示させることができます。 <phrase os="sles;sled;osuse">詳しくは <xref linkend="sec-network-yast"/> をお読みください。</phrase></para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-kdump" os="sles;slemicro">
   <title><guimenu>Kdump</guimenu></title>
   <para>Kdump を使用することで、 (クラッシュ時に) カーネルの状態をダンプファイルに保存して、何が悪かったのかを後から調べることができるようになります。このダイアログを利用して、 Kdump を有効化および設定してください。 <phrase os="sles;sled;osuse">詳しくは <xref linkend="cha-tuning-kexec"/> をお読みください。</phrase></para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-blacklist" os="sles;slemicros" arch="zseries">
   <title><guimenu>&zseries;: デバイスのブラックリスト設定</guimenu></title>
   <para>メモリ消費を削減するため、既定ではデバイスに使用されていないすべてのチャンネルをブラックリスト設定します (ブラックリスト設定されていないと、各チャンネルに対して 50 KB 程度のメモリを使用します) 。ブラックリストに設定されたチャンネルを利用して追加のハードウエアを設定するには、関連する &yast; モジュールを実行して、必要なチャンネルを有効化してください。 <remark condition="clarity"> 2014-06-05 - fs: FIXME What's the name of the yast module? </remark></para>
   <para>ブラックリストを無効化するには、 <guimenu>無効にする</guimenu> を選択します。</para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-runlevel">
   <title><guimenu>既定の systemd ターゲット</guimenu></title>
   <remark>No graphical target.</remark>
   <para>&productname; は 2 種類の異なるターゲット (従来は <quote>ランレベル</quote> として知られています) のいずれかを起動することができます。一方の <guimenu>グラフィカル</guimenu> ターゲットはディスプレイマネージャを起動するもので、他方の <guimenu>マルチユーザ</guimenu> ターゲットはコマンドラインインターフェイスを起動するものです。</para>
   <para>既定のターゲットは <guimenu>グラフィカル</guimenu> です。 <guimenu>X Window System</guimenu> パターンをインストールしていない場合は、<guimenu>マルチユーザ</guimenu> に変更する必要があります。システムを VNC 経由でアクセスできるようにするには、 <guimenu>グラフィカル</guimenu> を選択する必要があります。</para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-sshimport">
   <title><guimenu>SSH ホスト鍵と設定の取り込み</guimenu></title>
   <para>お使いのコンピュータ内に既に Linux がインストールされていることが検出されると、 &yast; は既定で、 <filename>/etc/ssh</filename> 内にある最も新しい SSH ホスト鍵を取り込もうとします。必要であれば、ディレクトリ内の他のファイルについても取り込むことができます。これにより、既存のインストールで使用されている SSH の識別情報を再利用し、接続した際の <literal>REMOTE HOST IDENTIFICATION HAS CHANGED</literal> (リモートのホスト識別情報が変更されています) という警告メッセージが出ないようにすることができます。なお、この項目は既存の Linux インストールが検出されなかった場合には、表示されません。選択肢としては、下記のようなものがあります:</para>
   <variablelist>
    <varlistentry>
     <term><guimenu>以前のインストールから SSH 鍵を取り込む</guimenu></term>
     <listitem>
      <para>このオプションを選択すると、既存のインストールから SSH ホスト鍵を取り込むことができるほか、必要であれば設定を取り込むこともできます。どの Linux システムから取り込むのかについても、選択することができます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu> SSH 設定の取り込み </guimenu></term>
     <listitem>
      <para>このオプションを選択すると、既存のインストールにあるホスト鍵に加え、設定についても取り込むようになります。</para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-system">
   <title><guimenu>システム</guimenu></title>
   <para>この画面では、お使いのコンピュータに対してインストールシステムが収集することのできた、すべてのハードウエア情報が表示されます。なお、収集処理は画面を初めて開いた際に行われます。お使いのシステムの構成にもよりますが、収集処理にはしばらくの時間がかかります。一覧から項目を選択して <guimenu>詳細</guimenu> を押すと、選択した項目に対する詳細な情報を取得することができます。また、 <guimenu>ファイルに保存</guimenu> を押すと、詳細なリストをローカルのファイルシステムやリムーバブルデバイスに保存することができます。</para>
   <para>知識のあるユーザであれば、 <guimenu>カーネル設定</guimenu> を選択することで、 <guimenu>PCI ID の設定</guimenu> を変更することができます。画面には 2 種類のタブが用意されています:</para>
   <variablelist>
    <varlistentry>
     <term><guimenu>PCI ID の設定</guimenu></term>
     <listitem>
      <para>それぞれのカーネルドライバには、自身がサポートするデバイスの ID の一覧が設定されています。そのため、ドライバのデータベースには掲載されていない新しいデバイスの場合は、ドライバが存在しているにもかかわらず、サポートされていないように扱われてしまうことがあります。ここでは、 PCI ID をデバイスドライバに追加することができます。なお、知識のある方だけがお使いになることをお勧めします。</para>
      <para>ID を追加するには、 <guimenu>追加</guimenu> を押して <guimenu>一覧から選択</guimenu> もしくは <guimenu>手動</guimenu> のいずれかを選択します。 <guimenu>SysFS ディレクトリ</guimenu> は <filename>/sys/bus/pci/drivers</filename> 以下のディレクトリを指定するもので、何も指定しない場合は <guimenu>ドライバ</guimenu> の値を使用します。既存の項目については、 <guimenu>編集</guimenu> と <guimenu>削除</guimenu> でそれぞれ管理することができます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>カーネル設定</guimenu></term>
     <listitem>
      <para>ここでは、 <guimenu>グローバル I/O スケジューラ</guimenu> を設定することができます。<guimenu>未設定</guimenu> を選択すると、各アーキテクチャの既定値を使用します。 <phrase os="sles;sled;osuse">この設定は、インストール後でも変更することができます。 I/O チューニングについて、詳しくは <xref linkend="cha-tuning-io"/> をお読みください。</phrase></para>
      <para>ここでは、 <guimenu>SysRq キーを有効にする</guimenu> を有効にすることもできます。これらのキーは、ごく基本的なコマンド (システムの再起動やカーネルダンプの書き込み) を実行するためのもので、主にシステムがクラッシュした際に使用するものです。これらのキーは、カーネル周りの開発を行っている場合にはお勧めの機能です。詳しくは <link xlink:href="https://www.kernel.org/doc/html/latest/admin-guide/sysrq.html"/> (英語) をお読みください。</para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-perform">
  <title>インストールの実行</title>
  <para>すべてのインストール設定が完了したら、インストール設定の画面で <guimenu>インストール</guimenu> を押して、インストールを開始します。ソフトウエアによっては、ライセンス確認のダイアログが表示される場合があります。それらのソフトウエアパッケージをインストールするには、 <guimenu>了解</guimenu> を押してください。ライセンスに同意できない場合は、 <guimenu>同意しません</guimenu> を押すと、インストールを行わなくなります。インストールの確認ダイアログが表示されたら、 <guimenu>インストールする</guimenu> を押してください。</para>
  <para>インストール処理は、システムの性能と選択したソフトウエアの範囲によりますが、おおよそ 15 分から 30 分程度の時間がかかります。ハードディスクの準備と各種の設定の保存と復元が行われた後、ソフトウエアのインストールが始まります。 <guimenu>詳細</guimenu> を押すとインストールの進捗表示に切り替えることができるほか、 <guimenu>リリースノート</guimenu> を選択することで、マニュアルが作成された後に判明した最新の重要情報を表示することもできます。</para>
  <para>ソフトウエアのインストールが完了したら、システムは再起動を行い、ログイン可能な状態でインストール済みのシステムが起動します。システムの設定を後から変更したり、追加のソフトウエアパッケージをインストールしたりしたい場合は、 &yast; を起動してください。</para>

  <sect2 xml:id="sec-s390-inst-reipl" arch="zseries" os="sles;slemicro">
   <title>&zseries;: インストール済みのシステムの IPL</title>
   <para>&yast; は通常、 &zseries; プラットフォームでも再起動後にインストール済みのシステムを起動します。ただし、 FCP デバイス内にブートローダが存在していて、 z196 もしくは z/VM のリリース 5.4 以前の古い LPAR 環境で動作させている環境の場合は例外です。この場合は、ブートローダが <filename>/boot/zipl/</filename> にマウントされている個別のパーティション内に書き込まれます。</para>
   <para>自動的な再起動ができない環境の場合、 &yast; はどのデバイスから IPL するのかの情報ダイアログが表示されます。シャットダウンオプションを受け入れたあと、シャットダウン後に IPL を行ってください。手順はインストールの種類によって異なります:</para>
   <variablelist>
    <varlistentry>
     <term>LPAR のインストール</term>
     <listitem>
      <para>&zseries; HMC では、 <guimenu>Load</guimenu> , <guimenu>Clear</guimenu> の順に選択します。あとは読み込みアドレス (ブートローダを含む <filename>/boot/zipl</filename> ディレクトリのデバイスアドレス) を指定してください。 zFCP ディスクを起動デバイスとして使用している場合は、 <guimenu>Load from SCSI</guimenu> を選んで FCP アダプタのアドレスと、起動デバイスに対する WWPN, LUN を入力してください。これにより、プロセスの読み込みが始まります。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>z/VM のインストール</term>
     <listitem>
      <para>VM ゲストに <systemitem class="username">LINUX1</systemitem> としてログイン (設定について、詳しくは <xref linkend="ex-prep-prep-ipl-vm-linux-guest-config"/> をお読みください) し、インストール済みのシステムを IPL します:</para>
      <screen>IPL 151 CLEAR</screen>
      <para><literal>151</literal> は DASD ブートデバイスのアドレス例です。実際のアドレスに置き換えてお使いください。</para>
      <para>起動デバイスに zFCP ディスクを使用している場合は、 IPL を行う前に起動デバイスの zFCP WWPN と LUN をそれぞれ指定します。パラメータの長さは最大 8 文字までに制限されます。長い数値はスペースで区切って指定します:</para>
      <screen>SET LOADDEV PORT 50050763 00C590A9 LUN 50010000 00000000</screen>
      <para>最後に IPL を実行します:</para>
      <screen>IPL FC00</screen>
      <para><literal>FC00</literal> は zFCP アダプタのアドレスの例です。実際のアドレスに置き換えてお使いください。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>KVM ゲストのインストール</term>
     <listitem>
      <para>インストールが完了したら、仮想マシンはシャットダウンされます。この時点で KVM ホストにログインして、仮想マシンの説明ファイルを編集したあと、インストール済みのシステムを IPL して起動します:</para>
      <procedure>
       <step>
        <para>KVM ホストにログインします。</para>
       </step>
       <step>
        <para>下記を実行して、ドメインの XML ファイルを編集します:</para>
        <screen>&prompt.sudo;<command>virsh edit s12-1</command></screen>
        <para>下記の行を削除します:</para>
<screen><![CDATA[  <!-- Boot kernel - インストール成功後、下記 3 行を削除 -->
  <kernel>/var/lib/libvirt/images/s12-kernel.boot</kernel>
  <initrd>/var/lib/libvirt/images/s12-initrd.boot</initrd>
  <cmdline>linuxrcstderr=/dev/console</cmdline>]]></screen>
       </step>
       <step>
        <para>&vmguest; を起動して、インストール済みのシステムを IPL します:</para>
        <screen>&prompt.sudo;<command>virsh start s12-1 --console</command></screen>
       </step>
      </procedure>
      <note>
       <title><literal>cio_ignore</literal> は KVM インストールでは無効化される件について</title>
       <para>カーネルパラメータ <literal>cio_ignore</literal> は、利用可能なすべてのハードウエアを参照しないようにするパラメータです。しかしながら、 KVM ゲストではハイパーバイザが正しいデバイスへのアクセスのみを扱うようにするようになっています。そのため、 KVM ゲストをインストールしている場合は、 <literal>cio_ignore</literal> は既定で無効化されます (z/VM や LPAR のインストールの場合は、既定で有効化されます) 。</para>
      </note>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
  <sect2 xml:id="sec-s390-inst-reipl-reconnect" arch="zseries" os="sles">
   <title>&zseries;: インストール済みシステムへの接続</title>
   <para>システムの IPL が完了したら、あとは VNC, SSH, X などを利用して、システムにログインすることができます。 VNC や SSH での接続がお勧めです。システムの設定を後から変更したり、追加のソフトウエアパッケージをインストールしたりしたい場合は、 &yast; を起動してください。</para>
   <sect3 xml:id="sec-s390-inst-reipl-reconnect-vnc">
    <title>VNC を使用する接続</title>
    <para>3270 端末内のメッセージで、 Linux システムに対して VNC 接続するように求めます。しかしながら、このメッセージはカーネルのメッセージ内に埋もれてしまうものであり、メッセージに気がつく前に端末プロセスを終了していることも多いので、見逃してしまうことがあります。 5 分程度経過しても何も起こらない場合は、 VNC ビューアを利用して Linux システムに接続してみてください。</para>
    <para>JavaScript 対応のブラウザで接続する場合は、インストール済みのシステムの IP アドレスのほか、ポート番号を指定して接続します。具体的には下記のようになります:</para>
<screen>http://<replaceable>インストール済みのシステムの IP アドレス</replaceable>:5801/</screen>
   </sect3>
   <sect3 xml:id="sec-s390-inst-reipl-reconnect-ssh">
    <title>SSH を使用する接続</title>
    <para>3270 端末内のメッセージで、 Linux システムに対して SSH クライアントを利用して接続するように求めます。しかしながら、このメッセージはカーネルのメッセージ内に埋もれてしまうものであり、メッセージに気がつく前に端末プロセスを終了していることも多いので、見逃してしまうことがあります。</para>
    <para>メッセージが表示されたら、 SSH を利用して &rootuser; で Linux システムにログインします。接続が拒否されたり、タイムアウトしてしまったりした場合は、しばらく待ってから再接続してみてください (かかる時間は、サーバ側の設定値に依存します) 。</para>
   </sect3>
   <sect3 xml:id="sec-s390-inst-reipl-reconnect-x">
    <title>X を使用する接続</title>
    <para>インストール済みのシステムを起動したあとは、インストールの最初のフェーズで使用していた X サーバを起動したままにしていて、かつ DASD からの起動前に有効化されていることをご確認ください。 &yast; はこの X サーバを利用して、インストールを完了使用とします。システムが起動しても、 X サーバへの接続が行われるまでしばらくお待ちください。</para>
   </sect3>
  </sect2>
 </sect1>
</chapter>
