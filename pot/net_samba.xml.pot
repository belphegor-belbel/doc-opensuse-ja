# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2025-08-04 22:05+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <someuser@example.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/x-po; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#: net_samba.xml:17
#, no-c-format
msgid "Samba"
msgstr ""

#. Tag: para
#: net_samba.xml:20
#, no-c-format
msgid "Using Samba, a Unix machine can be configured as a file and print server for macOS, Windows, and OS/2 machines. Samba has developed into a fully fledged and rather complex product. Configure Samba with &yast;, or by editing the configuration file manually."
msgstr ""

#. Tag: date
#: net_samba.xml:33
#, no-c-format
msgid "2023-08-23"
msgstr ""

#. Tag: title
#: net_samba.xml:41
#, no-c-format
msgid "SMB1 is unsupported"
msgstr ""

#. Tag: para
#: net_samba.xml:42
#, no-c-format
msgid "Starting with Samba version 4.17, the SMB1 protocol has been disabled in &productname; <phrase os=\"sles;sled;slemicro\"> and is no longer supported</phrase> ."
msgstr ""

#. Tag: title
#: net_samba.xml:49
#, no-c-format
msgid "Terminology"
msgstr ""

#. Tag: para
#: net_samba.xml:51
#, no-c-format
msgid "The following are some terms used in Samba documentation and in the &yast; module."
msgstr ""

#. Tag: term
#: net_samba.xml:58
#, no-c-format
msgid "SMB protocol"
msgstr ""

#. Tag: para
#: net_samba.xml:60
#, no-c-format
msgid "Samba uses the SMB (server message block) protocol, which is based on <phrase role=\"productname\">NetBIOS</phrase> services. Microsoft released the protocol so that software from other manufacturers could establish connections to servers running Microsoft operating systems. Samba implements the SMB protocol on top of the TCP/IP protocol, which means that TCP/IP must be installed and enabled on all clients."
msgstr ""

#. Tag: title
#: net_samba.xml:70
#, no-c-format
msgid "&zseries;: NetBIOS support"
msgstr ""

#. Tag: para
#: net_samba.xml:71
#, no-c-format
msgid "&zseries; merely supports SMB over TCP/IP. NetBIOS support is not available on these systems."
msgstr ""

#. Tag: term
#: net_samba.xml:79
#, no-c-format
msgid "CIFS protocol"
msgstr ""

#. Tag: para
#: net_samba.xml:81
#, no-c-format
msgid "The CIFS (Common Internet File System) protocol is an early version of the SMB protocol, also known as SMB1. CIFS defines a standard remote file system access protocol for use over TCP/IP, enabling groups of users to work together and share documents across the Internet."
msgstr ""

#. Tag: para
#: net_samba.xml:88
#, no-c-format
msgid "SMB1 was superseded by SMB2, first released as part of Microsoft Windows Vista&trade;. This was in turn superseded by SMB3 in Microsoft Windows 8&trade; and Microsoft Windows Server 2012. In recent versions of Samba, SMB1 is disabled by default for security reasons."
msgstr ""

#. Tag: term
#: net_samba.xml:98
#, no-c-format
msgid "NetBIOS"
msgstr ""

#. Tag: para
#: net_samba.xml:100
#, no-c-format
msgid "<phrase role=\"productname\">NetBIOS</phrase> is a software interface (API) designed for name resolution and communication between computers on a network. It enables machines connected to the network to reserve names for themselves. After reservation, these machines can be addressed by name. There is no central process that checks names. Any machine on the network can reserve as many names as it wants, as long as the names are not already in use. NetBIOS can be implemented on top of different network protocols. One relatively simple, non-routable implementation is called <phrase role=\"productname\">NetBEUI</phrase> . (This is often confused with the NetBIOS API.) NetBIOS is also supported on top of the Novell IPX/SPX protocol. Since version 3.2, Samba supports NetBIOS over both IPv4 and IPv6."
msgstr ""

#. Tag: para
#: net_samba.xml:115
#, no-c-format
msgid "The NetBIOS names sent via TCP/IP have nothing in common with the names used in <filename>/etc/hosts</filename> or those defined by DNS. NetBIOS uses its own, completely independent naming convention. However, we recommend using names that correspond to DNS host names, to make administration easier, or to use DNS natively. This is the default used by Samba."
msgstr ""

#. Tag: term
#: net_samba.xml:126
#, no-c-format
msgid "Samba server"
msgstr ""

#. Tag: para
#: net_samba.xml:128
#, no-c-format
msgid "Samba server provides SMB/CIFS services and NetBIOS over IP naming services to clients. For Linux, there are three daemons for the Samba server: <literal>smbd</literal> for SMB/CIFS services, <literal>nmbd</literal> for naming services, and <literal>winbind</literal> for authentication."
msgstr ""

#. Tag: term
#: net_samba.xml:138
#, no-c-format
msgid "Samba client"
msgstr ""

#. Tag: para
#: net_samba.xml:140
#, no-c-format
msgid "The Samba client is a system that uses Samba services from a Samba server over the SMB protocol. Common operating systems, such as Windows and macOS, support the SMB protocol. The TCP/IP protocol must be installed on all computers. Samba provides a client for the different Unix flavors. For Linux, there is a kernel module for SMB that allows the integration of SMB resources on the Linux system level. You do not need to run any daemon for the Samba client."
msgstr ""

#. Tag: para
#: net_samba.xml:154
#, no-c-format
msgid "SMB servers provide resources to the clients by <emphasis>shares</emphasis> . Shares are directories (including their subdirectories) and printers on the server. A share is exported by means of a <emphasis>share name</emphasis> , and can be accessed by this name. The share name can be set to any name&mdash;it does not need to be the name of the export directory. Shared printers are also assigned names. Clients can access shared directories and printers by their names."
msgstr ""

#. Tag: para
#: net_samba.xml:164
#, no-c-format
msgid "By convention, share names ending with a dollar symbol ( <literal>$</literal> ) are hidden. When using a Windows computer to browse available shares, they will not be displayed."
msgstr ""

#. Tag: term
#: net_samba.xml:172
#, no-c-format
msgid "DC"
msgstr ""

#. Tag: para
#: net_samba.xml:174
#, no-c-format
msgid "A domain controller (DC) is a server that handles accounts in a domain. For data replication, it is possible to have multiple domain controllers in a single domain."
msgstr ""

#. Tag: para
#: net_samba.xml:186
#, no-c-format
msgid "Installing a Samba server is not supported on &sled;. For information about installing and configuring a Samba server, see &admin; for &sls;."
msgstr ""

#. Tag: title
#: net_samba.xml:192
#, no-c-format
msgid "Installing a Samba server"
msgstr ""

#. Tag: para
#: net_samba.xml:194
#, no-c-format
msgid "To install a Samba server, start &yast; and select <menuchoice><guimenu>Software</guimenu> <guimenu>Software Management</guimenu></menuchoice> . Choose <menuchoice><guimenu>View</guimenu> <guimenu>Patterns</guimenu></menuchoice> and select <guimenu>File Server</guimenu> . Confirm the installation of the required packages to finish the installation process."
msgstr ""

#. Tag: title
#: net_samba.xml:205
#, no-c-format
msgid "Starting and stopping Samba"
msgstr ""

#. Tag: para
#: net_samba.xml:207
#, no-c-format
msgid "You can start or stop the Samba server automatically (during boot) or manually. The starting and stopping policy is a part of the &yast; Samba server configuration described in <xref linkend=\"sec-samba-yast2-conf\"/> ."
msgstr ""

#. Tag: para
#: net_samba.xml:213
#, no-c-format
msgid "From a command line, stop services required for Samba with <command>systemctl stop smb nmb</command> and start them with <command>systemctl start nmb smb</command> . The <literal>smb</literal> service cares about <literal>winbind</literal> if needed."
msgstr ""

#. Tag: title
#: net_samba.xml:221
#, no-c-format
msgid "<systemitem>winbind</systemitem>"
msgstr ""

#. Tag: para
#: net_samba.xml:222
#, no-c-format
msgid "<systemitem>winbind</systemitem> is an independent service and is also offered as an individual <systemitem>samba-winbind</systemitem> package."
msgstr ""

#. Tag: title
#: net_samba.xml:230
#, no-c-format
msgid "Configuring a Samba server"
msgstr ""

#. Tag: para
#: net_samba.xml:232
#, no-c-format
msgid "A Samba server in &productnamereg; can be configured in two different ways: with &yast; or manually. Manual configuration offers a higher level of detail, but lacks the convenience of the &yast; GUI."
msgstr ""

#. Tag: title
#: net_samba.xml:239
#, no-c-format
msgid "Configuring a Samba server with &yast;"
msgstr ""

#. Tag: para
#: net_samba.xml:240
#, no-c-format
msgid "To configure a Samba server, start &yast; and select <menuchoice><guimenu>Network Services</guimenu><guimenu>Samba Server</guimenu></menuchoice> ."
msgstr ""

#. Tag: title
#: net_samba.xml:246
#, no-c-format
msgid "Initial Samba configuration"
msgstr ""

#. Tag: para
#: net_samba.xml:247
#, no-c-format
msgid "When starting the module for the first time, the <guimenu>Samba Installation</guimenu> dialog starts, prompting you to make a few basic decisions concerning the administration of the server. At the end of the configuration, it prompts for the Samba administrator password ( <guimenu>Samba Root Password</guimenu> ). For later starts, the <guimenu>Samba Configuration</guimenu> dialog appears."
msgstr ""

#. Tag: para
#: net_samba.xml:255
#, no-c-format
msgid "The <guimenu>Samba Installation</guimenu> dialog consists of two steps and optional detailed settings:"
msgstr ""

#. Tag: term
#: net_samba.xml:261
#, no-c-format
msgid "Workgroup or domain name"
msgstr ""

#. Tag: para
#: net_samba.xml:263
#, no-c-format
msgid "Select an existing name from <guimenu>Workgroup or Domain Name</guimenu> or enter a new one and click <guimenu>Next</guimenu> ."
msgstr ""

#. Tag: term
#: net_samba.xml:271
#, no-c-format
msgid "Samba server type"
msgstr ""

#. Tag: para
#: net_samba.xml:273
#, no-c-format
msgid "In the next step, specify whether your server should act as a primary domain controller (PDC), backup domain controller (BDC), or not act as a domain controller. Continue with <guimenu>Next</guimenu> ."
msgstr ""

#. Tag: para
#: net_samba.xml:282
#, no-c-format
msgid "If you do not want to proceed with a detailed server configuration, confirm with <guimenu>OK</guimenu> . Then in the final pop-up box, set the <guimenu>Samba root Password</guimenu> ."
msgstr ""

#. Tag: para
#: net_samba.xml:287
#, no-c-format
msgid "You can change all settings later in the <guimenu>Samba Configuration</guimenu> dialog with the <guimenu>Start-Up</guimenu> , <guimenu>Shares</guimenu> , <guimenu>Identity</guimenu> , <guimenu>Trusted Domains</guimenu> , and <guimenu>LDAP Settings</guimenu> tabs."
msgstr ""

#. Tag: title
#: net_samba.xml:296
#, no-c-format
msgid "Enabling current versions of the SMB protocol on the server"
msgstr ""

#. Tag: para
#: net_samba.xml:297
#, no-c-format
msgid "On clients running current versions of &productname; or other recent Linux versions, the insecure SMB1/CIFS protocol is disabled by default. However, existing instances of Samba may be configured to only serve shares using the SMB1/CIFS version of the protocol. To interact with such clients, you need to configure Samba to serve shares using at least the SMB 2.1 protocol."
msgstr ""

#. Tag: para
#: net_samba.xml:305
#, no-c-format
msgid "There are setups in which only SMB1 can be used&mdash;for example, because they rely on SMB1's/CIFS's Unix extensions. These extensions have not been ported to newer protocol versions. If you are in this situation, consider changing your setup or see <xref linkend=\"sec-samba-client-old-server\"/> ."
msgstr ""

#. Tag: para
#: net_samba.xml:312
#, no-c-format
msgid "To do so, in the configuration file <filename>/etc/samba/smb.conf</filename> , set the global parameter <literal>server max protocol = SMB2_10</literal> . For a list of all possible values, see <command>man smb.conf</command> ."
msgstr ""

#. Tag: title
#: net_samba.xml:320
#, no-c-format
msgid "Advanced Samba configuration"
msgstr ""

#. Tag: para
#: net_samba.xml:321
#, no-c-format
msgid "During the first start of the Samba server module, the <guimenu>Samba Configuration</guimenu> dialog appears directly after the two initial steps described in <xref linkend=\"sec-samba-yast2-conf-inst\"/> . Use it to adjust your Samba server configuration."
msgstr ""

#. Tag: para
#: net_samba.xml:327
#, no-c-format
msgid "After editing your configuration, click <guimenu>OK</guimenu> to save your settings."
msgstr ""

#. Tag: title
#: net_samba.xml:332
#, no-c-format
msgid "Starting the server"
msgstr ""

#. Tag: para
#: net_samba.xml:333
#, no-c-format
msgid "In the <guimenu>Start Up</guimenu> tab, configure the start of the Samba server. To start the service every time your system boots, select <guimenu>During Boot</guimenu> . To activate manual start, choose <guimenu>Manually</guimenu> . More information about starting a Samba server is provided in <xref linkend=\"sec-samba-serv-start\"/> ."
msgstr ""

#. Tag: para
#: net_samba.xml:341
#, no-c-format
msgid "In this tab, you can also open ports in your firewall. To do so, select <guimenu>Open Port in Firewall</guimenu> . If you have multiple network interfaces, select the network interface for Samba services by clicking <guimenu>Firewall Details</guimenu> , selecting the interfaces, and clicking <guimenu>OK</guimenu> ."
msgstr ""

#. Tag: para
#: net_samba.xml:351
#, no-c-format
msgid "In the <guimenu>Shares</guimenu> tab, determine the Samba shares to activate. There are some predefined shares, like homes and printers. Use <guimenu>Toggle Status</guimenu> to switch between <guimenu>Active</guimenu> and <guimenu>Inactive</guimenu> . Click <guimenu>Add</guimenu> to add new shares and <guimenu>Delete</guimenu> to delete the selected share."
msgstr ""

#. Tag: para
#: net_samba.xml:359
#, no-c-format
msgid "<guimenu>Allow Users to Share Their Directories</guimenu> enables members of the group in <guimenu>Permitted Group</guimenu> to share directories they own with other users. For example, <systemitem>users</systemitem> for a local scope or <systemitem>DOMAIN\\Users</systemitem> for a domain scope. The user also must make sure that the file system permissions allow access. With <guimenu>Maximum Number of Shares</guimenu> , limit the total amount of shares that may be created. To permit access to user shares without authentication, enable <guimenu>Allow Guest Access</guimenu> ."
msgstr ""

#. Tag: title
#: net_samba.xml:373
#, no-c-format
msgid "Identity"
msgstr ""

#. Tag: para
#: net_samba.xml:374
#, no-c-format
msgid "In the <guimenu>Identity</guimenu> tab, you can determine the domain with which the host is associated ( <guimenu>Base Settings</guimenu> ) and whether to use an alternative host name in the network ( <guimenu>NetBIOS Hostname</guimenu> ). <!-- [x] Retrieve WINS server via DHCP [ ] Use WINS for Hostname Resolution --> It is also possible to use Microsoft Windows Internet Name Service (WINS) for name resolution. In this case, activate <guimenu>Use WINS for Hostname Resolution</guimenu> and decide whether to <guimenu>Retrieve WINS server via DHCP</guimenu> . To set expert global settings or set a user authentication source, <phrase os=\"sles;osuse\">for example LDAP instead of TDB database, </phrase> click <guimenu>Advanced Settings</guimenu> ."
msgstr ""

#. Tag: title
#: net_samba.xml:393
#, no-c-format
msgid "Trusted domains"
msgstr ""

#. Tag: para
#: net_samba.xml:394
#, no-c-format
msgid "To enable users from other domains to access your domain, make the appropriate settings in the <guimenu>Trusted Domains</guimenu> tab. Add a new domain by clicking <guimenu>Add</guimenu> . To remove the selected domain, click <guimenu>Delete</guimenu> ."
msgstr ""

#. Tag: title
#: net_samba.xml:402
#, no-c-format
msgid "LDAP settings"
msgstr ""

#. Tag: para
#: net_samba.xml:403
#, no-c-format
msgid "In the tab <guimenu>LDAP Settings</guimenu> , you can determine the LDAP server to use for authentication. To test the connection to your LDAP server, click <guimenu>Test Connection</guimenu> . To set expert LDAP settings or use default values, click <guimenu>Advanced Settings</guimenu> ."
msgstr ""

#. Tag: para
#: net_samba.xml:410
#, no-c-format
msgid "For more information about LDAP configuration, see <xref linkend=\"cha-security-ldap\"/> ."
msgstr ""

#. Tag: title
#: net_samba.xml:419
#, no-c-format
msgid "Configuring the server manually"
msgstr ""

#. Tag: para
#: net_samba.xml:420
#, no-c-format
msgid "If you intend to use Samba as a server, install <systemitem class=\"resource\">samba</systemitem> . The main configuration file for Samba is <filename>/etc/samba/smb.conf</filename> . This file can be divided into two logical parts. The <literal>[global]</literal> section contains the central and global settings. The following default sections contain the individual file and printer shares:"
msgstr ""

#. Tag: para
#: net_samba.xml:435
#, no-c-format
msgid "[profiles]"
msgstr ""

#. Tag: para
#: net_samba.xml:440
#, no-c-format
msgid "[users]"
msgstr ""

#. Tag: para
#: net_samba.xml:445
#, no-c-format
msgid "[groups]"
msgstr ""

#. Tag: para
#: net_samba.xml:450
#, no-c-format
msgid "[printers]"
msgstr ""

#. Tag: para
#: net_samba.xml:455
#, no-c-format
msgid "[print$]"
msgstr ""

#. Tag: para
#: net_samba.xml:460
#, no-c-format
msgid "Using this approach, options of the shares can be set differently or globally in the <literal>[global]</literal> section, which makes the configuration file easier to understand."
msgstr ""

#. Tag: title
#: net_samba.xml:466
#, no-c-format
msgid "The global section"
msgstr ""

#. Tag: para
#: net_samba.xml:467
#, no-c-format
msgid "The following parameters of the <literal>[global]</literal> section should be modified to match the requirements of your network setup, so other machines can access your Samba server via SMB in a Windows environment."
msgstr ""

#. Tag: term
#: net_samba.xml:476
#, no-c-format
msgid "<literal>workgroup = WORKGROUP</literal>"
msgstr ""

#. Tag: para
#: net_samba.xml:478
#, no-c-format
msgid "This line assigns the Samba server to a workgroup. Replace <literal>WORKGROUP</literal> with an appropriate workgroup in your networking environment. Your Samba server appears under its DNS name unless this name has been assigned to some other machine in the network. If the DNS name is not available, set the server name using <literal>netbiosname=<replaceable>MYNAME</replaceable></literal> . For more details about this parameter, see the <systemitem>smb.conf</systemitem> man page."
msgstr ""

#. Tag: term
#: net_samba.xml:492
#, no-c-format
msgid "<literal>os level = 20</literal>"
msgstr ""

#. Tag: para
#: net_samba.xml:494
#, no-c-format
msgid "This parameter triggers whether your Samba server tries to become an LMB (local master browser) for its workgroup. Choose a very low value, such as <literal>2</literal> , to spare the existing Windows network from any interruptions caused by a misconfigured Samba server. More information about this topic can be found in the Network Browsing chapter of the Samba 3 Howto. For more information about the Samba 3 Howto, see <xref linkend=\"sec-samba-info\"/> ."
msgstr ""

#. Tag: para
#: net_samba.xml:504
#, no-c-format
msgid "If no other SMB server is in your network (such as Windows 2000 server) and you want the Samba server to keep a list of all systems present in the local environment, set the <literal>os level</literal> to a higher value (for example, <literal>65</literal> ). Your Samba server is then chosen as LMB for your local network."
msgstr ""

#. Tag: para
#: net_samba.xml:512
#, no-c-format
msgid "When changing this setting, consider carefully how this could affect an existing Windows network environment. First, test the changes in an isolated network or at a noncritical time of day."
msgstr ""

#. Tag: term
#: net_samba.xml:520
#, no-c-format
msgid "<literal>wins support</literal> and <literal>wins server</literal>"
msgstr ""

#. Tag: para
#: net_samba.xml:522
#, no-c-format
msgid "To integrate your Samba server into an existing Windows network with an active WINS server, enable the <option>wins server</option> option and set its value to the IP address of that WINS server."
msgstr ""

#. Tag: para
#: net_samba.xml:528
#, no-c-format
msgid "If your Windows machines are connected to separate subnets and need to still be aware of each other, you need to set up a WINS server. To turn a Samba server into such a WINS server, set the option <literal>wins support = Yes</literal> . Make sure that only one Samba server of the network has this setting enabled. The options <literal>wins server</literal> and <literal>wins support</literal> must never be enabled at the same time in your <filename>smb.conf</filename> file."
msgstr ""

#. Tag: title
#: net_samba.xml:543
#, no-c-format
msgid "Shares"
msgstr ""

#. Tag: para
#: net_samba.xml:544
#, no-c-format
msgid "The following examples illustrate how a CD-ROM drive and the user directories ( <literal>homes</literal> ) are made available to the SMB clients."
msgstr ""

#. Tag: term
#: net_samba.xml:551
#, no-c-format
msgid "[cdrom]"
msgstr ""

#. Tag: para
#: net_samba.xml:553
#, no-c-format
msgid "To avoid having the CD-ROM drive accidentally made available, these lines are deactivated with comment marks (semicolons in this case). Remove the semicolons in the first column to share the CD-ROM drive with Samba."
msgstr ""

#. Tag: title
#: net_samba.xml:560
#, no-c-format
msgid "A CD-ROM share"
msgstr ""

#. Tag: screen
#: net_samba.xml:561
#, no-c-format
msgid "[cdrom]\n"
      "       comment = Linux CD-ROM\n"
      "       path = /media/cdrom\n"
      "       locking = No"
msgstr ""

#. Tag: term
#: net_samba.xml:568
#, no-c-format
msgid "<option>[cdrom]</option> and <option>comment</option>"
msgstr ""

#. Tag: para
#: net_samba.xml:570
#, no-c-format
msgid "The <literal>[cdrom]</literal> section entry is the name of the share that can be seen by all SMB clients on the network. An additional <literal>comment</literal> can be added to further describe the share."
msgstr ""

#. Tag: term
#: net_samba.xml:579
#, no-c-format
msgid "<option>path = /media/cdrom</option>"
msgstr ""

#. Tag: para
#: net_samba.xml:581
#, no-c-format
msgid "<option>path</option> exports the directory <filename>/media/cdrom</filename> ."
msgstr ""

#. Tag: para
#: net_samba.xml:588
#, no-c-format
msgid "By means of a very restrictive default configuration, this kind of share is only made available to the users present on this system. If this share should be made available to everybody, add a line <literal>guest ok = yes</literal> to the configuration. This setting gives read permissions to anyone on the network. We recommend handling this parameter with great care. This applies even more to the use of this parameter in the <literal>[global]</literal> section."
msgstr ""

#. Tag: term
#: net_samba.xml:601
#, no-c-format
msgid "<option>[homes]</option>"
msgstr ""

#. Tag: para
#: net_samba.xml:603
#, no-c-format
msgid "The <option>[homes]</option> share is of special importance here. If the user has a valid account and password for the Linux file server and their own home directory, they can be connected to it."
msgstr ""

#. Tag: title
#: net_samba.xml:610
#, no-c-format
msgid "[homes] share"
msgstr ""

#. Tag: screen
#: net_samba.xml:611
#, no-c-format
msgid "[homes]\n"
      "        comment = Home Directories\n"
      "        valid users = %S\n"
      "        browseable = No\n"
      "        read only = No\n"
      "        inherit acls = Yes"
msgstr ""

#. Tag: term
#: net_samba.xml:620
#, no-c-format
msgid "[homes]"
msgstr ""

#. Tag: para
#: net_samba.xml:622
#, no-c-format
msgid "As long as there is no other share using the share name of the user connecting to the SMB server, a share is dynamically generated using the <literal>[homes]</literal> share directives. The resulting name of the share is the user name."
msgstr ""

#. Tag: term
#: net_samba.xml:632
#, no-c-format
msgid "<option>valid users = %S</option>"
msgstr ""

#. Tag: para
#: net_samba.xml:634
#, no-c-format
msgid "<literal>%S</literal> is replaced with the concrete name of the share when a connection has been successfully established. For a <option>[homes]</option> share, this is always the user name. As a consequence, access rights to a user's share are restricted exclusively to that user."
msgstr ""

#. Tag: term
#: net_samba.xml:645
#, no-c-format
msgid "<option>browseable = No</option>"
msgstr ""

#. Tag: para
#: net_samba.xml:647
#, no-c-format
msgid "This setting makes the share invisible in the network environment."
msgstr ""

#. Tag: term
#: net_samba.xml:654
#, no-c-format
msgid "<option>read only = No</option>"
msgstr ""

#. Tag: para
#: net_samba.xml:656
#, no-c-format
msgid "By default, Samba prohibits write access to any exported share by means of the <literal>read only = Yes</literal> parameter. To make a share writable, set the value <literal>read only = No</literal> , which is synonymous with <literal>writable = Yes</literal> ."
msgstr ""

#. Tag: term
#: net_samba.xml:666
#, no-c-format
msgid "<option>create mask = 0640</option>"
msgstr ""

#. Tag: para
#: net_samba.xml:668
#, no-c-format
msgid "Systems that are not based on MS Windows NT do not understand the concept of Unix permissions, so they cannot assign permissions when creating a file. The parameter <literal>create mask</literal> defines the access permissions assigned to newly created files. This only applies to writable shares. In effect, this setting means the owner has read and write permissions and the members of the owner's primary group have read permissions. <option>valid users = %S</option> prevents read access even if the group has read permissions. For the group to have read or write access, deactivate the line <option>valid users = %S</option> ."
msgstr ""

#. Tag: title
#: net_samba.xml:689
#, no-c-format
msgid "Do not share <literal>NFS</literal> mounts with Samba"
msgstr ""

#. Tag: para
#: net_samba.xml:690
#, no-c-format
msgid "Sharing <literal>NFS</literal> mounts with Samba may result in data loss and is not supported. Install Samba directly on the file server or consider using alternatives, such as <literal>iSCSI</literal> ."
msgstr ""

#. Tag: title
#: net_samba.xml:699
#, no-c-format
msgid "Security levels"
msgstr ""

#. Tag: para
#: net_samba.xml:700
#, no-c-format
msgid "To improve security, each share access can be protected with a password. SMB offers the following ways of checking permissions:"
msgstr ""

#. Tag: term
#: net_samba.xml:706
#, no-c-format
msgid "User level security ( <literal>security = user</literal> )"
msgstr ""

#. Tag: para
#: net_samba.xml:708
#, no-c-format
msgid "This variant introduces the concept of the user to SMB. Each user must register with the server with their own password. After registration, the server can grant access to individual exported shares dependent on user names."
msgstr ""

#. Tag: term
#: net_samba.xml:717
#, no-c-format
msgid "ADS level security ( <literal>security = ADS</literal> )"
msgstr ""

#. Tag: para
#: net_samba.xml:719
#, no-c-format
msgid "In this mode, Samba will act as a domain member in an Active Directory environment. To operate in this mode, the machine running Samba needs Kerberos installed and configured. You must join the machine using Samba to the ADS realm. This can be done using the &yast; <guimenu>Windows Domain Membership</guimenu> module."
msgstr ""

#. Tag: term
#: net_samba.xml:730
#, no-c-format
msgid "Domain level security ( <literal>security = domain</literal> )"
msgstr ""

#. Tag: para
#: net_samba.xml:732
#, no-c-format
msgid "This mode will only work correctly if the machine has been joined to a Windows NT domain. Samba will try to validate the user name and password by passing it to a Windows Primary or Backup Domain Controller, the same way as a Windows Server would do. It expects the encrypted passwords parameter to be set to <literal>yes</literal> ."
msgstr ""

#. Tag: para
#: net_samba.xml:743
#, no-c-format
msgid "The selection of share, user, server, or domain level security applies to the entire server. It is not possible to offer individual shares of a server configuration with share level security and others with user level security. However, you can run a separate Samba server for each configured IP address on a system."
msgstr ""

#. Tag: para
#: net_samba.xml:750
#, no-c-format
msgid "More information about this subject can be found in the Samba 3 HOWTO. For multiple servers on one system, pay attention to the options <option>interfaces</option> and <option>bind interfaces only</option> ."
msgstr ""

#. Tag: title
#: net_samba.xml:760
#, no-c-format
msgid "Configuring clients"
msgstr ""

#. Tag: para
#: net_samba.xml:762
#, no-c-format
msgid "Clients can only access the Samba server via TCP/IP. NetBEUI and NetBIOS via IPX cannot be used with Samba."
msgstr ""

#. Tag: title
#: net_samba.xml:768
#, no-c-format
msgid "Configuring a Samba client with &yast;"
msgstr ""

#. Tag: para
#: net_samba.xml:769
#, no-c-format
msgid "Configure a Samba client to access resources (files or printers) on the Samba or Windows server. Enter the Windows or Active Directory domain or workgroup in the dialog <menuchoice> <guimenu>Network Services</guimenu> <guimenu>Windows Domain Membership</guimenu></menuchoice> . If you activate <guimenu>Also Use SMB Information for Linux Authentication</guimenu> , the user authentication runs over the Samba, Windows, or Kerberos server."
msgstr ""

#. Tag: para
#: net_samba.xml:778
#, no-c-format
msgid "Click <guimenu>Expert Settings</guimenu> for advanced configuration options. For example, use the <guimenu>Mount Server Directories</guimenu> table to enable mounting the server home directory automatically with authentication. This way users can access their home directories when hosted on CIFS. For details, see the <systemitem>pam_mount</systemitem> man page."
msgstr ""

#. Tag: para
#: net_samba.xml:786
#, no-c-format
msgid "After completing all settings, confirm the dialog to finish the configuration."
msgstr ""

#. Tag: title
#: net_samba.xml:793
#, no-c-format
msgid "Mounting SMB1/CIFS shares on clients"
msgstr ""

#. Tag: para
#: net_samba.xml:794
#, no-c-format
msgid "The first version of the SMB network protocol, SMB1 or CIFS, is an old and insecure protocol, which has been deprecated by its originator, Microsoft. For security reasons, the <command>mount</command> command on &productname; will only mount SMB shares using newer protocol versions by default, namely SMB 2.1, SMB 3.0, or SMB 3.02."
msgstr ""

#. Tag: para
#: net_samba.xml:801
#, no-c-format
msgid "However, this change only affects <command>mount</command> and mounting via <filename>/etc/fstab</filename> . SMB1 is still available by explicitly requiring it. Use the following:"
msgstr ""

#. Tag: para
#: net_samba.xml:808
#, no-c-format
msgid "The <command>smbclient</command> tool."
msgstr ""

#. Tag: para
#: net_samba.xml:813
#, no-c-format
msgid "The Samba server software shipped with <!-- NB: profiling below is intentional - we don't support using SLED as a Samba server. --> <phrase os=\"sles;sled\">&sls;</phrase> <phrase os=\"osuse\">&opensuse;</phrase> ."
msgstr ""

#. Tag: para
#: net_samba.xml:821
#, no-c-format
msgid "There are setups in which this default setting will lead to connection failures, because only SMB1 can be used:"
msgstr ""

#. Tag: para
#: net_samba.xml:827
#, no-c-format
msgid "Setups using an SMB server that does not support newer SMB protocol versions. Windows has offered SMB 2.1 support since Windows 7 and Windows Server 2008."
msgstr ""

#. Tag: para
#: net_samba.xml:834
#, no-c-format
msgid "Setups that rely on SMB1's/CIFS's Unix extensions. These extensions have not been ported to newer protocol versions."
msgstr ""

#. Tag: title
#: net_samba.xml:841
#, no-c-format
msgid "Decreased system security"
msgstr ""

#. Tag: para
#: net_samba.xml:842
#, no-c-format
msgid "Following the instruction below makes it possible to exploit security issues. For more information about the issues, see <link xlink:href=\"https://blogs.technet.microsoft.com/filecab/2016/09/16/stop-using-smb1/\"/> ."
msgstr ""

#. Tag: para
#: net_samba.xml:847
#, no-c-format
msgid "As soon as possible, upgrade your server to allow for a more secure SMB version."
msgstr ""

#. Tag: para
#: net_samba.xml:851
#, no-c-format
msgid "For information about enabling suitable protocol versions on &productname;, see <xref linkend=\"sec-samba-server-new-protocol\"/> ."
msgstr ""

#. Tag: para
#: net_samba.xml:856
#, no-c-format
msgid "If you need to enable SMB1 shares on the current &productname; kernel, add the option <option>vers=1.0</option> to the <command>mount</command> command line you use:"
msgstr ""

#. Tag: screen
#: net_samba.xml:861
#, no-c-format
msgid "&prompt.root;mount -t cifs //<replaceable>HOST</replaceable>/<replaceable>SHARE</replaceable> /<replaceable>MOUNT_POINT</replaceable> –o username=<replaceable>USER_ID</replaceable>,<emphasis role=\"bold\">vers=1.0</emphasis>"
msgstr ""

#. Tag: para
#: net_samba.xml:862
#, no-c-format
msgid "Alternatively, you can enable SMB1 shares globally within your &productname; installation. To do so, add the following to <filename>/etc/samba/smb.conf</filename> under the section <literal>[global]</literal> :"
msgstr ""

#. Tag: screen
#: net_samba.xml:870
#, no-c-format
msgid "client min protocol = CORE"
msgstr ""

#. Tag: title
#: net_samba.xml:874
#, no-c-format
msgid "Samba as login server"
msgstr ""

#. Tag: para
#: net_samba.xml:876
#, no-c-format
msgid "In business settings, it is often desirable to allow access only to users registered on a central instance. In a Windows-based network, this task is handled by a primary domain controller (PDC). You can use a Windows Server configured as PDC, but this task can also be done with a Samba server. The entries that must be made in the <literal>[global]</literal> section of <filename>smb.conf</filename> are shown in <xref linkend=\"dat-samba-smb-conf-dom\"/> ."
msgstr ""

#. Tag: title
#: net_samba.xml:887
#, no-c-format
msgid "Global section in smb.conf"
msgstr ""

#. Tag: screen
#: net_samba.xml:888
#, no-c-format
msgid "[global]\n"
      "    workgroup = WORKGROUP\n"
      "    domain logons = Yes\n"
      "    domain master = Yes"
msgstr ""

#. Tag: para
#: net_samba.xml:894
#, no-c-format
msgid "It is necessary to prepare user accounts and passwords in an encryption format that conforms to Windows. Do this with the command <command>smbpasswd</command> <option>-a name</option> . Create the domain account for the computers required by the Windows domain concept with the following commands:"
msgstr ""

#. Tag: screen
#: net_samba.xml:902
#, no-c-format
msgid "useradd hostname\n"
      "smbpasswd -a -m hostname"
msgstr ""

#. Tag: para
#: net_samba.xml:905
#, no-c-format
msgid "With the <command>useradd</command> command, a dollar sign is added. The command <command>smbpasswd</command> inserts this automatically when the parameter <option>-m</option> is used. The commented configuration example ( <filename>/usr/share/doc/packages/samba/examples/smb.conf.SUSE</filename> ) contains settings that automate this task."
msgstr ""

#. Tag: screen
#: net_samba.xml:914
#, no-c-format
msgid "add machine script = /usr/sbin/useradd -g nogroup -c \"NT Machine Account\" \\\n"
      "-s /bin/false %m\n"
      "     "
msgstr ""

#. Tag: para
#: net_samba.xml:918
#, no-c-format
msgid "To make sure that Samba can execute this script correctly, choose a Samba user with the required administrator permissions and add it to the <systemitem class=\"groupname\">ntadmin</systemitem> group. Then all users belonging to this Linux group can be assigned <literal>Domain Admin</literal> status with the command:"
msgstr ""

#. Tag: screen
#: net_samba.xml:926
#, no-c-format
msgid "net groupmap add ntgroup=\"Domain Admins\" unixgroup=ntadmin"
msgstr ""

#. Tag: title
#: net_samba.xml:929
#, no-c-format
msgid "Samba server in the network with Active Directory"
msgstr ""

#. Tag: para
#: net_samba.xml:931
#, no-c-format
msgid "If you run Linux servers and Windows servers together, you can build two independent authentication systems and networks or connect servers to one network with one central authentication system. Because Samba can cooperate with an Active Directory domain, you can join your &productname; server with an Active Directory (AD) domain."
msgstr ""

#. Tag: para
#: net_samba.xml:939
#, no-c-format
msgid "To join an AD domain, proceed as follows:"
msgstr ""

#. Tag: para
#: net_samba.xml:945
#, no-c-format
msgid "Log in as &rootuser; and start &yast;."
msgstr ""

#. Tag: para
#: net_samba.xml:950
#, no-c-format
msgid "Start <menuchoice> <guimenu>Network Services</guimenu> <guimenu>Windows Domain Membership</guimenu> </menuchoice> ."
msgstr ""

#. Tag: para
#: net_samba.xml:956
#, no-c-format
msgid "Enter the domain to join in the <guimenu>Domain or Workgroup</guimenu> field in the <guimenu>Windows Domain Membership</guimenu> screen."
msgstr ""

#. Tag: title
#: net_samba.xml:962
#, no-c-format
msgid "Determining Windows domain membership"
msgstr ""

#. Tag: textobject
#: net_samba.xml:970
#, no-c-format
msgid "<phrase>Joining workgroup or domain.</phrase>"
msgstr ""

#. Tag: para
#: net_samba.xml:977
#, no-c-format
msgid "Check <guimenu>Also Use SMB Information for Linux Authentication</guimenu> to use the SMB source for Linux authentication on your server."
msgstr ""

#. Tag: para
#: net_samba.xml:984
#, no-c-format
msgid "Click <guimenu>OK</guimenu> and confirm the domain join when prompted for it."
msgstr ""

#. Tag: para
#: net_samba.xml:990
#, no-c-format
msgid "Provide the password for the Windows Administrator on the AD server and click <guimenu>OK</guimenu> ."
msgstr ""

#. Tag: para
#: net_samba.xml:994
#, no-c-format
msgid "Your server is now set up to pull in all authentication data from the Active Directory domain controller."
msgstr ""

#. Tag: para
#: net_samba.xml:1001
#, no-c-format
msgid "Alternatively, you can use the <command>realmd</command> tool to connect to Active Directory. For details, refer to <xref linkend=\"sec-realmd-ad\"/> ."
msgstr ""

#. Tag: title
#: net_samba.xml:1008
#, no-c-format
msgid "Identity mapping"
msgstr ""

#. Tag: para
#: net_samba.xml:1009
#, no-c-format
msgid "In an environment with more than one Samba server, UIDs and GIDs will not be created consistently. The UIDs that get assigned to users will be dependent on the order in which they first log in, which results in UID conflicts across servers. To fix this, you need to use identity mapping. See <link xlink:href=\"https://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/idmapper.html\"/> for more details."
msgstr ""

#. Tag: title
#: net_samba.xml:1021
#, no-c-format
msgid "Using <command>realmd</command> to manage Active Directory"
msgstr ""

#. Tag: para
#: net_samba.xml:1022
#, no-c-format
msgid "<command>realmd</command> is a DBus service that allows you to configure network authentication and domain membership."
msgstr ""

#. Tag: title
#: net_samba.xml:1027
#, no-c-format
msgid "Discovering Active Directory domains"
msgstr ""

#. Tag: para
#: net_samba.xml:1028
#, no-c-format
msgid "<command>realmd</command> discovers which domains or realms can be used or configured by checking the DNS SRV records. Ensure that a DNS SRV record is available for the Active Directory domain to be discovered; <emphasis>domain.example.com</emphasis> in the following example:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1035
#, no-c-format
msgid "_ldap._tcp.dc._msdcs.domain.example.com."
msgstr ""

#. Tag: para
#: net_samba.xml:1036
#, no-c-format
msgid "The DNS records should be created automatically by the DNS server that comes with the Active Directory."
msgstr ""

#. Tag: para
#: net_samba.xml:1040
#, no-c-format
msgid "To discover a particular domain name, run the command:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1043
#, no-c-format
msgid "&prompt.sudo;<command>realm discover --verbose domain.example.com</command>\n"
      "\n"
      "* Resolving: _ldap._tcp.dc._msdcs.domain.example.com\n"
      " * Sending MS-CLDAP ping to: 192.168.20.10\n"
      " * Sending MS-CLDAP ping to: 192.168.12.12\n"
      " * Successfully discovered: domain.example.com\n"
      "...\n"
      "    "
msgstr ""

#. Tag: para
#: net_samba.xml:1051
#, no-c-format
msgid "To join a particular Active Directory domain, run the command:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1054
#, no-c-format
msgid "&prompt.sudo;<command>realm join --verbose domain.example.com</command>"
msgstr ""

#. Tag: para
#: net_samba.xml:1055
#, no-c-format
msgid "Once you joined the Active Directory domain, you can configure the machine to enable logging in using the domain accounts. To do so, run:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1060
#, no-c-format
msgid "&prompt.sudo;<command>realm permit --realm domain.example.com --all</command>"
msgstr ""

#. Tag: para
#: net_samba.xml:1061
#, no-c-format
msgid "To permit only specific accounts by specifying them in the command as follows:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1065
#, no-c-format
msgid "&prompt.sudo;<command>realm permit --realm domain.example.com DOMAIN\\\\<replaceable>USERNAME</replaceable> DOMAIN\\\\<replaceable>USERNAME</replaceable></command>"
msgstr ""

#. Tag: para
#: net_samba.xml:1066
#, no-c-format
msgid "To deny logins from any domain account, use the following command:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1069
#, no-c-format
msgid "&prompt.sudo;<command>realm deny --realm domain.example.com --all</command>"
msgstr ""

#. Tag: title
#: net_samba.xml:1074
#, no-c-format
msgid "Advanced topics"
msgstr ""

#. Tag: para
#: net_samba.xml:1076
#, no-c-format
msgid "This section introduces more advanced techniques to manage both the client and server parts of the Samba suite."
msgstr ""

#. Tag: title
#: net_samba.xml:1082
#, no-c-format
msgid "Automounting CIFS file system using &systemd;"
msgstr ""

#. Tag: para
#: net_samba.xml:1083
#, no-c-format
msgid "You can use &systemd; to mount CIFS shares on startup. To do so, proceed as described further:"
msgstr ""

#. Tag: para
#: net_samba.xml:1089
#, no-c-format
msgid "Create the mount points:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1092
#, no-c-format
msgid "&prompt.user;mkdir -p <replaceable>PATH_SERVER_SHARED_FOLDER</replaceable>"
msgstr ""

#. Tag: para
#: net_samba.xml:1093
#, no-c-format
msgid "where <replaceable>PATH_SERVER_SHARED_FOLDER</replaceable> is <literal>/cifs/shared</literal> in further steps."
msgstr ""

#. Tag: para
#: net_samba.xml:1099
#, no-c-format
msgid "Create the &systemd; unit file and generate a file name from the path specified in the previous step where \"/\" are replaced with \"-\", for example:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1104
#, no-c-format
msgid "&prompt.sudo;touch /etc/systemd/system/cifs-shared.mount"
msgstr ""

#. Tag: para
#: net_samba.xml:1105
#, no-c-format
msgid "with the following content:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1108
#, no-c-format
msgid "\n"
      "[Unit]\n"
      "Description=CIFS share from The-Server\n"
      "\n"
      "[Mount]\n"
      "What=//The-Server/Shared-Folder\n"
      "Where=/cifs/shared\n"
      "Type=cifs\n"
      "Options=rw,username=vagrant,password=admin\n"
      "\n"
      "[Install]\n"
      "WantedBy=multi-user.target\n"
      "            "
msgstr ""

#. Tag: para
#: net_samba.xml:1123
#, no-c-format
msgid "Enable the service:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1126
#, no-c-format
msgid "&prompt.sudo;systemctl enable cifs-shared.mount"
msgstr ""

#. Tag: para
#: net_samba.xml:1129
#, no-c-format
msgid "Start the service:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1132
#, no-c-format
msgid "&prompt.sudo;systemctl start cifs-shared.mount"
msgstr ""

#. Tag: para
#: net_samba.xml:1133
#, no-c-format
msgid "To verify that the service is running, run the command:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1136
#, no-c-format
msgid "&prompt.sudo;systemctl status cifs-shared.mount"
msgstr ""

#. Tag: para
#: net_samba.xml:1139
#, no-c-format
msgid "To confirm that the CIFS shared path is available, try the following command:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1143
#, no-c-format
msgid "&prompt.user; cd /cifs/shared\n"
      "&prompt.user;ls -l\n"
      "\n"
      "total 0\n"
      "-rwxrwxrwx. 1 root    root    0 Oct 24 22:31 hello-world-cifs.txt\n"
      "drwxrwxrwx. 2 root    root    0 Oct 24 22:31 subfolder\n"
      "-rw-r--r--. 1 vagrant vagrant 0 Oct 28 21:51 testfile.txt\n"
      "            "
msgstr ""

#. Tag: title
#: net_samba.xml:1156
#, no-c-format
msgid "Transparent file compression on Btrfs"
msgstr ""

#. Tag: para
#: net_samba.xml:1157
#, no-c-format
msgid "Samba allows clients to remotely manipulate file and directory compression flags for shares placed on the Btrfs file system. Windows Explorer provides the ability to flag files/directories for transparent compression via the <menuchoice><guimenu>File</guimenu><guimenu>Properties</guimenu><guimenu>Advanced</guimenu></menuchoice> dialog:"
msgstr ""

#. Tag: title
#: net_samba.xml:1166
#, no-c-format
msgid "Windows Explorer <guimenu>Advanced Attributes</guimenu> dialog"
msgstr ""

#. Tag: textobject
#: net_samba.xml:1174
#, no-c-format
msgid "<phrase>File properties</phrase>"
msgstr ""

#. Tag: para
#: net_samba.xml:1179
#, no-c-format
msgid "Files flagged for compression are transparently compressed and decompressed by the underlying file system when accessed or modified. This normally results in storage capacity savings at the expense of extra CPU overhead when accessing the file. New files and directories inherit the compression flag from the parent directory, unless created with the FILE_NO_COMPRESSION option."
msgstr ""

#. Tag: para
#: net_samba.xml:1187
#, no-c-format
msgid "Windows Explorer presents compressed files and directories visually differently to those that are not compressed:"
msgstr ""

#. Tag: title
#: net_samba.xml:1192
#, no-c-format
msgid "Windows Explorer directory listing with compressed files"
msgstr ""

#. Tag: textobject
#: net_samba.xml:1200
#, no-c-format
msgid "<phrase>Windows Explorer directory listing</phrase>"
msgstr ""

#. Tag: para
#: net_samba.xml:1205
#, no-c-format
msgid "You can enable Samba share compression either manually by adding"
msgstr ""

#. Tag: screen
#: net_samba.xml:1208
#, no-c-format
msgid "vfs objects = btrfs"
msgstr ""

#. Tag: para
#: net_samba.xml:1209
#, no-c-format
msgid "to the share configuration in <filename>/etc/samba/smb.conf</filename> , or using &yast;: <menuchoice><guimenu>Network Services</guimenu><guimenu>Samba Server</guimenu><guimenu>Add</guimenu></menuchoice> , and checking <guimenu>Utilize Btrfs Features</guimenu> ."
msgstr ""

#. Tag: para
#: net_samba.xml:1216
#, no-c-format
msgid "A general overview of compression on Btrfs can be found in <xref linkend=\"sec-filesystems-major-btrfs-compress\"/> ."
msgstr ""

#. Tag: title
#: net_samba.xml:1223
#, no-c-format
msgid "Snapshots"
msgstr ""

#. Tag: para
#: net_samba.xml:1224
#, no-c-format
msgid "Snapshots, also called Shadow Copies, are copies of the state of a file system subvolume at a certain point in time. Snapper is the tool to manage these snapshots in Linux. Snapshots are supported on the Btrfs file system or thinly provisioned LVM volumes. The Samba suite supports managing remote snapshots through the FSRVP protocol on both the server and client side."
msgstr ""

#. Tag: title
#: net_samba.xml:1233
#, no-c-format
msgid "Previous versions"
msgstr ""

#. Tag: para
#: net_samba.xml:1234
#, no-c-format
msgid "Snapshots on a Samba server can be exposed to remote Windows clients as previous versions of files or directories."
msgstr ""

#. Tag: para
#: net_samba.xml:1238
#, no-c-format
msgid "To enable snapshots on a Samba server, the following conditions must be fulfilled:"
msgstr ""

#. Tag: para
#: net_samba.xml:1244
#, no-c-format
msgid "The SMB network share resides on a Btrfs subvolume."
msgstr ""

#. Tag: para
#: net_samba.xml:1249
#, no-c-format
msgid "The SMB network share path has a related Snapper configuration file. You can create the snapper file with"
msgstr ""

#. Tag: screen
#: net_samba.xml:1253
#, no-c-format
msgid "&prompt.sudo;snapper -c &lt;cfg_name&gt; create-config <option>/path/to/share</option>"
msgstr ""

#. Tag: para
#: net_samba.xml:1254
#, no-c-format
msgid "For more information on Snapper, see <xref linkend=\"cha-snapper\"/> ."
msgstr ""

#. Tag: para
#: net_samba.xml:1260
#, no-c-format
msgid "The snapshot directory tree must allow access for relevant users. For more information, see the PERMISSIONS section of the vfs_snapper manual page ( <command>man 8 vfs_snapper</command> )."
msgstr ""

#. Tag: para
#: net_samba.xml:1267
#, no-c-format
msgid "To support remote snapshots, you need to modify the <filename>/etc/samba/smb.conf</filename> file. You can do this either with <menuchoice><guimenu>&yast;</guimenu><guimenu>Network Services</guimenu><guimenu>Samba Server</guimenu></menuchoice> , or manually by enhancing the relevant share section with"
msgstr ""

#. Tag: screen
#: net_samba.xml:1274
#, no-c-format
msgid "vfs objects = snapper"
msgstr ""

#. Tag: para
#: net_samba.xml:1275
#, no-c-format
msgid "Note that you need to restart the Samba service for manual changes to <filename>smb.conf</filename> to take effect:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1279
#, no-c-format
msgid "&prompt.sudo;systemctl restart nmb smb"
msgstr ""

#. Tag: title
#: net_samba.xml:1281
#, no-c-format
msgid "Adding a new Samba share with snapshots enabled"
msgstr ""

#. Tag: textobject
#: net_samba.xml:1289
#, no-c-format
msgid "<phrase>Adding a new Samba share</phrase>"
msgstr ""

#. Tag: para
#: net_samba.xml:1294
#, no-c-format
msgid "After being configured, snapshots created by Snapper for the Samba share path can be accessed from Windows Explorer from a file or directory's <guimenu>Previous Versions</guimenu> tab."
msgstr ""

#. Tag: title
#: net_samba.xml:1300
#, no-c-format
msgid "The <guimenu>Previous versions</guimenu> tab in Windows explorer"
msgstr ""

#. Tag: textobject
#: net_samba.xml:1308
#, no-c-format
msgid "<phrase>Previous versions tab</phrase>"
msgstr ""

#. Tag: title
#: net_samba.xml:1315
#, no-c-format
msgid "Remote share snapshots"
msgstr ""

#. Tag: para
#: net_samba.xml:1316
#, no-c-format
msgid "By default, snapshots can only be created and deleted on the Samba server locally, via the Snapper command line utility, or using Snapper's timeline feature."
msgstr ""

#. Tag: para
#: net_samba.xml:1321
#, no-c-format
msgid "Samba can be configured to process share snapshot creation and deletion requests from remote hosts using the File Server Remote VSS Protocol (FSRVP)."
msgstr ""

#. Tag: para
#: net_samba.xml:1326
#, no-c-format
msgid "In addition to the configuration and prerequisites documented in <xref linkend=\"sec-samba-advanced-snapshots-client\"/> , the following global configuration is required in <filename>/etc/samba/smb.conf</filename> :"
msgstr ""

#. Tag: screen
#: net_samba.xml:1332
#, no-c-format
msgid "[global]\n"
      "rpc_daemon:fssd = fork\n"
      "registry shares = yes\n"
      "include = registry"
msgstr ""

#. Tag: para
#: net_samba.xml:1336
#, no-c-format
msgid "FSRVP clients, including Samba's <command>rpcclient</command> and Windows Server 2012 <command>DiskShadow.exe</command> , can then instruct Samba to create or delete a snapshot for a given share, and expose the snapshot as a new share."
msgstr ""

#. Tag: title
#: net_samba.xml:1344
#, no-c-format
msgid "Managing snapshots remotely from Linux with <command>rpcclient</command>"
msgstr ""

#. Tag: para
#: net_samba.xml:1345
#, no-c-format
msgid "The <systemitem>samba-client</systemitem> package contains an FSRVP client that can remotely request a Windows/Samba server to create and expose a snapshot of a given share. You can then use existing tools in &productname; to mount the exposed share and back up its files. Requests to the server are sent using the <command>rpcclient</command> binary."
msgstr ""

#. Tag: title
#: net_samba.xml:1354
#, no-c-format
msgid "Using <command>rpcclient</command> to request a Windows server 2012 share snapshot"
msgstr ""

#. Tag: para
#: net_samba.xml:1355
#, no-c-format
msgid "Connect to <literal>win-server.example.com</literal> server as an administrator in an <literal>EXAMPLE</literal> domain:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1359
#, no-c-format
msgid "&prompt.root;rpcclient -U '<replaceable>EXAMPLE</replaceable>\\Administrator' ncacn_np:<replaceable>win-server.example.com</replaceable>[ndr64,sign]\n"
      "Enter EXAMPLE/Administrator's password:"
msgstr ""

#. Tag: para
#: net_samba.xml:1361
#, no-c-format
msgid "Check that the SMB share is visible for <command>rpcclient</command> :"
msgstr ""

#. Tag: para
#: net_samba.xml:1370
#, no-c-format
msgid "Check that the SMB share supports snapshot creation:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1373
#, no-c-format
msgid "&prompt.root;rpcclient $&gt; fss_is_path_sup windows_server_2012_share \\\n"
      "UNC \\\\WIN-SERVER\\windows_server_2012_share\\ supports shadow copy requests"
msgstr ""

#. Tag: para
#: net_samba.xml:1375
#, no-c-format
msgid "Request the creation of a share snapshot:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1378
#, no-c-format
msgid "&prompt.root;rpcclient $&gt; fss_create_expose backup ro windows_server_2012_share\n"
      "13fe880e-e232-493d-87e9-402f21019fb6: shadow-copy set created\n"
      "13fe880e-e232-493d-87e9-402f21019fb6(1c26544e-8251-445f-be89-d1e0a3938777): \\\n"
      "\\\\WIN-SERVER\\windows_server_2012_share\\ shadow-copy added to set\n"
      "13fe880e-e232-493d-87e9-402f21019fb6: prepare completed in 0 secs\n"
      "13fe880e-e232-493d-87e9-402f21019fb6: commit completed in 1 secs\n"
      "13fe880e-e232-493d-87e9-402f21019fb6(1c26544e-8251-445f-be89-d1e0a3938777): \\\n"
      "share windows_server_2012_share@{1C26544E-8251-445F-BE89-D1E0A3938777} \\\n"
      "exposed as a snapshot of \\\\WIN-SERVER\\windows_server_2012_share\\"
msgstr ""

#. Tag: para
#: net_samba.xml:1387
#, no-c-format
msgid "Confirm that the snapshot share is exposed by the server:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1390
#, no-c-format
msgid "&prompt.root;rpcclient $&gt; netshareenum\n"
      "netname: windows_server_2012_share\n"
      "remark:\n"
      "path:   C:\\Shares\\windows_server_2012_share\n"
      "password:       (null)\n"
      "\n"
      "netname: windows_server_2012_share@{1C26544E-8251-445F-BE89-D1E0A3938777}\n"
      "remark: (null)\n"
      "path:   \\\\?\\GLOBALROOT\\Device\\HarddiskVolumeShadowCopy{F6E6507E-F537-11E3-9404-B8AC6F927453}\\Shares\\windows_server_2012_share\\\n"
      "password:       (null)"
msgstr ""

#. Tag: para
#: net_samba.xml:1400
#, no-c-format
msgid "Attempt to delete the snapshot share:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1403
#, no-c-format
msgid "&prompt.root;rpcclient $&gt; fss_delete windows_server_2012_share \\\n"
      "13fe880e-e232-493d-87e9-402f21019fb6 1c26544e-8251-445f-be89-d1e0a3938777\n"
      "13fe880e-e232-493d-87e9-402f21019fb6(1c26544e-8251-445f-be89-d1e0a3938777): \\\n"
      "\\\\WIN-SERVER\\windows_server_2012_share\\ shadow-copy deleted"
msgstr ""

#. Tag: para
#: net_samba.xml:1407
#, no-c-format
msgid "Confirm that the snapshot share has been removed by the server:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1410
#, no-c-format
msgid "&prompt.root;rpcclient $&gt; netshareenum\n"
      "netname: windows_server_2012_share\n"
      "remark:\n"
      "path:   C:\\Shares\\windows_server_2012_share\n"
      "password:       (null)"
msgstr ""

#. Tag: title
#: net_samba.xml:1418
#, no-c-format
msgid "Managing snapshots remotely from Windows with <command>DiskShadow.exe</command>"
msgstr ""

#. Tag: para
#: net_samba.xml:1419
#, no-c-format
msgid "You can manage snapshots of SMB shares on the Linux Samba server from Windows clients as well. Windows Server 2012 includes the <command>DiskShadow.exe</command> utility which can manage remote shares similarly to the <command>rpcclient</command> command described in <xref linkend=\"sec-samba-advanced-snapshots-client-linux\"/> . Note that you need to carefully set up the Samba server first."
msgstr ""

#. Tag: para
#: net_samba.xml:1428
#, no-c-format
msgid "The following is an example procedure to set up the Samba server so that the Windows client can manage its shares' snapshots. Note that <replaceable>EXAMPLE</replaceable> is the Active Directory domain used in the testing environment, <uri>fsrvp-server.example.com</uri> is the host name of the Samba server, and <filename>/srv/smb</filename> is the path to the SMB share."
msgstr ""

#. Tag: title
#: net_samba.xml:1437
#, no-c-format
msgid "Detailed Samba server configuration"
msgstr ""

#. Tag: para
#: net_samba.xml:1439
#, no-c-format
msgid "Join an Active Directory domain via &yast;. <phrase os=\"sles;osuse\"> For more information, see <xref linkend=\"sec-samba-adnet\"/>.</phrase>"
msgstr ""

#. Tag: para
#: net_samba.xml:1446
#, no-c-format
msgid "Ensure that the Active Directory domain's DNS entry is correct:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1449
#, no-c-format
msgid "fsrvp-server:~ # net -U 'Administrator' ads dns register \\\n"
      "fsrvp-server.example.com &lt;IP address&gt;\n"
      "Successfully registered hostname with DNS"
msgstr ""

#. Tag: para
#: net_samba.xml:1454
#, no-c-format
msgid "Create Btrfs subvolume at <filename>/srv/smb</filename> :"
msgstr ""

#. Tag: screen
#: net_samba.xml:1457
#, no-c-format
msgid "fsrvp-server:~ # btrfs subvolume create /srv/smb"
msgstr ""

#. Tag: para
#: net_samba.xml:1460
#, no-c-format
msgid "Create a Snapper configuration file for the path <filename>/srv/smb</filename> :"
msgstr ""

#. Tag: screen
#: net_samba.xml:1464
#, no-c-format
msgid "fsrvp-server:~ # snapper -c &lt;snapper_config&gt; create-config /srv/smb"
msgstr ""

#. Tag: para
#: net_samba.xml:1467
#, no-c-format
msgid "Create a new share with path <filename>/srv/smb</filename> , and the &yast; <guimenu>Expose Snapshots</guimenu> check box enabled. Make sure to add the following snippets to the global section of <filename>/etc/samba/smb.conf</filename> , as mentioned in <xref linkend=\"sec-samba-advanced-snapshots-server\"/> :"
msgstr ""

#. Tag: screen
#: net_samba.xml:1474
#, no-c-format
msgid "[global]\n"
      " rpc_daemon:fssd = fork\n"
      " registry shares = yes\n"
      " include = registry"
msgstr ""

#. Tag: para
#: net_samba.xml:1480
#, no-c-format
msgid "Restart Samba with <command>systemctl restart nmb smb</command> ."
msgstr ""

#. Tag: para
#: net_samba.xml:1485
#, no-c-format
msgid "Configure Snapper permissions:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1488
#, no-c-format
msgid "fsrvp-server:~ # snapper -c &lt;snapper_config&gt; set-config \\\n"
      "ALLOW_USERS=\"EXAMPLE\\\\\\\\Administrator EXAMPLE\\\\\\\\win-client$\""
msgstr ""

#. Tag: para
#: net_samba.xml:1490
#, no-c-format
msgid "Ensure that any instances of <literal>ALLOW_USERS</literal> are also permitted access to the <filename>.snapshots</filename> subdirectory."
msgstr ""

#. Tag: screen
#: net_samba.xml:1495
#, no-c-format
msgid "fsrvp-server:~ # snapper -c &lt;snapper_config&gt; set-config SYNC_ACL=yes"
msgstr ""

#. Tag: title
#: net_samba.xml:1497
#, no-c-format
msgid "Path escaping"
msgstr ""

#. Tag: para
#: net_samba.xml:1498
#, no-c-format
msgid "Be careful about the '\\' escapes! Escape twice to ensure that the value stored in <filename>/etc/snapper/configs/&lt;snapper_config&gt;</filename> is escaped once."
msgstr ""

#. Tag: para
#: net_samba.xml:1505
#, no-c-format
msgid "\"EXAMPLE\\win-client$\" corresponds to the Windows client computer account. Windows issues initial FSRVP requests while authenticated with this account."
msgstr ""

#. Tag: para
#: net_samba.xml:1512
#, no-c-format
msgid "Grant the Windows client account necessary privileges:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1515
#, no-c-format
msgid "fsrvp-server:~ # net -U 'Administrator' rpc rights grant \\\n"
      "\"EXAMPLE\\\\win-client$\" SeBackupPrivilege\n"
      "Successfully granted rights."
msgstr ""

#. Tag: para
#: net_samba.xml:1518
#, no-c-format
msgid "The previous command is not needed for the \"EXAMPLE\\Administrator\" user, which has privileges already granted."
msgstr ""

#. Tag: title
#: net_samba.xml:1526
#, no-c-format
msgid "Windows client setup and <command>DiskShadow.exe</command> in action"
msgstr ""

#. Tag: para
#: net_samba.xml:1528
#, no-c-format
msgid "Boot Windows Server 2012 (example host name WIN-CLIENT)."
msgstr ""

#. Tag: para
#: net_samba.xml:1533
#, no-c-format
msgid "Join the same Active Directory domain EXAMPLE as with the &productname;."
msgstr ""

#. Tag: para
#: net_samba.xml:1539
#, no-c-format
msgid "Reboot."
msgstr ""

#. Tag: para
#: net_samba.xml:1544
#, no-c-format
msgid "Open PowerShell."
msgstr ""

#. Tag: para
#: net_samba.xml:1549
#, no-c-format
msgid "Start <command>DiskShadow.exe</command> and begin the backup procedure:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1553
#, no-c-format
msgid "PS C:\\Users\\Administrator.EXAMPLE&gt; diskshadow.exe\n"
      "Microsoft DiskShadow version 1.0\n"
      "Copyright (C) 2012 Microsoft Corporation\n"
      "On computer:  WIN-CLIENT,  6/17/2014 3:53:54 PM\n"
      "\n"
      "DISKSHADOW&gt; begin backup"
msgstr ""

#. Tag: para
#: net_samba.xml:1561
#, no-c-format
msgid "Specify that shadow copies persist across program exits, resets, and reboots:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1565
#, no-c-format
msgid "DISKSHADOW&gt; set context PERSISTENT"
msgstr ""

#. Tag: para
#: net_samba.xml:1568
#, no-c-format
msgid "Check whether the specified share supports snapshots, and create one:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1572
#, no-c-format
msgid "DISKSHADOW&gt; add volume \\\\fsrvp-server\\sles_snapper\n"
      "\n"
      "DISKSHADOW&gt; create\n"
      "Alias VSS_SHADOW_1 for shadow ID {de4ddca4-4978-4805-8776-cdf82d190a4a} set as \\\n"
      " environment variable.\n"
      "Alias VSS_SHADOW_SET for shadow set ID {c58e1452-c554-400e-a266-d11d5c837cb1} \\\n"
      " set as environment variable.\n"
      "\n"
      "Querying all shadow copies with the shadow copy set ID \\\n"
      " {c58e1452-c554-400e-a266-d11d5c837cb1}\n"
      "\n"
      " * Shadow copy ID = {de4ddca4-4978-4805-8776-cdf82d190a4a}     %VSS_SHADOW_1%\n"
      "    - Shadow copy set: {c58e1452-c554-400e-a266-d11d5c837cb1}  %VSS_SHADOW_SET%\n"
      "    - Original count of shadow copies = 1\n"
      "    - Original volume name: \\\\FSRVP-SERVER\\SLES_SNAPPER\\ \\\n"
      "      [volume not on this machine]\n"
      "    - Creation time: 6/17/2014 3:54:43 PM\n"
      "    - Shadow copy device name:\n"
      "      \\\\FSRVP-SERVER\\SLES_SNAPPER@{31afd84a-44a7-41be-b9b0-751898756faa}\n"
      "    - Originating machine: FSRVP-SERVER\n"
      "    - Service machine: win-client.example.com\n"
      "    - Not exposed\n"
      "    - Provider ID: {89300202-3cec-4981-9171-19f59559e0f2}\n"
      "    - Attributes:  No_Auto_Release Persistent FileShare\n"
      "\n"
      "Number of shadow copies listed: 1"
msgstr ""

#. Tag: para
#: net_samba.xml:1600
#, no-c-format
msgid "Finish the backup procedure:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1603
#, no-c-format
msgid "DISKSHADOW&gt; end backup"
msgstr ""

#. Tag: para
#: net_samba.xml:1606
#, no-c-format
msgid "After the snapshot was created, try to delete it and verify the deletion:"
msgstr ""

#. Tag: screen
#: net_samba.xml:1610
#, no-c-format
msgid "DISKSHADOW&gt; delete shadows volume \\\\FSRVP-SERVER\\SLES_SNAPPER\\\n"
      "Deleting shadow copy {de4ddca4-4978-4805-8776-cdf82d190a4a} on volume \\\n"
      " \\\\FSRVP-SERVER\\SLES_SNAPPER\\ from provider \\\n"
      "{89300202-3cec-4981-9171-19f59559e0f2} [Attributes: 0x04000009]...\n"
      "\n"
      "Number of shadow copies deleted: 1\n"
      "\n"
      "DISKSHADOW&gt; list shadows all\n"
      "\n"
      "Querying all shadow copies on the computer ...\n"
      "No shadow copies found in system."
msgstr ""

#. Tag: title
#: net_samba.xml:1627
#, no-c-format
msgid "More information"
msgstr ""

#. Tag: title
#: net_samba.xml:1632
#, no-c-format
msgid "Man pages:"
msgstr ""

#. Tag: para
#: net_samba.xml:1633
#, no-c-format
msgid "To see a list of all <command>man</command> pages installed with the package <package>samba</package> , run <command>apropos samba</command> . Open any of the man pages with <command>man <replaceable>NAME_OF_MAN_PAGE</replaceable></command> ."
msgstr ""

#. Tag: title
#: net_samba.xml:1643
#, no-c-format
msgid "&suse;-specific README file:"
msgstr ""

#. Tag: para
#: net_samba.xml:1644
#, no-c-format
msgid "The package <package>samba-client</package> contains the file <filename>/usr/share/doc/packages/samba/README.SUSE</filename> ."
msgstr ""

#. Tag: title
#: net_samba.xml:1652
#, no-c-format
msgid "Additional package documentation:"
msgstr ""

#. Tag: para
#: net_samba.xml:1653
#, no-c-format
msgid "Install the package <systemitem>samba-doc</systemitem> with <command>zypper install samba-doc</command> ."
msgstr ""

#. Tag: para
#: net_samba.xml:1658
#, no-c-format
msgid "This documentation installs into <filename>/usr/share/doc/packages/samba</filename> . It contains an HTML version of the man pages and a library of example configurations (such as <filename>smb.conf.SUSE</filename> )."
msgstr ""

#. Tag: title
#: net_samba.xml:1667
#, no-c-format
msgid "Online documentation:"
msgstr ""

#. Tag: para
#: net_samba.xml:1668
#, no-c-format
msgid "The Samba wiki contains extensive <citetitle>User Documentation</citetitle> at <link xlink:href=\"https://wiki.samba.org/index.php/User_Documentation\"/> ."
msgstr ""

