# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2018-06-28 08:14+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <someuser@example.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/x-po; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#: security_vpnserver.xml:75
#, no-c-format
msgid "Configuring a VPN Server"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:78
#, no-c-format
msgid "Today, Internet connections are cheap and available almost everywhere. However, not all connections are secure. Using a Virtual Private Network (VPN), you can create a secure network within an insecure network such as the Internet or Wi-Fi. It can be implemented in different ways and serves several purposes. In this chapter, we focus on the <link xlink:href=\"http://www.openvpn.net\">OpenVPN</link> implementation to link branch offices via secure wide area networks (WANs). <!-- There are diverse other implementations, for example ipsec (implemented by the strongswan, and raccon [ipsec-tools package] packages). Also SSH contains support for VPNs. -->"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:152
#, no-c-format
msgid "Conceptual Overview"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:154
#, no-c-format
msgid "This section defines some terms regarding VPN and gives a brief overview of some scenarios."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:160
#, no-c-format
msgid "Terminology"
msgstr ""

#. Tag: term
#: security_vpnserver.xml:163
#, no-c-format
msgid "Endpoint"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:165
#, no-c-format
msgid "The two <quote>ends</quote> of a tunnel, the source or destination client."
msgstr ""

#. Tag: term
#: security_vpnserver.xml:172
#, no-c-format
msgid "Tap Device"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:174
#, no-c-format
msgid "A tap device simulates an Ethernet device (layer 2 packets in the OSI model, such as IP packets). A tap device is used for creating a network bridge. It works with Ethernet frames."
msgstr ""

#. Tag: term
#: security_vpnserver.xml:182
#, no-c-format
msgid "Tun Device"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:184
#, no-c-format
msgid "A tun device simulates a point-to-point network (layer 3 packets in the OSI model, such as Ethernet frames). A tun device is used with routing and works with IP frames."
msgstr ""

#. Tag: term
#: security_vpnserver.xml:192
#, no-c-format
msgid "Tunnel"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:194
#, no-c-format
msgid "Linking two locations through a primarily public network. From a more technical viewpoint, it is a connection between the client's device and the server's device. Usually a tunnel is encrypted, but it does need to be by definition."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:206
#, no-c-format
msgid "VPN Scenarios"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:207
#, no-c-format
msgid "Whenever you set up a VPN connection, your IP packets are transferred over a secured <emphasis>tunnel</emphasis> . A tunnel can use either a <emphasis>tun</emphasis> or <emphasis>tap</emphasis> device. They are virtual network kernel drivers which implement the transmission of Ethernet frames or IP frames/packets."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:214
#, no-c-format
msgid "Any user space program, such as OpenVPN, can attach itself to a tun or tap device to receive packets sent by your operating system. The program is also able to write packets to the device."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:219
#, no-c-format
msgid "There are many solutions to set up and build a VPN connection. This section focuses on the OpenVPN package. Compared to other VPN software, OpenVPN can be operated in two modes:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:234
#, no-c-format
msgid "Routing is an easy solution to set up. It is more efficient and scales better than a bridged VPN. Furthermore, it allows the user to tune MTU (Maximum Transfer Unit) to raise efficiency. However, in a heterogeneous environment, if you do not have a Samba server on the gateway, NetBIOS broadcasts do not work. If you need IPv6, the drivers for the tun devices on both ends must support this protocol explicitly. This scenario is depicted in <xref linkend=\"fig.vpn.scenario-routed-1\"/> ."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:249
#, no-c-format
msgid "Routed VPN"
msgstr ""

#. Tag: term
#: security_vpnserver.xml:262
#, no-c-format
msgid "Bridged VPN"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:264
#, no-c-format
msgid "Bridging is a more complex solution. It is recommended when you need to browse Windows file shares across the VPN without setting up a Samba or WINS server. Bridged VPN is also needed to use non-IP protocols (such as IPX) or applications relying on network broadcasts. However, it is less efficient than routed VPN. Another disadvantage is that it does not scale well. This scenario is depicted in the following figures."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:286
#, no-c-format
msgid "Bridged VPN - Scenario 1"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:315
#, no-c-format
msgid "Bridged VPN - Scenario 2"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:344
#, no-c-format
msgid "Bridged VPN - Scenario 3"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:357
#, no-c-format
msgid "The major difference between bridging and routing is that a routed VPN cannot IP-broadcast while a bridged VPN can."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:364
#, no-c-format
msgid "Setting Up a Simple Test Scenario"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:366
#, no-c-format
msgid "In the following example, we will create a point-to-point VPN tunnel. The example demonstrates how to create a VPN tunnel between one client and a server. It is assumed that your VPN server will use private IP addresses like <systemitem class=\"ipaddress\"><replaceable>IP_OF_SERVER</replaceable></systemitem> and your client will use the IP address <systemitem class=\"ipaddress\"><replaceable>IP_OF_CLIENT</replaceable></systemitem> . Make sure you select addresses which do not conflict with other IP addresses."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:377
#, no-c-format
msgid "Use Only for Testing"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:378
#, no-c-format
msgid "This following scenario is provided as an example meant for familiarizing yourself with VPN technology. <emphasis>Do not</emphasis> use this as a real world scenario, as it can compromise the security and safety of your IT infrastructure!"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:391
#, no-c-format
msgid "Names for Configuration File"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:392
#, no-c-format
msgid "To simplify working with OpenVPN configuration files, we recommend the following:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:398
#, no-c-format
msgid "Place your OpenVPN configuration files in the directory <filename>/etc/openvpn</filename> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:404
#, no-c-format
msgid "Name your configuration files <filename><replaceable>MY_CONFIGURATION</replaceable>.conf</filename> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:410
#, no-c-format
msgid "If there are multiple files that belong to the same configuration, place them in a subdirectory like <filename>/etc/openvpn/<replaceable>MY_CONFIGURATION</replaceable></filename> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:421
#, no-c-format
msgid "To configure a VPN server, proceed as follows:"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:425
#, no-c-format
msgid "VPN Server Configuration"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:427
#, no-c-format
msgid "Install the package <systemitem class=\"resource\">openvpn</systemitem> on the machine that will later become your VPN server."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:433
#, no-c-format
msgid "Open a shell, become &rootuser; and create the VPN secret key:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:436
#, no-c-format
msgid "&prompt.root;openvpn --genkey --secret /etc/openvpn/secret.key"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:439
#, no-c-format
msgid "Copy the secret key to your client:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:442
#, no-c-format
msgid "&prompt.root;scp /etc/openvpn/secret.key root@<replaceable>IP_OF_CLIENT</replaceable>:/etc/openvpn/"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:445
#, no-c-format
msgid "Create the file <filename>/etc/openvpn/server.conf</filename> with the following content:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:451
#, no-c-format
msgid "dev tun\n"
      "ifconfig <replaceable>IP_OF_SERVER</replaceable> <replaceable>IP_OF_CLIENT</replaceable>\n"
      "secret secret.key"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:461
#, no-c-format
msgid "STARTMODE='manual'\n"
      "BOOTPROTO='static'\n"
      "TUNNEL='tun'\n"
      "TUNNEL_SET_OWNER='nobody'\n"
      "TUNNEL_SET_GROUP='nobody'\n"
      "LINK_REQUIRED=no\n"
      "PRE_UP_SCRIPT='systemd:openvpn@server'\n"
      "PRE_DOWN_SCRIPT='systemd:openvpn@service'"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:469
#, no-c-format
msgid "The notation <literal>openvpn@server</literal> points to the OpenVPN server configuration file located at <filename>/etc/openvpn/server.conf</filename> . For more information, see <filename>/usr/share/doc/packages/openvpn/README.SUSE</filename> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:477
#, no-c-format
msgid "If you use a firewall, start &yast; and open UDP port 1194 ( <menuchoice><guimenu>Security and Users</guimenu><guimenu>Firewall</guimenu><guimenu>Allowed Services</guimenu></menuchoice> )."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:500
#, no-c-format
msgid "To configure the VPN client, do the following:"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:504
#, no-c-format
msgid "VPN Client Configuration"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:506
#, no-c-format
msgid "Install the package <systemitem class=\"resource\">openvpn</systemitem> on your client VPN machine."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:512
#, no-c-format
msgid "Create <filename>/etc/openvpn/client.conf</filename> with the following content:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:516
#, no-c-format
msgid "remote <replaceable>DOMAIN_OR_PUBLIC_IP_OF_SERVER</replaceable>\n"
      "dev tun\n"
      "ifconfig <replaceable>IP_OF_CLIENT</replaceable> <replaceable>IP_OF_SERVER</replaceable>\n"
      "secret secret.key"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:520
#, no-c-format
msgid "Replace the placeholder <replaceable>IP_OF_CLIENT</replaceable> in the first line with either the domain name, or the public IP address of your server."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:527
#, no-c-format
msgid "Set up a tun device configuration by creating a file called <filename>/etc/sysconfig/network/ifcfg-tun0</filename> with the following content:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:532
#, no-c-format
msgid "STARTMODE='manual'\n"
      "BOOTPROTO='static'\n"
      "TUNNEL='tun'\n"
      "TUNNEL_SET_OWNER='nobody'\n"
      "TUNNEL_SET_GROUP='nobody'\n"
      "LINK_REQUIRED=no\n"
      "PRE_UP_SCRIPT='systemd:openvpn@client'\n"
      "PRE_DOWN_SCRIPT='systemd:openvpn@client'"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:542
#, no-c-format
msgid "If you use a firewall, start &yast; and open UDP port 1194 as described in <xref linkend=\"st.security.vpn.simplest.vpnserv.yast\"/> of <xref linkend=\"pro.security.vpn.simplest.vpnserv\"/> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:549
#, no-c-format
msgid "Start the OpenVPN server service by setting the tun device to <literal>up</literal> :"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:553
#, no-c-format
msgid "&prompt.sudo;<command>wicked ifup tun0</command>"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:554
#, no-c-format
msgid "You should see the confirmation:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:557
#, no-c-format
msgid "tun0            up"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:563
#, no-c-format
msgid "Testing the VPN Example Scenario"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:564
#, no-c-format
msgid "After OpenVPN has successfully started, test the availability of the tun device with the following command:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:568
#, no-c-format
msgid "ip addr show tun0"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:569
#, no-c-format
msgid "To verify the VPN connection, use <command>ping</command> on both client and server side to see if they can reach each other. Ping the server from the client:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:574
#, no-c-format
msgid "ping -I tun0 <replaceable>IP_OF_SERVER</replaceable>"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:575
#, no-c-format
msgid "Ping the client from the server:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:578
#, no-c-format
msgid "ping -I tun0 <replaceable>IP_OF_CLIENT</replaceable>"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:583
#, no-c-format
msgid "Setting Up Your VPN Server Using a Certificate Authority"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:585
#, no-c-format
msgid "The example in <xref linkend=\"sec.security.vpn.simplest\" xrefstyle=\"select:label number\"/> is useful for testing, but not for daily work. This section explains how to build a VPN server that allows more than one connection at the same time. This is done with a public key infrastructure (PKI). A PKI consists of a pair of public and private keys for the server and each client, and a master certificate authority (CA), which is used to sign every server and client certificate."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:596
#, no-c-format
msgid "This setup involves the following basic steps:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:602
#, no-c-format
msgid "<xref linkend=\"sec.security.vpn.certs\"/>"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:607
#, no-c-format
msgid "<xref linkend=\"sec.security.vpn.config-server\"/>"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:612
#, no-c-format
msgid "<xref linkend=\"sec.security.vpn.config-clients\"/>"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:619
#, no-c-format
msgid "Creating Certificates"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:620
#, no-c-format
msgid "Before a VPN connection can be established, the client must authenticate the server certificate. Conversely, the server must also authenticate the client certificate. This is called <emphasis>mutual authentication</emphasis> . To create such certificates, use the &yast; CA module. See <xref linkend=\"cha.security.yast_ca\"/> for more details."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:628
#, no-c-format
msgid "To create a VPN root, server, and client CA, proceed as follows:"
msgstr ""

#. Tag: title
#: security_vpnserver.xml:632
#, no-c-format
msgid "Creating a VPN Server Certificate"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:634
#, no-c-format
msgid "Prepare a common VPN Certificate Authority (CA):"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:639
#, no-c-format
msgid "Start the &yast; CA module."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:644
#, no-c-format
msgid "Click <guimenu>Create Root CA</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:649
#, no-c-format
msgid "Enter a <guimenu>CA Name</guimenu> and a <guimenu>Common Name</guimenu> , for example <literal>VPN-Server-CA</literal> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:655
#, no-c-format
msgid "Fill out the other boxes like e-mail addresses, organization, etc. and proceed with <guimenu>Next</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:661
#, no-c-format
msgid "Enter your password twice and proceed with <guimenu>Next</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:666
#, no-c-format
msgid "Review the summary. &yast; displays the current settings for confirmation. Click <guimenu>Create</guimenu> . The root CA is created and displayed in the overview."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:675
#, no-c-format
msgid "Create a VPN server certificate:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:680
#, no-c-format
msgid "Select the root CA you created in <xref linkend=\"st.security.vpn.serverca.vpnrootca\"/> and click <guimenu>Enter CA</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:687
#, no-c-format
msgid "When prompted, enter the <guimenu>CA Password</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:692
#, no-c-format
msgid "Click the <guimenu>Certificate</guimenu> tab and click <menuchoice> <guimenu>Add</guimenu> <guimenu>Add Server Certificate</guimenu> </menuchoice> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:699
#, no-c-format
msgid "Specify a <guimenu>Common Name</guimenu> , for example, <systemitem class=\"fqdomainname\">openvpn.example.com</systemitem> and proceed with <guimenu>Next</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:706
#, no-c-format
msgid "Specify your password and confirm it. Then click <guimenu>Advanced options</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:710
#, no-c-format
msgid "Switch to the <menuchoice> <guimenu>Advanced Settings</guimenu> <guimenu>Key Usage</guimenu> </menuchoice> list and check one of the following sets:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:717
#, no-c-format
msgid "<option>digitalSignature</option> and <option>keyEncipherment</option> , or,"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:723
#, no-c-format
msgid "<option>digitalSignature</option> and <option>keyAgreement</option>"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:729
#, no-c-format
msgid "Switch to the <menuchoice> <guimenu>Advanced Settings</guimenu> <guimenu>extendedKeyUsage</guimenu> </menuchoice> and type <option>serverAuth</option> for a server certificate."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:735
#, no-c-format
msgid "Avoiding Man-in-the-Middle Attacks"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:736
#, no-c-format
msgid "If you are using the method <option>remote-cert-tls server</option> or <option>remote-cert-tls client</option> to verify certificates, limit the number of times a key can be used. This mitigates man-in-the-middle attacks."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:742
#, no-c-format
msgid "For more information, see <link xlink:href=\"http://openvpn.net/index.php/open-source/documentation/howto.html#mitm\"/> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:747
#, no-c-format
msgid "Finish with <guimenu>Ok</guimenu> and proceed with <guimenu>Next</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:753
#, no-c-format
msgid "Review the summary. &yast; displays the current settings for confirmation. Click <guimenu>Create</guimenu> . When the VPN server certificate is created, it is displayed in the <guimenu>Certificates</guimenu> tab."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:763
#, no-c-format
msgid "Create VPN client certificates:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:768
#, no-c-format
msgid "Make sure you are on the <guimenu>Certificates</guimenu> tab."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:773
#, no-c-format
msgid "Click <menuchoice> <guimenu>Add</guimenu> <guimenu>Add Client Certificate</guimenu> </menuchoice> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:779
#, no-c-format
msgid "Enter a <guimenu>Common Name</guimenu> , for example, <systemitem class=\"fqdomainname\">client1.example.com</systemitem> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:785
#, no-c-format
msgid "Enter the e-mail addresses for your client, for example, <systemitem class=\"resource\">user1@client1.example.com</systemitem> , and click <guimenu>Add</guimenu> . Proceed with <guimenu>Next</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:793
#, no-c-format
msgid "Enter your password twice and click <guimenu>Advanced options</guimenu> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:797
#, no-c-format
msgid "Switch to <menuchoice> <guimenu>Advanced Settings</guimenu> <guimenu>Key Usage</guimenu> </menuchoice> list and check one of the following flags:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:803
#, no-c-format
msgid "<option>digitalSignature</option> or,"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:808
#, no-c-format
msgid "<option>keyAgreement</option> or,"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:813
#, no-c-format
msgid "<option>digitalSignature</option> and <option>keyAgreement</option> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:819
#, no-c-format
msgid "Switch to the <menuchoice> <guimenu>Advanced Settings</guimenu> <guimenu>extendedKeyUsage</guimenu> </menuchoice> and type <option>clientAuth</option> for a server certificate."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:826
#, no-c-format
msgid "Review the summary. &yast; displays the current settings for confirmation. Click <guimenu>Create</guimenu> . The VPN client certificate is created and is displayed in the <guimenu>Certificates</guimenu> tab."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:834
#, no-c-format
msgid "If you need certificates for more clients, repeat <xref linkend=\"st.security.vpn.serverca.vpnclientca\"/> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:842
#, no-c-format
msgid "After you have successfully finished <xref linkend=\"pro.security.vpn.serverca\"/> you have a VPN root CA, a VPN server CA, and one or more VPN client CAs. To finish the task, proceed with the following procedure:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:850
#, no-c-format
msgid "Choose the <guimenu>Certificates</guimenu> tab."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:855
#, no-c-format
msgid "Export the VPN server certificate in two formats: PEM and unencrypted key in PEM."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:861
#, no-c-format
msgid "Select your VPN server certificate ( <systemitem class=\"fqdomainname\">openvpn.example.com</systemitem> in our example) and choose <menuchoice> <guimenu>Export</guimenu> <guimenu>Export to File</guimenu> </menuchoice> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:869
#, no-c-format
msgid "Select <guimenu>Only the Certificate in PEM Format</guimenu> , enter your VPN server certificate password and save the file to <filename>/etc/openvpn/server_crt.pem</filename> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:876
#, no-c-format
msgid "Repeat <xref linkend=\"st.security.vpn.selectserverca\"/> and <xref linkend=\"st.security.vpn.selectsaveca\"/> , but choose the format <guimenu>Only the Key Unencrypted in PEM Format</guimenu> . <!--taroth 2014-12-19: fix for https://bugzilla.suse.com/show_bug.cgi?id=910133--> Save the file to <filename>/etc/openvpn/server_key.pem</filename> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:887
#, no-c-format
msgid "Export the VPN client certificates and choose an export format, PEM or PKCS12 (preferred). For each client:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:893
#, no-c-format
msgid "Select your VPN client certificate ( <systemitem class=\"fqdomainname\">client1.example.com</systemitem> in our example) and choose <menuchoice> <guimenu>Export</guimenu> <guimenu>Export to File</guimenu> </menuchoice> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:902
#, no-c-format
msgid "Select <guimenu>Like PKCS12 and Include the CA Chain</guimenu> , enter your VPN client certificate key password and provide a PKCS12 password. Enter a <guimenu>File Name</guimenu> , click <guimenu>Browse</guimenu> and save the file to <filename>/etc/openvpn/client1.p12</filename> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:912
#, no-c-format
msgid "Copy the files to your client (in our example, <systemitem class=\"fqdomainname\">client1.example.com</systemitem> )."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:918
#, no-c-format
msgid "Export the VPN CA (in our example <systemitem>VPN-Server-CA</systemitem> ):"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:924
#, no-c-format
msgid "Switch to the <guimenu>Description</guimenu> tab."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:929
#, no-c-format
msgid "Select <menuchoice> <guimenu>Advanced</guimenu> <guimenu>Export to File</guimenu> </menuchoice> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:935
#, no-c-format
msgid "Mark <guimenu>Only the Certificate in PEM Format</guimenu> and save the file to <filename>/etc/openvpn/vpn_ca.pem</filename> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:943
#, no-c-format
msgid "If desired, the client PKCS12 file can be converted into the PEM format using this command:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:947
#, no-c-format
msgid "openssl pkcs12 -in client1.p12 -out client1.pem"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:948
#, no-c-format
msgid "Enter your client password to create the <filename>client1.pem</filename> file. The PEM file contains the client certificate, client key, and the CA certificate. You can split this combined file using a text editor and create three separate files. The file names can be used for the <option>ca</option> , <option>cert</option> , and <option>key</option> options in the OpenVPN configuration file (see <xref linkend=\"ex.vpn.serv-config\"/> )."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:960
#, no-c-format
msgid "Configuring the VPN Server"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:961
#, no-c-format
msgid "As the basis of your configuration file, copy <filename>/usr/share/doc/packages/openvpn/sample-config-files/server.conf</filename> to <filename>/etc/openvpn/</filename> . Then customize it to your needs."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:967
#, no-c-format
msgid "VPN Server Configuration File"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:969
#, no-c-format
msgid "# /etc/openvpn/server.confport 1194"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:971
#, no-c-format
msgid "dev tun0"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:973
#, no-c-format
msgid "# Security"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:979
#, no-c-format
msgid "ca vpn_ca.pemcert server_crt.pemkey server_key.pem# ns-cert-type server"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:980
#, no-c-format
msgid "remote-cert-tls client"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:981
#, no-c-format
msgid "dh server/dh2048.pem"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:983
#, no-c-format
msgid "server &subnetI;.0 255.255.255.0"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:984
#, no-c-format
msgid "ifconfig-pool-persist /var/run/openvpn/ipp.txt"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:990
#, no-c-format
msgid "user nobodygroup nobody# Other configuration"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:995
#, no-c-format
msgid "keepalive 10 120comp-lzopersist-keypersist-tun# status /var/log/openvpn-status.tun0.log"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:996
#, no-c-format
msgid "# log-append /var/log/openvpn-server.log"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:997
#, no-c-format
msgid "verb 4"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1001
#, no-c-format
msgid "The TCP/UDP port on which OpenVPN listens. You need to open the port in the firewall, see <xref linkend=\"cha.security.firewall\"/> . The standard port for VPN is 1194, so you can usually leave that as it is."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1009
#, no-c-format
msgid "The protocol, either UDP or TCP."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1014
#, no-c-format
msgid "The tun or tap device. For the difference between these, see <xref linkend=\"sec.security.vpn.terminology\"/> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1020
#, no-c-format
msgid "The following lines contain the relative or absolute path to the root server CA certificate ( <literal>ca</literal> ), the root CA key ( <literal>cert</literal> ), and the private server key ( <literal>key</literal> ). These were generated in <xref linkend=\"sec.security.vpn.certs\"/> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1029
#, no-c-format
msgid "Require that peer certificates have been signed with an explicit key usage and extended key usage based on RFC3280 TLS rules. There is a description of how to make a server use this explicit key in <xref linkend=\"pro.security.vpn.serverca\"/> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1037
#, no-c-format
msgid "The Diffie-Hellman parameters. Create the required file with the following command:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:1039
#, no-c-format
msgid "openssl dhparam -out /etc/openvpn/dh2048.pem 2048"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1046
#, no-c-format
msgid "Supplies a VPN subnet. The server can be reached by <systemitem class=\"ipaddress\">&subnetI;.1</systemitem> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1052
#, no-c-format
msgid "Records a mapping of clients and its virtual IP address in the given file. Useful when the server goes down and (after the restart) the clients get their previously assigned IP address."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1066
#, no-c-format
msgid "Several other configuration options&mdash;see the comment in the example configuration file: <filename>/usr/share/doc/packages/openvpn/sample-config-files</filename> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1071
#, no-c-format
msgid "Enable this option to write short status updates with statistical data ( <quote>operational status dump</quote> ) to the named file. By default, this is not enabled."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1080
#, no-c-format
msgid "All output is written to syslog. If you have more than one configuration file (for example, one for home and another for work), it is recommended to include the device name into the file name. This avoids overwriting output files accidentally. In this case, it is <systemitem>tun0</systemitem> , taken from the <option>dev</option> directive&mdash;see <xref linkend=\"co.vpn.servconfig.dev\"/> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1091
#, no-c-format
msgid "By default, log messages go to syslog. Overwrite this behavior by removing the hash character. In that case, all messages go to <filename>/var/log/openvpn-server.log</filename> . Do not forget to configure a logrotate service. See <command>man 8 logrotate</command> for further details."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1100
#, no-c-format
msgid "After having completed this configuration, you can see log messages of your OpenVPN server under <filename>/var/log/openvpn.log</filename> . After having started it for the first time, it should finish with:"
msgstr ""

#. Tag: screen
#: security_vpnserver.xml:1105
#, no-c-format
msgid "... Initialization Sequence Completed"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1106
#, no-c-format
msgid "If you do not see this message, check the log carefully for any hints of what is wrong in your configuration file."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:1113
#, no-c-format
msgid "Configuring the VPN Clients"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1114
#, no-c-format
msgid "As the basis of your configuration file, copy <filename>/usr/share/doc/packages/openvpn/sample-config-files/client.conf</filename> to <filename>/etc/openvpn/</filename> . Then customize it to your needs."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:1120
#, no-c-format
msgid "VPN Client Configuration File"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:1122
#, no-c-format
msgid "# /etc/openvpn/client.confclient"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:1123
#, no-c-format
msgid "dev tun"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:1124
#, no-c-format
msgid "proto udp"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:1125
#, no-c-format
msgid "1194"
msgstr ""

#. Tag: replaceable
#: security_vpnserver.xml:1125
#, no-c-format
msgid "IP_OR_HOST_NAME"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:1125
#, no-c-format
msgid "remote"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:1129
#, no-c-format
msgid "resolv-retry infinitenobindremote-cert-tls server"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:1131
#, no-c-format
msgid "# Privileges"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:1139
#, no-c-format
msgid "user nobodygroup nobody# Try to preserve some state across restarts.persist-keypersist-tun# Security"
msgstr ""

#. Tag: #text
#: security_vpnserver.xml:1142
#, no-c-format
msgid "pkcs12 client1.p12comp-lzo"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1145
#, no-c-format
msgid "Specifies that this machine is a client."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1150
#, no-c-format
msgid "The network device. Both clients and server must use the same device."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1155
#, no-c-format
msgid "The protocol. Use the same settings as on the server."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1160
#, no-c-format
msgid "This is security option for clients which ensures that the host they connect to is a designated server."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1166
#, no-c-format
msgid "Replace the placeholder <replaceable>IP_OR_HOST_NAME</replaceable> with the respective host name or IP address of your VPN server. After the host name, the port of the server is given. You can have multiple lines of <literal>remote</literal> entries pointing to different VPN servers. This is useful for load balancing between different VPN servers."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1176
#, no-c-format
msgid "For security reasons, run the OpenVPN daemon with reduced privileges. To do so, specify that it should use the group and user <systemitem>nobody</systemitem> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1183
#, no-c-format
msgid "Contains the client files. For security reasons, use a separate pair of files for each client."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1189
#, no-c-format
msgid "Turn on compression. Only use this parameter if compression is enabled on the server as well."
msgstr ""

#. Tag: title
#: security_vpnserver.xml:1326
#, no-c-format
msgid "For More Information"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1328
#, no-c-format
msgid "For more information on setting up a VPN connection using &nm;, see <xref linkend=\"sec.nm.vpn\"/> ."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1333
#, no-c-format
msgid "For more information about VPN in general, see:"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1339
#, no-c-format
msgid "<link xlink:href=\"http://www.openvpn.net\"/> : the OpenVPN home page"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1344
#, no-c-format
msgid "<command>man</command> <option>openvpn</option>"
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1349
#, no-c-format
msgid "<filename>/usr/share/doc/packages/openvpn/sample-config-files/</filename> : example configuration files for different scenarios."
msgstr ""

#. Tag: para
#: security_vpnserver.xml:1355
#, no-c-format
msgid "<filename>/usr/src/linux/Documentation/networking/tuntap.txt</filename> , to install the <systemitem class=\"resource\">kernel-source</systemitem> package."
msgstr ""

