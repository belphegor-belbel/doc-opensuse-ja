# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2025-08-04 22:05+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <someuser@example.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/x-po; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#: storage_nfs.xml:8
#, no-c-format
msgid "Sharing file systems with NFS"
msgstr ""

#. Tag: para
#: storage_nfs.xml:11
#, no-c-format
msgid "The <emphasis>Network File System</emphasis> ( <emphasis>NFS</emphasis> ) is a protocol that allows access to files on a server in a manner similar to accessing local files."
msgstr ""

#. Tag: para
#: storage_nfs.xml:17
#, no-c-format
msgid "&productname; installs NFS v4.2, which introduces support for sparse files, file pre-allocation, server-side clone and copy, application data block (ADB), and labeled NFS for mandatory access control (MAC) (requires MAC on both client and server)."
msgstr ""

#. Tag: date
#: storage_nfs.xml:30
#, no-c-format
msgid "2025-05-27"
msgstr ""

#. Tag: title
#: storage_nfs.xml:38
#, no-c-format
msgid "Overview"
msgstr ""

#. Tag: para
#: storage_nfs.xml:40
#, no-c-format
msgid "The <emphasis>Network File System</emphasis> (NFS) is a standardized, well-proven and widely supported network protocol that allows sharing files between separate hosts."
msgstr ""

#. Tag: para
#: storage_nfs.xml:46
#, no-c-format
msgid "The <emphasis>Network Information Service</emphasis> (NIS) can be used to have centralized user management in the network. Combining NFS and NIS allows using file and directory permissions for access control in the network. NFS with NIS makes a network transparent to the user."
msgstr ""

#. Tag: para
#: storage_nfs.xml:53
#, no-c-format
msgid "In the default configuration, NFS trusts the network and thus any machine that is connected to a trusted network. Any user with administrator privileges on any computer with physical access to any network the NFS server trusts can access any files that the server makes available."
msgstr ""

#. Tag: para
#: storage_nfs.xml:61
#, no-c-format
msgid "Often, this level of security is satisfactory, such as when the trusted network is private, localized to a single location with unauthorized access being impossible. In other cases, the need to trust a whole subnet as a unit is restrictive, and there is a need for more fine-grained trust. To meet the need in these cases, NFS supports security levels using the <emphasis>&krb;</emphasis> infrastructure. &krb; requires NFSv4, which is used by default. For details, refer to <xref linkend=\"cha-security-kerberos\"/> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:73
#, no-c-format
msgid "The following are terms used in the &yast; module."
msgstr ""

#. Tag: term
#: storage_nfs.xml:79
#, no-c-format
msgid "Exports"
msgstr ""

#. Tag: para
#: storage_nfs.xml:81
#, no-c-format
msgid "A directory <emphasis>exported</emphasis> by an NFS server, which clients can integrate into their systems."
msgstr ""

#. Tag: term
#: storage_nfs.xml:88
#, no-c-format
msgid "NFS client"
msgstr ""

#. Tag: para
#: storage_nfs.xml:90
#, no-c-format
msgid "The NFS client is a system that uses NFS services from an NFS server over the Network File System protocol. The TCP/IP protocol is already integrated into the Linux kernel. There is no need to install any additional software."
msgstr ""

#. Tag: term
#: storage_nfs.xml:99
#, no-c-format
msgid "NFS server"
msgstr ""

#. Tag: para
#: storage_nfs.xml:101
#, no-c-format
msgid "The NFS server provides NFS services to clients. A running server depends on the following daemons: <systemitem class=\"daemon\">nfsd</systemitem> (worker), <systemitem class=\"daemon\">idmapd</systemitem> (ID-to-name mapping for NFSv4, needed for certain scenarios only), <systemitem class=\"daemon\">statd</systemitem> (file locking), and <systemitem class=\"daemon\">mountd</systemitem> (mount requests)."
msgstr ""

#. Tag: term
#: storage_nfs.xml:114
#, no-c-format
msgid "NFSv3"
msgstr ""

#. Tag: para
#: storage_nfs.xml:116
#, no-c-format
msgid "NFSv3 is the version 3 implementation, the <quote>old</quote> stateless NFS that supports client authentication."
msgstr ""

#. Tag: para
#: storage_nfs.xml:125
#, no-c-format
msgid "NFSv4 is the new version 4 implementation that supports secure user authentication via &krb;. NFSv4 requires one single port only and thus is better suited for environments behind a firewall than NFSv3."
msgstr ""

#. Tag: para
#: storage_nfs.xml:131
#, no-c-format
msgid "The protocol is specified as <link xlink:href=\"https://datatracker.ietf.org/doc/rfc7531/\"/> ."
msgstr ""

#. Tag: term
#: storage_nfs.xml:138
#, no-c-format
msgid "pNFS"
msgstr ""

#. Tag: para
#: storage_nfs.xml:140
#, no-c-format
msgid "Parallel NFS, a protocol extension of NFSv4. Any pNFS clients can directly access the data on an NFS server."
msgstr ""

#. Tag: title
#: storage_nfs.xml:149
#, no-c-format
msgid "Need for DNS"
msgstr ""

#. Tag: para
#: storage_nfs.xml:150
#, no-c-format
msgid "In principle, all exports can be made using IP addresses only. To avoid timeouts, you need a working DNS system. DNS is necessary at least for logging purposes, because the <systemitem class=\"daemon\">mountd</systemitem> daemon does reverse lookups."
msgstr ""

#. Tag: para
#: storage_nfs.xml:165
#, no-c-format
msgid "For installing and configuring an NFS server, refer to the &sls; documentation."
msgstr ""

#. Tag: title
#: storage_nfs.xml:172
#, no-c-format
msgid "Installing NFS server"
msgstr ""

#. Tag: para
#: storage_nfs.xml:174
#, no-c-format
msgid "The NFS server is not part of the default installation. To install the NFS server using &yast;, choose <menuchoice> <guimenu>Software</guimenu> <guimenu>Software Management</guimenu></menuchoice> , select <guimenu>Patterns</guimenu> , and enable the <guimenu>File Server</guimenu> option in the <guimenu>Server Functions</guimenu> section. Click <guimenu>Accept</guimenu> to install the required packages."
msgstr ""

#. Tag: para
#: storage_nfs.xml:184
#, no-c-format
msgid "The pattern does not include the &yast; module for the NFS Server. After the pattern installation is complete, install the module by running:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:189
#, no-c-format
msgid "&prompt.sudo;<command>zypper in yast2-nfs-server</command>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:191
#, no-c-format
msgid "Like NIS, NFS is a client/server system. However, a machine can be both&mdash;it can supply file systems over the network (export) and mount file systems from other hosts (import)."
msgstr ""

#. Tag: title
#: storage_nfs.xml:198
#, no-c-format
msgid "Configuring NFS server"
msgstr ""

#. Tag: para
#: storage_nfs.xml:200
#, no-c-format
msgid "You can configure an NFS server either through &yast; or manually. For authentication, you can combine NFS with &krb;."
msgstr ""

#. Tag: title
#: storage_nfs.xml:206
#, no-c-format
msgid "Exporting file systems with &yast;"
msgstr ""

#. Tag: para
#: storage_nfs.xml:207
#, no-c-format
msgid "With &yast;, turn a host in your network into an NFS server&mdash;a server that exports directories and files. Access can be granted to hosts or members of a group. The server can also provide applications without installing the applications locally on every host."
msgstr ""

#. Tag: para
#: storage_nfs.xml:213
#, no-c-format
msgid "To set up such a server, proceed as follows:"
msgstr ""

#. Tag: title
#: storage_nfs.xml:217
#, no-c-format
msgid "Setting up an NFS server"
msgstr ""

#. Tag: para
#: storage_nfs.xml:219
#, no-c-format
msgid "Start &yast; and select <menuchoice> <guimenu>Network Services</guimenu> <guimenu>NFS Server</guimenu> </menuchoice> ; refer to <xref linkend=\"fig-inst-nfsserver1\"/> . You may be prompted to install additional software."
msgstr ""

#. Tag: title
#: storage_nfs.xml:226
#, no-c-format
msgid "NFS server configuration tool"
msgstr ""

#. Tag: para
#: storage_nfs.xml:240
#, no-c-format
msgid "Click the <guimenu>Start</guimenu> radio button."
msgstr ""

#. Tag: para
#: storage_nfs.xml:254
#, no-c-format
msgid "Check whether you want to <guimenu>Enable NFSv4</guimenu> . If you deactivate NFSv4, &yast; only supports NFSv3. For information about enabling NFSv2, refer to <xref linkend=\"sec-nfs-export-manual-nsfv2\"/> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:262
#, no-c-format
msgid "If NFSv4 is selected, additionally enter the appropriate NFSv4 domain name. This parameter is used by the <systemitem class=\"daemon\">idmapd</systemitem> daemon that is required for &krb; setups or if clients cannot work with numeric user names. Leave it as <literal>localdomain</literal> (the default) if you do not run <systemitem class=\"daemon\">idmapd</systemitem> or do not have any special requirements. For more information on the <systemitem class=\"daemon\">idmapd</systemitem> daemon, refer to <xref linkend=\"var-nfs-export-manual-idmapd\"/> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:276
#, no-c-format
msgid "NFSv4 Domain Name"
msgstr ""

#. Tag: para
#: storage_nfs.xml:277
#, no-c-format
msgid "Note that the domain name needs to be configured on all NFSv4 clients as well. Only clients that share the same domain name as the server can access the server. The default domain name for server and clients is <literal>localdomain</literal> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:289
#, no-c-format
msgid "Click <guimenu>Enable GSS Security</guimenu> if you need secure access to the server. A prerequisite for this is to have &krb; installed on your domain and to have both the server and the clients kerberized. <remark>emap 2011-0824: A reference to a &krb; chapter would be good.</remark> Click <guimenu>Next</guimenu> to proceed with the next configuration dialog."
msgstr ""

#. Tag: para
#: storage_nfs.xml:301
#, no-c-format
msgid "Click <guimenu>Add Directory</guimenu> in the upper half of the dialog to export your directory."
msgstr ""

#. Tag: para
#: storage_nfs.xml:307
#, no-c-format
msgid "If you have not configured the allowed hosts already, another dialog for entering the client information and options pops up automatically. Enter the host wild card (usually you can leave the default settings as they are)."
msgstr ""

#. Tag: para
#: storage_nfs.xml:319
#, no-c-format
msgid "There are four types of host wild cards that you can set for each host; single host, netgroups, wild cards, and IP networks. For more information about these options, refer to the <literal>exports</literal> man page."
msgstr ""

#. Tag: para
#: storage_nfs.xml:326
#, no-c-format
msgid "On Btrfs, we strongly recommend changing the default option <literal>no_subtree_check</literal> to <literal>subtree_check</literal> for security reasons. When several exports with different security settings are performed on the same Btrfs file system, one client having access to one export can access all other exports, too. Using this option prevents such an attack. Alternatively, you can place each export on a separate file system."
msgstr ""

#. Tag: para
#: storage_nfs.xml:335
#, no-c-format
msgid "Click <guimenu>Finish</guimenu> to complete the configuration."
msgstr ""

#. Tag: title
#: storage_nfs.xml:345
#, no-c-format
msgid "Exporting file systems manually"
msgstr ""

#. Tag: para
#: storage_nfs.xml:346
#, no-c-format
msgid "The configuration files for the NFS export service are <filename>/etc/exports</filename> and <filename>/etc/sysconfig/nfs</filename> . Besides these files, <filename>/etc/idmapd.conf</filename> is needed for the NFSv4 server configuration with kerberized NFS or if the clients cannot work with numeric user names."
msgstr ""

#. Tag: para
#: storage_nfs.xml:354
#, no-c-format
msgid "To start or restart the services, run the command <command>systemctl restart nfs-server</command> . This also restarts the RPC port mapper that is required by the NFS server."
msgstr ""

#. Tag: para
#: storage_nfs.xml:359
#, no-c-format
msgid "To make sure the NFS server always starts at boot time, run <command>sudo systemctl enable nfs-server</command> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:364
#, no-c-format
msgid "NFSv4"
msgstr ""

#. Tag: para
#: storage_nfs.xml:365
#, no-c-format
msgid "NFSv4 is the latest version of the NFS protocol available on &productname;. Configuring directories for export with NFSv4 is now the same as with NFSv3."
msgstr ""

#. Tag: para
#: storage_nfs.xml:370
#, no-c-format
msgid "On <phrase os=\"sles;sled\">&sls; 11</phrase> <phrase os=\"osuse\">&opensuse; before Leap</phrase> , the bind mount in <filename>/etc/exports</filename> was mandatory. It is still supported, but now deprecated."
msgstr ""

#. Tag: term
#: storage_nfs.xml:380
#, no-c-format
msgid "<filename>/etc/exports</filename>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:382
#, no-c-format
msgid "The <filename>/etc/exports</filename> file contains a list of entries. Each entry indicates a directory that is shared and how it is shared. A typical entry in <filename>/etc/exports</filename> consists of:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:388
#, no-c-format
msgid "/<replaceable>SHARED</replaceable>/<replaceable>DIRECTORY</replaceable>   <replaceable>HOST</replaceable>(<replaceable>OPTION_LIST</replaceable>)"
msgstr ""

#. Tag: para
#: storage_nfs.xml:389
#, no-c-format
msgid "For example:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:392
#, no-c-format
msgid "/nfs_exports/public *(rw,sync,root_squash,wdelay)\n"
      "/nfs_exports/dept1 *.dept1.&exampledomain;(rw,sync,root_squash,wdelay)\n"
      "/nfs_exports/team1 &subnetI;.0/24(rw,sync,root_squash,wdelay)\n"
      "/nfs_exports/&exampleuser_plain; &subnetI;.2(rw,sync,root_squash)"
msgstr ""

#. Tag: para
#: storage_nfs.xml:396
#, no-c-format
msgid "In this example, the following values for <replaceable>HOST</replaceable> are used:"
msgstr ""

#. Tag: para
#: storage_nfs.xml:402
#, no-c-format
msgid "<literal>*</literal> : exports to all clients on the network"
msgstr ""

#. Tag: para
#: storage_nfs.xml:407
#, no-c-format
msgid "<literal>*.dept1.&exampledomain;</literal> : only exports to clients on the *.dept1.&exampledomain; domain"
msgstr ""

#. Tag: para
#: storage_nfs.xml:413
#, no-c-format
msgid "<literal>&subnetI;.0/24</literal> : only exports to clients with IP addresses in the range of &subnetI;.0/24"
msgstr ""

#. Tag: para
#: storage_nfs.xml:419
#, no-c-format
msgid "<literal>&subnetI;.2</literal> : only exports to the machine with the IP address &subnetI;.2"
msgstr ""

#. Tag: para
#: storage_nfs.xml:425
#, no-c-format
msgid "If you are creating exports of a Btrfs file system, we strongly recommend adding the option <literal>subtree_check</literal> to each export for security reasons."
msgstr ""

#. Tag: para
#: storage_nfs.xml:429
#, no-c-format
msgid "Besides the examples above, you can also restrict exports to netgroups ( <literal>@my-hosts</literal> ) defined in <filename>/etc/netgroup</filename> . For a detailed explanation of all options and their meanings, refer to the <literal>man</literal> page of <filename>/etc/exports</filename> : ( <command>man exports</command> )."
msgstr ""

#. Tag: para
#: storage_nfs.xml:438
#, no-c-format
msgid "In case you have modified <filename>/etc/exports</filename> while the NFS server was running, you need to restart it for the changes to become active: <command>sudo systemctl restart nfs-server</command> ."
msgstr ""

#. Tag: term
#: storage_nfs.xml:456
#, no-c-format
msgid "<filename>/etc/sysconfig/nfs</filename>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:458
#, no-c-format
msgid "The <filename>/etc/sysconfig/nfs</filename> file contains a few parameters that determine NFSv4 server daemon behavior. It is important to set the parameter <systemitem>NFS4_SUPPORT</systemitem> to <literal>yes</literal> (default). <systemitem>NFS4_SUPPORT</systemitem> determines whether the NFS server supports NFSv4 exports and clients."
msgstr ""

#. Tag: para
#: storage_nfs.xml:466
#, no-c-format
msgid "In case you have modified <filename>/etc/sysconfig/nfs</filename> while the NFS server was running, you need to restart it for the changes to become active: <command>sudo systemctl restart nfs-server</command> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:473
#, no-c-format
msgid "Mount options"
msgstr ""

#. Tag: para
#: storage_nfs.xml:474
#, no-c-format
msgid "On <phrase os=\"sles;sled\">&sls; 11</phrase> <phrase os=\"osuse\">&opensuse; before Leap</phrase> , the <option>--bind</option> mount in <filename>/etc/exports</filename> was mandatory. It is still supported, but now deprecated. Configuring directories for export with NFSv4 is now the same as with NFSv3."
msgstr ""

#. Tag: title
#: storage_nfs.xml:485
#, no-c-format
msgid "NFSv2"
msgstr ""

#. Tag: para
#: storage_nfs.xml:486
#, no-c-format
msgid "If NFS clients still depend on NFSv2, enable it on the server in <filename>/etc/sysconfig/nfs</filename> by setting:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:490
#, no-c-format
msgid "NFSD_OPTIONS=\"-V2\"\n"
      "MOUNTD_OPTIONS=\"-V2\""
msgstr ""

#. Tag: para
#: storage_nfs.xml:492
#, no-c-format
msgid "After restarting the service, check whether version 2 is available with the command:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:496
#, no-c-format
msgid "&prompt.user;cat /proc/fs/nfsd/versions\n"
      "+2 +3 +4 +4.1 +4.2"
msgstr ""

#. Tag: term
#: storage_nfs.xml:502
#, no-c-format
msgid "<filename>/etc/idmapd.conf</filename>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:504
#, no-c-format
msgid "The <systemitem class=\"daemon\">idmapd</systemitem> daemon is only required if &krb; authentication is used or if clients cannot work with numeric user names. Linux clients can work with numeric user names since Linux kernel 2.6.39. The <systemitem class=\"daemon\">idmapd</systemitem> daemon does the name-to-ID mapping for NFSv4 requests to the server and replies to the client."
msgstr ""

#. Tag: para
#: storage_nfs.xml:513
#, no-c-format
msgid "If required, <systemitem class=\"daemon\">idmapd</systemitem> needs to run on the NFSv4 server. Name-to-ID mapping on the client is done by <command>nfsidmap</command> provided by the package <package>nfs-client</package> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:519
#, no-c-format
msgid "Ensure user names and UID assignment is done in a uniform way on machines sharing file systems using NFS. You can do this by using NIS, LDAP or any uniform domain authentication mechanism in your domain."
msgstr ""

#. Tag: para
#: storage_nfs.xml:526
#, no-c-format
msgid "The parameter <literal>Domain</literal> must be set in <filename>/etc/idmapd.conf</filename> . It must be the same for the server and all NFSv4 clients that access this server. Clients in a different NFSv4 domain cannot access the server. Sticking with the default domain <literal>localdomain</literal> is recommended. If you need to choose a different name, you may want to go with the FQDN of the host, minus the host name. A sample configuration file looks like the following:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:536
#, no-c-format
msgid "[General]\n"
      "Verbosity = 0\n"
      "Pipefs-Directory = /var/lib/nfs/rpc_pipefs\n"
      "Domain = localdomain\n"
      "\n"
      "[Mapping]\n"
      "Nobody-User = nobody\n"
      "Nobody-Group = nobody"
msgstr ""

#. Tag: para
#: storage_nfs.xml:544
#, no-c-format
msgid "To start the <systemitem class=\"daemon\">idmapd</systemitem> daemon, run <command>systemctl start nfs-idmapd</command> . In case you have modified <filename>/etc/idmapd.conf</filename> while the daemon was running, you need to restart it for the changes to become active: <command>systemctl restart nfs-idmapd</command> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:552
#, no-c-format
msgid "For more information, refer to the man pages of <literal>idmapd</literal> and <literal>idmapd.conf</literal> ( <literal>man idmapd</literal> and <literal>man idmapd.conf</literal> )."
msgstr ""

#. Tag: title
#: storage_nfs.xml:566
#, no-c-format
msgid "NFS with &krb;"
msgstr ""

#. Tag: para
#: storage_nfs.xml:567
#, no-c-format
msgid "To use &krb; authentication for NFS, you must have access to a working &krb; server. The &yast; NFS server module does not set up a &krb; server. Assuming that both server and client are in the same &krb; realm, complete the following server and client procedures before running the NFS configuration."
msgstr ""

#. Tag: title
#: storage_nfs.xml:575
#, no-c-format
msgid "Server setup"
msgstr ""

#. Tag: para
#: storage_nfs.xml:577
#, no-c-format
msgid "Check that the NFS server has a &krb; principal or Service Principal Name (SPN) for nfs/server.fqdn."
msgstr ""

#. Tag: para
#: storage_nfs.xml:583
#, no-c-format
msgid "Check that the nfs/server.fqdn principal keys are in the system keytab."
msgstr ""

#. Tag: para
#: storage_nfs.xml:589
#, no-c-format
msgid "Enable &krb; security for the exported directories."
msgstr ""

#. Tag: para
#: storage_nfs.xml:594
#, no-c-format
msgid "Enable the gssproxy service with <command>systemctl enable gssproxy.service</command> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:600
#, no-c-format
msgid "Start the gssproxy service with <command>systemctl start gssproxy.service</command> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:607
#, no-c-format
msgid "Client setup"
msgstr ""

#. Tag: para
#: storage_nfs.xml:609
#, no-c-format
msgid "Check the NFS client has a &krb; principal or Service Principal Name (SPN) for host/client.fqdn."
msgstr ""

#. Tag: para
#: storage_nfs.xml:615
#, no-c-format
msgid "Check the host/client.fqdn principal keys are in the system keytab."
msgstr ""

#. Tag: para
#: storage_nfs.xml:620
#, no-c-format
msgid "Enable &krb; security for the NFS mounts."
msgstr ""

#. Tag: para
#: storage_nfs.xml:625
#, no-c-format
msgid "Start the rpc-gssd.service with <command>systemctl start rpc-gssd.service</command> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:631
#, no-c-format
msgid "&krb; authentication also requires the <systemitem class=\"daemon\">idmapd</systemitem> daemon to run on server and client. For more information, refer to <xref linkend=\"var-nfs-export-manual-idmapd\"/> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:635
#, no-c-format
msgid "For more information about configuring kerberized NFS, refer to the links in <xref linkend=\"sec-nfs-info\"/> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:642
#, no-c-format
msgid "Configuring clients"
msgstr ""

#. Tag: para
#: storage_nfs.xml:644
#, no-c-format
msgid "To configure your host as an NFS client, you do not need to install additional software. All needed packages are installed by default."
msgstr ""

#. Tag: title
#: storage_nfs.xml:650
#, no-c-format
msgid "Importing file systems with &yast;"
msgstr ""

#. Tag: para
#: storage_nfs.xml:651
#, no-c-format
msgid "Authorized users can mount NFS directories from an NFS server into the local file tree using the &yast; NFS client module. Proceed as follows:"
msgstr ""

#. Tag: title
#: storage_nfs.xml:656
#, no-c-format
msgid "Importing NFS directories"
msgstr ""

#. Tag: para
#: storage_nfs.xml:658
#, no-c-format
msgid "Start the &yast; NFS client module."
msgstr ""

#. Tag: para
#: storage_nfs.xml:664
#, no-c-format
msgid "Click <guimenu>Add</guimenu> in the <guimenu>NFS Shares</guimenu> tab. Enter the host name of the NFS server, the directory to import, and the mount point at which to mount this directory locally."
msgstr ""

#. Tag: para
#: storage_nfs.xml:674
#, no-c-format
msgid "When using NFSv4, select <guimenu>Enable NFSv4</guimenu> in the <guimenu>NFS Settings</guimenu> tab. Additionally, the <guimenu>NFSv4 Domain Name</guimenu> must contain the same value as used by the NFSv4 server. The default domain is <literal>localdomain</literal> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:683
#, no-c-format
msgid "To use &krb; authentication for NFS, GSS security must be enabled. Select <guimenu>Enable GSS Security</guimenu> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:689
#, no-c-format
msgid "If &firewalld; is active on your system, configure it separately for NFS (refer to <xref linkend=\"sec-nfs-firewall\"/> ). &yast; does not yet have complete support for &firewalld;, so ignore the <quote>Firewall not configurable</quote> message and continue."
msgstr ""

#. Tag: para
#: storage_nfs.xml:698
#, no-c-format
msgid "Click <guimenu>OK</guimenu> to save your changes."
msgstr ""

#. Tag: para
#: storage_nfs.xml:703
#, no-c-format
msgid "The configuration is written to <filename>/etc/fstab</filename> and the specified file systems are mounted. When you start the &yast; configuration client at a later time, it also reads the existing configuration from this file."
msgstr ""

#. Tag: title
#: storage_nfs.xml:710
#, no-c-format
msgid "NFS as a root file system"
msgstr ""

#. Tag: para
#: storage_nfs.xml:711
#, no-c-format
msgid "On (diskless) systems where the root partition is mounted via network as an NFS share, you need to be careful when configuring the network device with which the NFS share is accessible."
msgstr ""

#. Tag: para
#: storage_nfs.xml:716
#, no-c-format
msgid "When shutting down or rebooting the system, the default processing order is to turn off network connections then unmount the root partition. With NFS root, this order causes problems as the root partition cannot be cleanly unmounted as the network connection to the NFS share is already deactivated. To prevent the system from deactivating the relevant network device, open the network device configuration tab as described in <xref linkend=\"sec-network-yast-change-start\"/> and choose <guimenu>On NFSroot</guimenu> in the <guimenu>Device Activation</guimenu> pane."
msgstr ""

#. Tag: title
#: storage_nfs.xml:747
#, no-c-format
msgid "Importing file systems manually"
msgstr ""

#. Tag: para
#: storage_nfs.xml:749
#, no-c-format
msgid "The prerequisite for importing file systems manually from an NFS server is a running RPC port mapper. The <option>nfs</option> service takes care to start it properly; thus, start it by entering <command>systemctl start nfs</command> as <systemitem class=\"username\">root</systemitem> . Then remote file systems can be mounted in the file system just like local partitions, using the <command>mount</command> :"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:758
#, no-c-format
msgid "&prompt.sudo;mount <replaceable>HOST</replaceable>:<replaceable>REMOTE-PATH</replaceable> <replaceable>LOCAL-PATH</replaceable>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:759
#, no-c-format
msgid "To import user directories from the <systemitem>&nfsname;</systemitem> machine, for example, use:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:763
#, no-c-format
msgid "&prompt.sudo;mount &nfsname;:/home /home"
msgstr ""

#. Tag: para
#: storage_nfs.xml:764
#, no-c-format
msgid "To define a count of TCP connections that the clients make to the NFS server, you can use the <literal>nconnect</literal> option of the <command>mount</command> command. You can specify any number between 1 and 16, where 1 is the default value if the mount option has not been specified."
msgstr ""

#. Tag: para
#: storage_nfs.xml:771
#, no-c-format
msgid "The <literal>nconnect</literal> setting is applied only during the first mount process to the particular NFS server. If the same client executes the mount command to the same NFS server, all already established connections are shared&mdash;no new connection is established. To change the <literal>nconnect</literal> setting, you have to unmount <emphasis role=\"bold\">all</emphasis> client connections to the particular NFS server. Then you can define a new value for the <literal>nconnect</literal> option."
msgstr ""

#. Tag: para
#: storage_nfs.xml:781
#, no-c-format
msgid "You can find the value of <literal>nconnect</literal> that is in currently in effect in the output of the <command>mount</command> , or in the file <filename>/proc/mounts</filename> . If there is no value for the mount option, then the option has not been used during mounting and the default value of <emphasis>1</emphasis> is in use."
msgstr ""

#. Tag: title
#: storage_nfs.xml:789
#, no-c-format
msgid "Different number of connections than defined by <literal>nconnect</literal>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:790
#, no-c-format
msgid "As you can close and open connections after the first mount, the actual count of connections does not necessarily have to be the same as the value of <literal>nconnect</literal> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:797
#, no-c-format
msgid "Using the automount service"
msgstr ""

#. Tag: para
#: storage_nfs.xml:798
#, no-c-format
msgid "The autofs daemon can be used to mount remote file systems automatically. Add the following entry to the <filename>/etc/auto.master</filename> file:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:803
#, no-c-format
msgid "/nfsmounts /etc/auto.nfs"
msgstr ""

#. Tag: para
#: storage_nfs.xml:804
#, no-c-format
msgid "Now the <filename>/nfsmounts</filename> directory acts as the root for all the NFS mounts on the client if the <filename>auto.nfs</filename> file is filled appropriately. The name <filename>auto.nfs</filename> is chosen for the sake of convenience&mdash;you can choose any name. In <filename>auto.nfs</filename> add entries for all the NFS mounts as follows:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:813
#, no-c-format
msgid "localdata -fstype=nfs server1:/data\n"
      "nfs4mount -fstype=nfs4 server2:/"
msgstr ""

#. Tag: para
#: storage_nfs.xml:815
#, no-c-format
msgid "Activate the settings with <command>systemctl start autofs</command> as &rootuser;. In this example, <filename>/nfsmounts/localdata</filename> , the <filename>/data</filename> directory of <systemitem>server1</systemitem> , is mounted with NFS and <filename>/nfsmounts/nfs4mount</filename> from <systemitem>server2</systemitem> is mounted with NFSv4."
msgstr ""

#. Tag: para
#: storage_nfs.xml:824
#, no-c-format
msgid "If the <filename>/etc/auto.master</filename> file is edited while the service autofs is running, the automounter must be restarted for the changes to take effect with <command>systemctl restart autofs</command> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:832
#, no-c-format
msgid "Manually editing <filename>/etc/fstab</filename>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:833
#, no-c-format
msgid "A typical NFSv3 mount entry in <filename>/etc/fstab</filename> looks like this:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:837
#, no-c-format
msgid "&nfsname;:/data /local/path nfs rw,noauto 0 0"
msgstr ""

#. Tag: para
#: storage_nfs.xml:838
#, no-c-format
msgid "For NFSv4 mounts, use <literal>nfs4</literal> instead of <literal>nfs</literal> in the third column:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:842
#, no-c-format
msgid "&nfsname;:/data /local/pathv4 nfs4 rw,noauto 0 0"
msgstr ""

#. Tag: para
#: storage_nfs.xml:843
#, no-c-format
msgid "The <literal>noauto</literal> option prevents the file system from being mounted automatically at start-up. To mount the respective file system manually, it is possible to shorten the mount command specifying the mount point only:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:849
#, no-c-format
msgid "&prompt.sudo;mount /local/path"
msgstr ""

#. Tag: title
#: storage_nfs.xml:851
#, no-c-format
msgid "Mounting at start-up"
msgstr ""

#. Tag: para
#: storage_nfs.xml:852
#, no-c-format
msgid "If you do not enter the <literal>noauto</literal> option, the init scripts of the system handle the mounts of those file systems at start-up. In that case, you may consider adding the option <option>_netdev</option> , which prevents scripts from trying to mount the share before the network is available."
msgstr ""

#. Tag: title
#: storage_nfs.xml:864
#, no-c-format
msgid "Parallel NFS (pNFS)"
msgstr ""

#. Tag: para
#: storage_nfs.xml:865
#, no-c-format
msgid "NFS is an old protocol, developed in the 1980&nbsp;s. NFS is usually sufficient to share small files. However, to transfer big files or many clients want to access data, an NFS server becomes a bottleneck and has a significant impact on the system performance. This is partly because files are getting bigger, whereas the relative speed of Ethernet has not fully kept pace."
msgstr ""

#. Tag: para
#: storage_nfs.xml:873
#, no-c-format
msgid "When you request a file from a regular NFS server, the server looks up the file metadata, collects all the data, and transfers it over the network to your client. However, the performance bottleneck becomes apparent no matter how small or big the files are:"
msgstr ""

#. Tag: para
#: storage_nfs.xml:881
#, no-c-format
msgid "With small files, most time is spent collecting the metadata."
msgstr ""

#. Tag: para
#: storage_nfs.xml:887
#, no-c-format
msgid "With big files, most time is spent on transferring the data from server to client."
msgstr ""

#. Tag: para
#: storage_nfs.xml:893
#, no-c-format
msgid "pNFS, or parallel NFS, overcomes this limitation as it separates the file system metadata from the location of the data. As such, pNFS requires two types of servers:"
msgstr ""

#. Tag: para
#: storage_nfs.xml:900
#, no-c-format
msgid "A <emphasis>metadata</emphasis> or <emphasis>control server</emphasis> that handles all the non-data traffic"
msgstr ""

#. Tag: para
#: storage_nfs.xml:906
#, no-c-format
msgid "One or more <emphasis>storage server</emphasis> that hold the data"
msgstr ""

#. Tag: para
#: storage_nfs.xml:912
#, no-c-format
msgid "The metadata and the storage servers form a single, logical NFS server. When a client wants to read or write, the metadata server tells the NFSv4 client which storage server to use to access the file chunks. The client can access the data directly on the server."
msgstr ""

#. Tag: para
#: storage_nfs.xml:918
#, no-c-format
msgid "&productname; supports pNFS on the client side only."
msgstr ""

#. Tag: title
#: storage_nfs.xml:922
#, no-c-format
msgid "Configuring pNFS client with &yast;"
msgstr ""

#. Tag: para
#: storage_nfs.xml:923
#, no-c-format
msgid "Proceed as described in <xref linkend=\"pro-nfs-import-yast2\"/> , but click the <guimenu>pNFS (v4.2)</guimenu> check box and optionally <guimenu>NFSv4 share</guimenu> . &yast; do all the necessary steps and write all the required options in the file <filename>/etc/exports</filename> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:932
#, no-c-format
msgid "Configuring pNFS client manually"
msgstr ""

#. Tag: para
#: storage_nfs.xml:933
#, no-c-format
msgid "Refer to <xref linkend=\"sec-nfs-import\"/> to start. Most of the configuration is done by the NFSv4 server. For pNFS, the only difference is to add the <option>nfsvers</option> option and the metadata server <replaceable>MDS_SERVER</replaceable> to your <command>mount</command> command:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:940
#, no-c-format
msgid "&prompt.sudo;mount -t nfs4 -o nfsvers=4.2 <replaceable>MDS_SERVER</replaceable> <replaceable>MOUNTPOINT</replaceable>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:941
#, no-c-format
msgid "To help with debugging, change the value in the <filename>/proc</filename> file system:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:945
#, no-c-format
msgid "&prompt.sudo;echo 32767 &gt; /proc/sys/sunrpc/nfsd_debug\n"
      "&prompt.sudo;echo 32767 &gt; /proc/sys/sunrpc/nfs_debug"
msgstr ""

#. Tag: title
#: storage_nfs.xml:951
#, no-c-format
msgid "Operating an NFS server and clients behind a firewall"
msgstr ""

#. Tag: para
#: storage_nfs.xml:952
#, no-c-format
msgid "Communication between an NFS server and its clients happens via Remote Procedure Calls (RPC). Several RPC services, such as the mount daemon or the file locking service, are part of the Linux NFS implementation. If the server and the clients run behind a firewall, these services and the firewall rules need to be configured to not block the client-server communication."
msgstr ""

#. Tag: para
#: storage_nfs.xml:960
#, no-c-format
msgid "An NFS 4 server is backwards-compatible with NFS version 3, and firewall configurations vary for both versions. If any of your clients use NFS 3 to mount shares, configure your firewall to allow both NFS 4 and NFS 3."
msgstr ""

#. Tag: title
#: storage_nfs.xml:967
#, no-c-format
msgid "NFS 4. <replaceable>x</replaceable>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:968
#, no-c-format
msgid "NFS 4 requires TCP port 2049 to be open on the server side only. To open this port on the firewall, enable the <literal>nfs</literal> service in firewalld <emphasis>on the NFS server</emphasis> :"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:973
#, no-c-format
msgid "&prompt.sudo;firewall-cmd --permanent --add-service=nfs --zone=<replaceable>ACTIVE_ZONE</replaceable>\n"
      "firewall-cmd --reload"
msgstr ""

#. Tag: para
#: storage_nfs.xml:975
#, no-c-format
msgid "Replace <replaceable>ACTIVE_ZONE</replaceable> with the firewall zone used on the NFS server."
msgstr ""

#. Tag: para
#: storage_nfs.xml:979
#, no-c-format
msgid "No additional firewall configuration on the client side is needed when using NFSv4. By default mount defaults to the highest supported NFS version, so if your client supports NFSv4, shares are automatically mounted with version 4.2."
msgstr ""

#. Tag: title
#: storage_nfs.xml:987
#, no-c-format
msgid "NFS 3"
msgstr ""

#. Tag: para
#: storage_nfs.xml:988
#, no-c-format
msgid "NFS 3 requires the following services:"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1008
#, no-c-format
msgid "These services are operated by <systemitem>rpcbind</systemitem> , which, by default, dynamically assigns ports. To permit access to these services behind a firewall, they need configuring to run on a static port first. These ports need opening in the firewall."
msgstr ""

#. Tag: term
#: storage_nfs.xml:1016
#, no-c-format
msgid "<systemitem class=\"daemon\">portmapper</systemitem>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1018
#, no-c-format
msgid "On &productname;, <systemitem class=\"daemon\">portmapper</systemitem> is already configured to run on a static port."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1029
#, no-c-format
msgid "111"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1032
#, no-c-format
msgid "Protocols"
msgstr ""

#. Tag: entry
#: storage_nfs.xml:1040
#, no-c-format
msgid "<screen>&prompt.sudo;firewall-cmd --add-service=rpc-bind --permanent --zone=<replaceable>ACTIVE_ZONE</replaceable></screen>"
msgstr ""

#. Tag: term
#: storage_nfs.xml:1050
#, no-c-format
msgid "<systemitem class=\"daemon\">nfsd</systemitem>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1052
#, no-c-format
msgid "On &productname;, <systemitem class=\"daemon\">nfsd</systemitem> is already configured to run on a static port."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1063
#, no-c-format
msgid "2049"
msgstr ""

#. Tag: entry
#: storage_nfs.xml:1074
#, no-c-format
msgid "<screen>&prompt.sudo;firewall-cmd --add-service=nfs3 --permanent --zone=<replaceable>ACTIVE_ZONE</replaceable></screen>"
msgstr ""

#. Tag: term
#: storage_nfs.xml:1084
#, no-c-format
msgid "<systemitem class=\"daemon\">mountd</systemitem>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1086
#, no-c-format
msgid "On &productname;, <systemitem class=\"daemon\">mountd</systemitem> is already configured to run on a static port."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1097
#, no-c-format
msgid "<replaceable>20048</replaceable>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1105
#, no-c-format
msgid "Server"
msgstr ""

#. Tag: entry
#: storage_nfs.xml:1108
#, no-c-format
msgid "<screen>&prompt.sudo;firewall-cmd --add-service=mountd --permanent --zone=<replaceable>ACTIVE_ZONE</replaceable></screen>"
msgstr ""

#. Tag: term
#: storage_nfs.xml:1118
#, no-c-format
msgid "<systemitem class=\"daemon\">lockd</systemitem>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1120
#, no-c-format
msgid "To set a static port for <systemitem class=\"daemon\">lockd</systemitem> :"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1129
#, no-c-format
msgid "LOCKD_TCPPORT=<replaceable>NNNNN</replaceable>\n"
      "LOCKD_UDPPORT=<replaceable>NNNN</replaceable>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1131
#, no-c-format
msgid "Replace <replaceable>NNNNN</replaceable> with an unused port of your choice. Use the same port for both protocols."
msgstr ""

#. Tag: term
#: storage_nfs.xml:1171
#, no-c-format
msgid "<systemitem class=\"daemon\">statd</systemitem>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1173
#, no-c-format
msgid "To set a static port for <systemitem class=\"daemon\">statd</systemitem> :"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1178
#, no-c-format
msgid "Edit <filename>/etc/sysconfig/nfs</filename> on the server and find and set"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1182
#, no-c-format
msgid "STATD_PORT=<replaceable>NNNNN</replaceable>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1183
#, no-c-format
msgid "Replace <replaceable>NNNNN</replaceable> with an unused port of your choice."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1189
#, no-c-format
msgid "Restart the NFS server:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1192
#, no-c-format
msgid "&prompt.sudo;systemctl restart nfs-server"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1201
#, no-c-format
msgid "Port"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1202
#, no-c-format
msgid "<replaceable>NNNNN</replaceable>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1205
#, no-c-format
msgid "Protocol"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1206
#, no-c-format
msgid "TCP, UDP"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1209
#, no-c-format
msgid "Runs on"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1210
#, no-c-format
msgid "Client, Server"
msgstr ""

#. Tag: entry
#: storage_nfs.xml:1213
#, no-c-format
msgid "<screen>&prompt.sudo;firewall-cmd --add-port=<replaceable>NNNNN</replaceable>/{tcp,udp} --permanent --zone=<replaceable>ACTIVE_ZONE</replaceable></screen>"
msgstr ""

#. Tag: title
#: storage_nfs.xml:1225
#, no-c-format
msgid "Loading a changed <systemitem class=\"daemon\">firewalld</systemitem> configuration"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1226
#, no-c-format
msgid "Whenever you change the <systemitem class=\"daemon\">firewalld</systemitem> configuration, you need to reload the daemon to activate the changes:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1230
#, no-c-format
msgid "&prompt.sudo;firewall-cmd --reload"
msgstr ""

#. Tag: title
#: storage_nfs.xml:1234
#, no-c-format
msgid "Firewall zone"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1235
#, no-c-format
msgid "Make sure to replace <replaceable>ACTIVE_ZONE</replaceable> with the firewall zone used on the respective machine. Depending on the firewall configuration, the active zone can differ from machine to machine."
msgstr ""

#. Tag: title
#: storage_nfs.xml:1244
#, no-c-format
msgid "Managing Access Control Lists over NFSv4"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1246
#, no-c-format
msgid "There is no single standard for Access Control Lists (ACLs) in Linux beyond the read, write and execute ( <literal>rwx</literal> ) flags for user, group and others ( <literal>ugo</literal> ). One option for finer control is the <citetitle>Draft POSIX ACLs</citetitle> , which were never formally standardized by POSIX. Another is the NFSv4 ACLs, designed to be part of the NFSv4 network file system with the goal of making something that provided reasonable compatibility between POSIX systems on Linux and WIN32 systems on Microsoft Windows."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1257
#, no-c-format
msgid "NFSv4 ACLs are not sufficient to correctly implement Draft POSIX ACLs so no attempt has been made to map ACL accesses on an NFSv4 client (such as using <command>setfacl</command> )."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1263
#, no-c-format
msgid "When using NFSv4, Draft POSIX ACLs cannot be used even in emulation and NFSv4 ACLs need to be used directly; that means while <command>setfacl</command> can work on NFSv3, it cannot work on NFSv4. To allow NFSv4 ACLs to be used on an NFSv4 file system, &productname; provides the <filename>nfs4-acl-tools</filename> package, which contains the following:"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1274
#, no-c-format
msgid "<command>nfs4-getfacl</command>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1279
#, no-c-format
msgid "<command>nfs4-setfacl</command>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1284
#, no-c-format
msgid "<command>nfs4-editacl</command>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1290
#, no-c-format
msgid "These operate in a generally similar way to <command>getfacl</command> and <command>setfacl</command> for examining and modifying NFSv4 ACLs. These commands are effective only if the file system on the NFS server provides full support for NFSv4 ACLs. Any limitation imposed by the server affects programs running on the client, in that certain combinations of Access Control Entries (ACEs) might not be possible."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1299
#, no-c-format
msgid "It is not supported to mount NFS volumes locally on the exporting NFS server."
msgstr ""

#. Tag: bridgehead
#: storage_nfs.xml:1304
#, no-c-format
msgid "Additional Information"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1306
#, no-c-format
msgid "For information, refer to <citetitle>Introduction to NFSv4 ACLs</citetitle> at <link xlink:href=\"https://wiki.linux-nfs.org/wiki/index.php/ACLs#Introduction_to_NFSv4_ACLs\"/> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:1312
#, no-c-format
msgid "More information"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1314
#, no-c-format
msgid "Besides the man pages of <command>exports</command> , <command>nfs</command> , and <command>mount</command> , information about configuring an NFS server and client is available in <filename>/usr/share/doc/packages/nfsidmap/README</filename> . For further documentation online, refer to the following Web sites:"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1324
#, no-c-format
msgid "For general information about network security, refer to <xref linkend=\"cha-security-firewall\"/> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1330
#, no-c-format
msgid "Refer to <xref linkend=\"sec-autofs-nfs\"/> if you need to automatically mount NFS exports."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1336
#, no-c-format
msgid "For more details about configuring NFS by using &ay;, refer to <xref linkend=\"ay-nfs\"/> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1342
#, no-c-format
msgid "For instructions about securing NFS exports with &krb;, refer to <xref linkend=\"sec-security-kerberos-nfs\"/> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1348
#, no-c-format
msgid "Find the detailed technical documentation online at <link xlink:href=\"https://nfs.sourceforge.net/\">SourceForge</link> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:1356
#, no-c-format
msgid "Gathering information for NFS troubleshooting"
msgstr ""

#. Tag: title
#: storage_nfs.xml:1359
#, no-c-format
msgid "Common troubleshooting"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1360
#, no-c-format
msgid "In certain cases, you can understand the problem with your NFS by reading the error messages produced and looking into the <filename>/var/log/messages</filename> file. However, often, the information provided by the error messages and in <filename>/var/log/messages</filename> is not detailed enough. In these cases, most NFS problems can be best understood through capturing network packets while reproducing the problem."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1369
#, no-c-format
msgid "Define the problem. Examine the problem by testing the system in a variety of ways and determining when the problem occurs. Isolate the simplest steps that lead to the problem. Then try to reproduce the problem as described in the procedure below."
msgstr ""

#. Tag: title
#: storage_nfs.xml:1376
#, no-c-format
msgid "Reproducing the problem"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1378
#, no-c-format
msgid "Capture network packets. On Linux, you can use the <command>tcpdump</command> command, which is supplied by the <package>tcpdump</package> package."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1383
#, no-c-format
msgid "An example of <command>tcpdump</command> syntax follows:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1386
#, no-c-format
msgid "tcpdump -s0 -i <replaceable>eth0</replaceable> -w <replaceable>/tmp/nfs-demo.cap</replaceable> host <replaceable>x.x.x.x</replaceable>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1387
#, no-c-format
msgid "Where:"
msgstr ""

#. Tag: term
#: storage_nfs.xml:1392
#, no-c-format
msgid "s0"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1394
#, no-c-format
msgid "Prevents packet truncation"
msgstr ""

#. Tag: term
#: storage_nfs.xml:1400
#, no-c-format
msgid "eth0"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1402
#, no-c-format
msgid "Should be replaced with the name of the local interface which the packets pass through. You can use the <literal>any</literal> value to capture all interfaces at the same time, but usage of this attribute often results in inferior data as well as confusion in analysis."
msgstr ""

#. Tag: term
#: storage_nfs.xml:1412
#, no-c-format
msgid "w"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1414
#, no-c-format
msgid "Designates the name of the capture file to write."
msgstr ""

#. Tag: term
#: storage_nfs.xml:1420
#, no-c-format
msgid "x.x.x.x"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1422
#, no-c-format
msgid "Should be replaced with the IP address of the other end of the NFS connection. For example, when taking a <command>tcpdump</command> at the NFS client side, specify the IP address of the NFS Server, and vice versa."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1432
#, no-c-format
msgid "In certain cases, capturing the data at either the NFS client or NFS server is sufficient. However, in cases where end-to-end network integrity is in doubt, it is often necessary to capture data at both ends."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1439
#, no-c-format
msgid "Do not shut down the <command>tcpdump</command> process and proceed to the next step."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1445
#, no-c-format
msgid "(Optional) If the problem occurs during execution of the <command>nfs mount</command> command itself, you can try to use the high-verbosity option ( <literal>-vvv</literal> ) of the <command>nfs mount</command> command to get more output."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1453
#, no-c-format
msgid "(Optional) Get an <command>strace</command> of the reproduction method. An <command>strace</command> of reproduction steps records exactly what system calls were made at exactly what time. This information can be used to further determine on which events in the <literal>tcpdump</literal> you should focus."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1460
#, no-c-format
msgid "For example, if you found out that executing the command <emphasis>mycommand --param</emphasis> was failing on an NFS mount, then you could <command>strace</command> the command with:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1465
#, no-c-format
msgid "strace -ttf -s128 -o/tmp/nfs-strace.out mycommand --param"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1466
#, no-c-format
msgid "In case you do not get any <command>strace</command> of the reproduction step, note the time when the problem was reproduced. Check the <filename>/var/log/messages</filename> log file to isolate the problem."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1474
#, no-c-format
msgid "Once the problem has been reproduced, stop <command>tcpdump</command> running in your terminal by pressing <keycombo><keycap>CTRL</keycap><keycap>c</keycap></keycombo> . If the <command>strace</command> command resulted in a hang, also stop the <command>strace</command> command."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1483
#, no-c-format
msgid "An administrator with experience in analyzing packet traces and <command>strace</command> data can now inspect data in <filename>/tmp/nfs-demo.cap</filename> and <filename>/tmp/nfs-strace.out</filename> ."
msgstr ""

#. Tag: title
#: storage_nfs.xml:1494
#, no-c-format
msgid "Advanced NFS debugging"
msgstr ""

#. Tag: title
#: storage_nfs.xml:1496
#, no-c-format
msgid "Advanced debugging is for experts"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1497
#, no-c-format
msgid "Please bear in mind that the following section is intended only for skilled NFS administrators who understand the NFS code. Therefore, perform the first steps described in <xref linkend=\"sec-nfs-common-troubleshooting\"/> to help narrow down the problem and to inform an expert about which areas of debug code (if any) might be needed to learn deeper details."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1506
#, no-c-format
msgid "There are sections of debug code that can be enabled to gather additional NFS-related information. However, the debug messages are cryptic and the volume of them can be so large that the use of debug code can affect system performance. It may even impact the system enough to prevent the problem from occurring. In most cases, the debug code output is not needed, nor is it typically useful to anyone who is not highly familiar with the NFS code."
msgstr ""

#. Tag: title
#: storage_nfs.xml:1516
#, no-c-format
msgid "Activating debugging with <command>rpcdebug</command>"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1517
#, no-c-format
msgid "The <command>rpcdebug</command> tool allows you to set and clear NFS client and server debug flags. In case the <command>rpcdebug</command> tool is not available in your &productname; installation, you can install it from the package <package>nfs-client</package> or <package>nfs-kernel-server</package> for the NFS server."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1523
#, no-c-format
msgid "To set debug flags, run:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1526
#, no-c-format
msgid "rpcdebug -m <replaceable>module</replaceable> -s flags"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1527
#, no-c-format
msgid "To clear the debug flags, run:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1530
#, no-c-format
msgid "rpcdebug -m <replaceable>module</replaceable> -c flags"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1531
#, no-c-format
msgid "where <replaceable>module</replaceable> can be:"
msgstr ""

#. Tag: term
#: storage_nfs.xml:1536
#, no-c-format
msgid "nfsd"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1538
#, no-c-format
msgid "Debug for the NFS server code"
msgstr ""

#. Tag: term
#: storage_nfs.xml:1544
#, no-c-format
msgid "nfs"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1546
#, no-c-format
msgid "Debug for the NFS client code"
msgstr ""

#. Tag: term
#: storage_nfs.xml:1552
#, no-c-format
msgid "nlm"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1554
#, no-c-format
msgid "Debug for the NFS Lock Manager, at either the NFS client or NFS server. This only applies to NFS v2/v3."
msgstr ""

#. Tag: term
#: storage_nfs.xml:1561
#, no-c-format
msgid "rpc"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1563
#, no-c-format
msgid "Debug for the Remote Procedure Call module, at either the NFS client or NFS server."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1570
#, no-c-format
msgid "For information on detailed usage of the <command>rpcdebug</command> command, refer to the man page:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1574
#, no-c-format
msgid "man 8 rpcdebug"
msgstr ""

#. Tag: title
#: storage_nfs.xml:1577
#, no-c-format
msgid "Activating debug for other code upon which NFS depends"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1578
#, no-c-format
msgid "NFS activities may depend on other related services, such as the NFS mount daemon&mdash; <command>rpc.mountd</command> . You can set options for related services within <filename>/etc/sysconfig/nfs</filename> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1583
#, no-c-format
msgid "For example, <filename>/etc/sysconfig/nfs</filename> contains the parameter:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1587
#, no-c-format
msgid "MOUNTD_OPTIONS=\"\""
msgstr ""

#. Tag: para
#: storage_nfs.xml:1588
#, no-c-format
msgid "To enable the debug mode, you have to use the <literal>-d</literal> option followed by any of the values: <literal>all</literal> , <literal>auth</literal> , <literal>call</literal> , <literal>general</literal> , or <literal>parse</literal> ."
msgstr ""

#. Tag: para
#: storage_nfs.xml:1594
#, no-c-format
msgid "For example, the following code enables all forms of <command>rpc.mountd</command> logging:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1598
#, no-c-format
msgid "MOUNTD_OPTIONS=\"-d all\""
msgstr ""

#. Tag: para
#: storage_nfs.xml:1599
#, no-c-format
msgid "For all available options refer to the manual pages:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1602
#, no-c-format
msgid "man 8 rpc.mountd"
msgstr ""

#. Tag: para
#: storage_nfs.xml:1603
#, no-c-format
msgid "After changing <filename>/etc/sysconfig/nfs</filename> , services need to be restarted:"
msgstr ""

#. Tag: screen
#: storage_nfs.xml:1607
#, no-c-format
msgid "systemctl restart nfs-server  # for nfs server related changes\n"
      "systemctl restart nfs  # for nfs client related changes"
msgstr ""

