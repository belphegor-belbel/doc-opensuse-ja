# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2021-04-08 08:32+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <someuser@example.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/x-po; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#: pv2fv.xml:8
#, no-c-format
msgid "&xen;: converting a paravirtual (PV) guest to a fully virtual (FV/HVM) guest"
msgstr ""

#. Tag: para
#: pv2fv.xml:9
#, no-c-format
msgid "This chapter explains how to convert a &xen; paravirtual machine into a &xen; fully virtualized machine."
msgstr ""

#. Tag: title
#: pv2fv.xml:14
#, no-c-format
msgid "Guest side"
msgstr ""

#. Tag: para
#: pv2fv.xml:15
#, no-c-format
msgid "In order to start the guest in FV mode, you have to run the following steps inside the guest."
msgstr ""

#. Tag: para
#: pv2fv.xml:20
#, no-c-format
msgid "Prior to converting the guest, apply all pending patches and reboot the guest."
msgstr ""

#. Tag: para
#: pv2fv.xml:26
#, no-c-format
msgid "FV machines use the <literal>-default</literal> kernel. If this kernel is not already installed, install the <literal>kernel-default</literal> package (while running in PV mode)."
msgstr ""

#. Tag: para
#: pv2fv.xml:33
#, no-c-format
msgid "PV machines typically use disk names such as <literal>vda*</literal> . These names must be changed to the FV <literal>hd*</literal> syntax. This change must be done in the following files:"
msgstr ""

#. Tag: para
#: pv2fv.xml:40
#, no-c-format
msgid "<filename>/etc/fstab</filename>"
msgstr ""

#. Tag: para
#: pv2fv.xml:45
#, no-c-format
msgid "<filename>/boot/grub/menu.lst</filename> (&slsa; 11 only)"
msgstr ""

#. Tag: para
#: pv2fv.xml:50
#, no-c-format
msgid "<filename>/boot/grub*/device.map</filename>"
msgstr ""

#. Tag: para
#: pv2fv.xml:55
#, no-c-format
msgid "<filename>/etc/sysconfig/bootloader</filename>"
msgstr ""

#. Tag: para
#: pv2fv.xml:60
#, no-c-format
msgid "<filename>/etc/default/grub</filename> (&slsa; 12 and 15 only)"
msgstr ""

#. Tag: title
#: pv2fv.xml:66
#, no-c-format
msgid "Prefer UUIDs"
msgstr ""

#. Tag: para
#: pv2fv.xml:67
#, no-c-format
msgid "You should use UUIDs or logical volumes within your <filename>/etc/fstab</filename> . Using UUID simplifies using attached network storage, multipathing, and virtualization. To find the UUID of your disk use the command <command>blkid</command> ."
msgstr ""

#. Tag: para
#: pv2fv.xml:76
#, no-c-format
msgid "To avoid any error regenerating the initrd with the required modules you can create a symlink from <filename>/dev/hda2</filename> to <filename>/dev/xvda2</filename> etc. by using the <command>ln</command> :"
msgstr ""

#. Tag: screen
#: pv2fv.xml:81
#, no-c-format
msgid "ln -sf /dev/xvda2 /dev/hda2\n"
      "ln -sf /dev/xvda1 /dev/hda1\n"
      "....."
msgstr ""

#. Tag: para
#: pv2fv.xml:86
#, no-c-format
msgid "PV and FV machines use different disk and network driver modules. These FV modules must be added to the initrd manually. The expected modules are <literal>xen-vbd</literal> (for disk) and <literal>xen-vnif</literal> (for network). These are the only PV drivers for a fully virtualized &vmguest;. All other modules, such as <literal>ata_piix</literal> , <literal>ata_generic</literal> and <literal>libata</literal> , should be added automatically."
msgstr ""

#. Tag: title
#: pv2fv.xml:96
#, no-c-format
msgid "Adding modules to the initrd"
msgstr ""

#. Tag: para
#: pv2fv.xml:99
#, no-c-format
msgid "On &slsa; 11, you can add modules to the <literal>INITRD_MODULES</literal> line in the <filename>/etc/sysconfig/kernel</filename> file. For example:"
msgstr ""

#. Tag: screen
#: pv2fv.xml:104
#, no-c-format
msgid "INITRD_MODULES=\"xen-vbd xen-vnif\""
msgstr ""

#. Tag: para
#: pv2fv.xml:105
#, no-c-format
msgid "Run <command>mkinitrd</command> to build a new initrd containing the modules."
msgstr ""

#. Tag: para
#: pv2fv.xml:111
#, no-c-format
msgid "On &slsa; 12 and 15, open or create <filename>/etc/dracut.conf.d/10-virt.conf</filename> and add the modules with <literal>force_drivers</literal> by adding a line as in the example below (mind the leading whitespace):"
msgstr ""

#. Tag: screen
#: pv2fv.xml:117
#, no-c-format
msgid "force_drivers+=\" xen-vbd xen-vnif\""
msgstr ""

#. Tag: para
#: pv2fv.xml:118
#, no-c-format
msgid "Run <command>dracut -f --kver <replaceable>KERNEL_VERSION</replaceable>-default</command> to build a new initrd (for the default version of the kernel) that contains the required modules."
msgstr ""

#. Tag: title
#: pv2fv.xml:125
#, no-c-format
msgid "Find your kernel version"
msgstr ""

#. Tag: para
#: pv2fv.xml:126
#, no-c-format
msgid "Use the <command>uname -r</command> command to get the current version used on your system."
msgstr ""

#. Tag: para
#: pv2fv.xml:136
#, no-c-format
msgid "Before shutting down the guest, set the default boot parameter to the <literal>-default</literal> kernel using <command>yast bootloader</command> ."
msgstr ""

#. Tag: para
#: pv2fv.xml:143
#, no-c-format
msgid "Under &productname; 11, if you have an X server running on your guest, you need to adjust the <filename>/etc/X11/xorg.conf</filename> file in order to adjust the X driver. Search for <literal>fbdev</literal> and change to <literal>cirrus</literal> ."
msgstr ""

#. Tag: screen
#: pv2fv.xml:149
#, no-c-format
msgid "Section \"Device\"\n"
      "          Driver       \"cirrus\"\n"
      "          ......\n"
      "          EndSection"
msgstr ""

#. Tag: title
#: pv2fv.xml:154
#, no-c-format
msgid "&productname; 12/15 and Xorg"
msgstr ""

#. Tag: para
#: pv2fv.xml:155
#, no-c-format
msgid "Under &productname; 12/15, Xorg will automatically adjust the driver needed to be able to get a working X server."
msgstr ""

#. Tag: para
#: pv2fv.xml:162
#, no-c-format
msgid "Shut down the guest."
msgstr ""

#. Tag: title
#: pv2fv.xml:168
#, no-c-format
msgid "Host side"
msgstr ""

#. Tag: para
#: pv2fv.xml:169
#, no-c-format
msgid "The following steps explain the action you have to perform on the host."
msgstr ""

#. Tag: para
#: pv2fv.xml:173
#, no-c-format
msgid "To start the guest in FV mode, the configuration of the VM must be modified to match an FV configuration. Editing the configuration of the VM can easily be done using <command>virsh edit [DOMAIN]</command> . The following changes are recommended:"
msgstr ""

#. Tag: para
#: pv2fv.xml:181
#, no-c-format
msgid "Make sure the machine, the type and the <literal>loader</literal> entries in the OS section are changed from <literal>xenpv</literal> to <literal>xenfv</literal> . The updated OS section should look similar to:"
msgstr ""

#. Tag: screen
#: pv2fv.xml:186
#, no-c-format
msgid "&lt;os&gt;\n"
      "          &lt;type arch='x86_64' machine='xenfv'&gt;hvm&lt;/type&gt;\n"
      "          &lt;loader&gt;/usr/lib/xen/boot/hvmloader&lt;/loader&gt;\n"
      "          &lt;boot dev='hd'/&gt;\n"
      "&lt;/os&gt;"
msgstr ""

#. Tag: para
#: pv2fv.xml:193
#, no-c-format
msgid "In the OS section remove anything that is specific to PV guest:"
msgstr ""

#. Tag: screen
#: pv2fv.xml:198
#, no-c-format
msgid "&lt;bootloader&gt;pygrub&lt;/bootloader&gt;"
msgstr ""

#. Tag: screen
#: pv2fv.xml:201
#, no-c-format
msgid "&lt;kernel&gt;/usr/lib/grub2/x86_64-xen/grub.xen&lt;/kernel&gt;"
msgstr ""

#. Tag: screen
#: pv2fv.xml:204
#, no-c-format
msgid "&lt;cmdline&gt;xen-fbfront.video=4,1024,768&lt;/cmdline&gt;"
msgstr ""

#. Tag: para
#: pv2fv.xml:209
#, no-c-format
msgid "In the devices section, add the qemu emulator as:"
msgstr ""

#. Tag: screen
#: pv2fv.xml:212
#, no-c-format
msgid "&lt;emulator&gt;/usr/lib/xen/bin/qemu-system-i386&lt;/emulator&gt;"
msgstr ""

#. Tag: para
#: pv2fv.xml:215
#, no-c-format
msgid "Update the disk configuration so the target device and bus use the FV syntax. This requires replacing the <literal>xen</literal> disk bus with <literal>ide</literal> , and the <literal>vda</literal> target device with <literal>hda</literal> . The changes should look similar to:"
msgstr ""

#. Tag: screen
#: pv2fv.xml:221
#, no-c-format
msgid "&lt;target dev='hda' bus='ide'/&gt;"
msgstr ""

#. Tag: para
#: pv2fv.xml:224
#, no-c-format
msgid "Change the bus for the mouse and keyboard from <literal>xen</literal> to <literal>ps2</literal> . Also add a new USB tablet device:"
msgstr ""

#. Tag: screen
#: pv2fv.xml:228
#, no-c-format
msgid "&lt;input type='mouse' bus='ps2'/&gt;\n"
      "          &lt;input type='keyboard' bus='ps2'/&gt;\n"
      "&lt;input type='tablet' bus='usb'/&gt;"
msgstr ""

#. Tag: para
#: pv2fv.xml:233
#, no-c-format
msgid "Change the console target type from <literal>xen</literal> to <literal>serial</literal> :"
msgstr ""

#. Tag: screen
#: pv2fv.xml:237
#, no-c-format
msgid "&lt;console type='pty'&gt;\n"
      "          &lt;target type='serial' port='0'/&gt;\n"
      "&lt;/console&gt;"
msgstr ""

#. Tag: para
#: pv2fv.xml:242
#, no-c-format
msgid "Change the video configuration from <literal>xen</literal> to <literal>cirrus</literal> , with 8&nbsp;MB of VRAM:"
msgstr ""

#. Tag: screen
#: pv2fv.xml:246
#, no-c-format
msgid "&lt;video&gt;\n"
      "          &lt;model type='cirrus' vram='8192' heads='1' primary='yes'/&gt;\n"
      "&lt;/video&gt;"
msgstr ""

#. Tag: para
#: pv2fv.xml:251
#, no-c-format
msgid "If desired, add <literal>acpi</literal> and <literal>apic</literal> to the features of the VM:"
msgstr ""

#. Tag: screen
#: pv2fv.xml:255
#, no-c-format
msgid "&lt;features&gt;\n"
      "          &lt;acpi/&gt;\n"
      "          &lt;apic/&gt;\n"
      "&lt;/features&gt;"
msgstr ""

#. Tag: para
#: pv2fv.xml:263
#, no-c-format
msgid "Start the guest (using <command>virsh</command> or <command>virt-manager</command> ). If the guest is running kernel-default (as verified through <command>uname -a</command> ), the machine is running in Fully Virtual mode."
msgstr ""

#. Tag: title
#: pv2fv.xml:272
#, no-c-format
msgid "guestfs-tools"
msgstr ""

#. Tag: para
#: pv2fv.xml:273
#, no-c-format
msgid "To script this process, or work on disk images directly, you can use the guestfs-tools suite (see <xref linkend=\"sec-guestfs-tools\"/> for more information). Numerous tools exist there to help modify disk images."
msgstr ""

