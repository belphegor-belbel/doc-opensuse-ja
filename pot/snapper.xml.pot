# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2023-05-08 07:43+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <someuser@example.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/x-po; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#: snapper.xml:12
#, no-c-format
msgid "System recovery and snapshot management with Snapper"
msgstr ""

#. Tag: para
#: snapper.xml:19
#, no-c-format
msgid "Snapper allows creating and managing file system snapshots. File system snapshots allow keeping a copy of the state of a file system at a certain point of time. The standard setup of Snapper is designed to allow rolling back system changes. However, you can also use it to create on-disk backups of user data. As the basis for this functionality, Snapper uses the Btrfs file system or thinly-provisioned LVM volumes with an XFS or Ext4 file system."
msgstr ""

#. Tag: para
#: snapper.xml:32
#, no-c-format
msgid "Snapper has a command line interface and a &yast; interface. Snapper lets you create and manage file system snapshots on the following types of file systems:"
msgstr ""

#. Tag: para
#: snapper.xml:39
#, no-c-format
msgid "Btrfs, a copy-on-write file system for Linux that natively supports file system snapshots of subvolumes. (Subvolumes are separately mountable file systems within a physical partition.)"
msgstr ""

#. Tag: para
#: snapper.xml:45
#, no-c-format
msgid "You can also boot from <literal>Btrfs</literal> snapshots. For more information, see <xref linkend=\"sec-snapper-snapshot-boot\"/> ."
msgstr ""

#. Tag: para
#: snapper.xml:51
#, no-c-format
msgid "Thinly-provisioned LVM volumes formatted with XFS or Ext4."
msgstr ""

#. Tag: para
#: snapper.xml:56
#, no-c-format
msgid "Using Snapper, you can perform the following tasks:"
msgstr ""

#. Tag: para
#: snapper.xml:61
#, no-c-format
msgid "Undo system changes made by <command>zypper</command> and &yast;. See <xref linkend=\"sec-snapper-undo\"/> for details."
msgstr ""

#. Tag: para
#: snapper.xml:67
#, no-c-format
msgid "Restore files from previous snapshots. See <xref linkend=\"sec-snapper-undo-delete-file\"/> for details."
msgstr ""

#. Tag: para
#: snapper.xml:73
#, no-c-format
msgid "Do a system rollback by booting from a snapshot. See <xref linkend=\"sec-snapper-snapshot-boot\"/> for details."
msgstr ""

#. Tag: para
#: snapper.xml:79
#, no-c-format
msgid "Manually create and manage snapshots, within the running system. See <xref linkend=\"sec-snapper-manage\"/> for details."
msgstr ""

#. Tag: title
#: snapper.xml:87
#, no-c-format
msgid "Default setup"
msgstr ""

#. Tag: para
#: snapper.xml:89
#, no-c-format
msgid "Snapper on &productname; is set up as an undo and recovery tool for system changes. By default, the root partition ( <filename>/</filename> ) of &productname; is formatted with <literal>Btrfs</literal> . Taking snapshots is automatically enabled if the root partition ( <filename>/</filename> ) is big enough (more than approximately 16&nbsp;GB). By default, snapshots are disabled on partitions other than <filename>/</filename> ."
msgstr ""

#. Tag: title
#: snapper.xml:100
#, no-c-format
msgid "Enabling Snapper in the installed system"
msgstr ""

#. Tag: para
#: snapper.xml:101
#, no-c-format
msgid "If you disabled Snapper during the installation, you can enable it at any time later. To do so, create a default Snapper configuration for the root file system by running:"
msgstr ""

#. Tag: screen
#: snapper.xml:106
#, no-c-format
msgid "&prompt.sudo;snapper -c root create-config /"
msgstr ""

#. Tag: para
#: snapper.xml:107
#, no-c-format
msgid "Afterward enable the different snapshot types as described in <xref linkend=\"sec-snapper-setup-customize-auto-snapshots\"/> ."
msgstr ""

#. Tag: para
#: snapper.xml:111
#, no-c-format
msgid "Note that on a Btrfs root file system, snapshots require a file system with subvolumes configured as proposed by the installer and a partition size of at least 16 GB."
msgstr ""

#. Tag: para
#: snapper.xml:118
#, no-c-format
msgid "When a snapshot is created, both the snapshot and the original point to the same blocks in the file system. So, initially a snapshot does not occupy additional disk space. If data in the original file system is modified, changed data blocks are copied while the old data blocks are kept for the snapshot. Therefore, a snapshot occupies the same amount of space as the data modified. So, over time, the amount of space a snapshot allocates, constantly grows. As a consequence, deleting files from a <literal>Btrfs</literal> file system containing snapshots may <emphasis>not</emphasis> free disk space!"
msgstr ""

#. Tag: title
#: snapper.xml:131
#, no-c-format
msgid "Snapshot location"
msgstr ""

#. Tag: para
#: snapper.xml:132
#, no-c-format
msgid "Snapshots always reside on the same partition or subvolume on which the snapshot has been taken. It is not possible to store snapshots on a different partition or subvolume."
msgstr ""

#. Tag: para
#: snapper.xml:139
#, no-c-format
msgid "As a result, partitions containing snapshots need to be larger than partitions not containing snapshots. The exact amount depends strongly on the number of snapshots you keep and the amount of data modifications. As a rule of thumb, give partitions twice as much space as you normally would. To prevent disks from running out of space, old snapshots are automatically cleaned up. Refer to <xref linkend=\"sec-snapper-setup-customize-archiving\"/> for details."
msgstr ""

#. Tag: title
#: snapper.xml:151
#, no-c-format
msgid "Default settings"
msgstr ""

#. Tag: term
#: snapper.xml:154
#, no-c-format
msgid "Disks larger than 16&nbsp;GB"
msgstr ""

#. Tag: para
#: snapper.xml:157
#, no-c-format
msgid "Configuration file: <filename>/etc/snapper/configs/root</filename>"
msgstr ""

#. Tag: para
#: snapper.xml:158
#, no-c-format
msgid "<literal>USE_SNAPPER=yes</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:159
#, no-c-format
msgid "<literal>TIMELINE_CREATE=no</literal>"
msgstr ""

#. Tag: term
#: snapper.xml:164
#, no-c-format
msgid "Disks smaller than 16&nbsp;GB"
msgstr ""

#. Tag: para
#: snapper.xml:167
#, no-c-format
msgid "Configuration file: not created"
msgstr ""

#. Tag: para
#: snapper.xml:168
#, no-c-format
msgid "<literal>USE_SNAPPER=no</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:169
#, no-c-format
msgid "<literal>TIMELINE_CREATE=yes</literal>"
msgstr ""

#. Tag: title
#: snapper.xml:177
#, no-c-format
msgid "Types of snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:178
#, no-c-format
msgid "Although snapshots themselves do not differ in a technical sense, we distinguish between three types of snapshots, based on the events that trigger them:"
msgstr ""

#. Tag: term
#: snapper.xml:184
#, no-c-format
msgid "Timeline snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:186
#, no-c-format
msgid "A single snapshot is created every hour. Old snapshots are automatically deleted. By default, the first snapshot of the last ten days, months, and years are kept. Using the &yast; OS installation method (default), timeline snapshots are enabled, except for the root file system."
msgstr ""

#. Tag: term
#: snapper.xml:195
#, no-c-format
msgid "Installation snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:197
#, no-c-format
msgid "Whenever one or more packages are installed with &yast; or Zypper, a pair of snapshots is created: one before the installation starts ( <quote>Pre</quote> ) and another one after the installation has finished ( <quote>Post</quote> ). In case an important system component such as the kernel has been installed, the snapshot pair is marked as important ( <literal>important=yes</literal> ). Old snapshots are automatically deleted. By default the last ten important snapshots and the last ten <quote>regular</quote> (including administration snapshots) snapshots are kept. Installation snapshots are enabled by default."
msgstr ""

#. Tag: term
#: snapper.xml:211
#, no-c-format
msgid "Administration snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:213
#, no-c-format
msgid "Whenever you administrate the system with &yast;, a pair of snapshots is created: one when a &yast; module is started ( <quote>Pre</quote> ) and another when the module is closed ( <quote>Post</quote> ). Old snapshots are automatically deleted. By default the last ten important snapshots and the last ten <quote>regular</quote> snapshots (including installation snapshots) are kept. Administration snapshots are enabled by default."
msgstr ""

#. Tag: title
#: snapper.xml:228
#, no-c-format
msgid "Directories that are excluded from snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:229
#, no-c-format
msgid "Some directories need to be excluded from snapshots for different reasons. The following list shows all directories that are excluded:"
msgstr ""

#. Tag: title
#: snapper.xml:237
#, no-c-format
msgid "Customizing the setup"
msgstr ""

#. Tag: para
#: snapper.xml:238
#, no-c-format
msgid "&productname; comes with a reasonable default setup, which should be sufficient for most use cases. However, all aspects of taking automatic snapshots and snapshot keeping can be configured according to your needs."
msgstr ""

#. Tag: title
#: snapper.xml:244
#, no-c-format
msgid "Disabling/enabling snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:245
#, no-c-format
msgid "Each of the three snapshot types (timeline, installation, administration) can be enabled or disabled independently."
msgstr ""

#. Tag: term
#: snapper.xml:251
#, no-c-format
msgid "Disabling/enabling timeline snapshots"
msgstr ""

#. Tag: title
#: snapper.xml:254
#, no-c-format
msgid "Enabling"
msgstr ""

#. Tag: para
#: snapper.xml:255
#, no-c-format
msgid "<command>snapper -c root set-config \"TIMELINE_CREATE=yes\"</command>"
msgstr ""

#. Tag: title
#: snapper.xml:260
#, no-c-format
msgid "Disabling"
msgstr ""

#. Tag: para
#: snapper.xml:261
#, no-c-format
msgid "<command>snapper -c root set-config \"TIMELINE_CREATE=no\"</command>"
msgstr ""

#. Tag: para
#: snapper.xml:265
#, no-c-format
msgid "Using the &yast; OS installation method (default), timeline snapshots are enabled, except for the root file system."
msgstr ""

#. Tag: term
#: snapper.xml:272
#, no-c-format
msgid "Disabling/enabling installation snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:276
#, no-c-format
msgid "Install the package <systemitem class=\"resource\">snapper-zypp-plugin</systemitem>"
msgstr ""

#. Tag: para
#: snapper.xml:283
#, no-c-format
msgid "Uninstall the package <systemitem class=\"resource\">snapper-zypp-plugin</systemitem>"
msgstr ""

#. Tag: para
#: snapper.xml:288
#, no-c-format
msgid "Installation snapshots are enabled by default."
msgstr ""

#. Tag: term
#: snapper.xml:294
#, no-c-format
msgid "Disabling/enabling administration snapshots"
msgstr ""

#. Tag: title
#: snapper.xml:297
#, no-c-format
msgid "Enabling:"
msgstr ""

#. Tag: para
#: snapper.xml:298
#, no-c-format
msgid "Set <envar>USE_SNAPPER</envar> to <literal>yes</literal> in <filename>/etc/sysconfig/yast2</filename> ."
msgstr ""

#. Tag: title
#: snapper.xml:304
#, no-c-format
msgid "Disabling:"
msgstr ""

#. Tag: para
#: snapper.xml:305
#, no-c-format
msgid "Set <envar>USE_SNAPPER</envar> to <literal>no</literal> in <filename>/etc/sysconfig/yast2</filename> ."
msgstr ""

#. Tag: para
#: snapper.xml:310
#, no-c-format
msgid "Administration snapshots are enabled by default."
msgstr ""

#. Tag: title
#: snapper.xml:318
#, no-c-format
msgid "Controlling installation snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:319
#, no-c-format
msgid "Taking snapshot pairs upon installing packages with &yast; or Zypper is handled by the <systemitem class=\"resource\">snapper-zypp-plugin</systemitem> . An XML configuration file, <filename>/etc/snapper/zypp-plugin.conf</filename> defines, when to make snapshots. By default the file looks like the following:"
msgstr ""

#. Tag: screen
#: snapper.xml:327
#, no-c-format
msgid " 1 &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n"
      " 2 &lt;snapper-zypp-plugin-conf&gt;\n"
      " 3  &lt;solvables&gt;\n"
      " 4   &lt;solvable match=\"w\"<co xml:id=\"zypp-conf-match\"/> important=\"true\"<co xml:id=\"zypp-conf-important\"/>&gt;kernel-*<co xml:id=\"zypp-conf-kernel\"/>&lt;/solvable&gt;\n"
      " 5   &lt;solvable match=\"w\" important=\"true\"&gt;dracut&lt;/solvable&gt;\n"
      " 6   &lt;solvable match=\"w\" important=\"true\"&gt;glibc&lt;/solvable&gt;\n"
      " 7   &lt;solvable match=\"w\" important=\"true\"&gt;systemd*&lt;/solvable&gt;\n"
      " 8   &lt;solvable match=\"w\" important=\"true\"&gt;udev&lt;/solvable&gt;\n"
      " 9   &lt;solvable match=\"w\"&gt;*&lt;/solvable&gt;<co xml:id=\"zypp-conf-packages\"/>\n"
      "10  &lt;/solvables&gt;\n"
      "11 &lt;/snapper-zypp-plugin-conf&gt;"
msgstr ""

#. Tag: para
#: snapper.xml:340
#, no-c-format
msgid "The match attribute defines whether the pattern is a Unix shell-style wild card ( <literal>w</literal> ) or a Python regular expression ( <literal>re</literal> )."
msgstr ""

#. Tag: para
#: snapper.xml:347
#, no-c-format
msgid "If the given pattern matches and the corresponding package is marked as important (for example kernel packages), the snapshot will also be marked as important."
msgstr ""

#. Tag: para
#: snapper.xml:354
#, no-c-format
msgid "Pattern to match a package name. Based on the setting of the <literal>match</literal> attribute, special characters are either interpreted as shell wild cards or regular expressions. This pattern matches all package names starting with <literal>kernel-</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:362
#, no-c-format
msgid "This line unconditionally matches all packages."
msgstr ""

#. Tag: para
#: snapper.xml:367
#, no-c-format
msgid "With this configuration snapshot, pairs are made whenever a package is installed (line 9). When the kernel, dracut, glibc, systemd, or udev packages marked as important are installed, the snapshot pair will also be marked as important (lines 4 to 8). All rules are evaluated."
msgstr ""

#. Tag: para
#: snapper.xml:373
#, no-c-format
msgid "To disable a rule, either delete it or deactivate it using XML comments. To prevent the system from making snapshot pairs for every package installation for example, comment line 9:"
msgstr ""

#. Tag: screen
#: snapper.xml:378
#, no-c-format
msgid " 1 &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n"
      " 2 &lt;snapper-zypp-plugin-conf&gt;\n"
      " 3  &lt;solvables&gt;\n"
      " 4   &lt;solvable match=\"w\" important=\"true\"&gt;kernel-*&lt;/solvable&gt;\n"
      " 5   &lt;solvable match=\"w\" important=\"true\"&gt;dracut&lt;/solvable&gt;\n"
      " 6   &lt;solvable match=\"w\" important=\"true\"&gt;glibc&lt;/solvable&gt;\n"
      " 7   &lt;solvable match=\"w\" important=\"true\"&gt;systemd*&lt;/solvable&gt;\n"
      " 8   &lt;solvable match=\"w\" important=\"true\"&gt;udev&lt;/solvable&gt;\n"
      " 9   &lt;!-- &lt;solvable match=\"w\"&gt;*&lt;/solvable&gt; --&gt;\n"
      "10  &lt;/solvables&gt;\n"
      "11 &lt;/snapper-zypp-plugin-conf&gt;"
msgstr ""

#. Tag: title
#: snapper.xml:391
#, no-c-format
msgid "Creating and mounting new subvolumes"
msgstr ""

#. Tag: para
#: snapper.xml:392
#, no-c-format
msgid "Creating a new subvolume underneath the <filename>/</filename> hierarchy and permanently mounting it is supported. Such a subvolume will be excluded from snapshots. You need to make sure not to create it inside an existing snapshot, since you would not be able to delete snapshots anymore after a rollback."
msgstr ""

#. Tag: para
#: snapper.xml:399
#, no-c-format
msgid "&productname; is configured with the <filename>/@/</filename> subvolume which serves as an independent root for permanent subvolumes such as <filename>/opt</filename> , <filename>/srv</filename> , <filename>/home</filename> and others. Any new subvolumes you create and permanently mount need to be created in this initial root file system."
msgstr ""

#. Tag: para
#: snapper.xml:406
#, no-c-format
msgid "To do so, run the following commands. In this example, a new subvolume <filename>/usr/important</filename> is created from <filename>/dev/sda2</filename> ."
msgstr ""

#. Tag: screen
#: snapper.xml:411
#, no-c-format
msgid "&prompt.sudo;mount /dev/sda2 -o subvol=@ /mnt\n"
      "&prompt.sudo;btrfs subvolume create /mnt/usr/important\n"
      "&prompt.sudo;umount /mnt"
msgstr ""

#. Tag: para
#: snapper.xml:414
#, no-c-format
msgid "The corresponding entry in <filename>/etc/fstab</filename> needs to look like the following:"
msgstr ""

#. Tag: screen
#: snapper.xml:418
#, no-c-format
msgid "/dev/sda2 /usr/important btrfs subvol=@/usr/important 0 0"
msgstr ""

#. Tag: title
#: snapper.xml:421
#, no-c-format
msgid "Disable copy-on-write (cow)"
msgstr ""

#. Tag: para
#: snapper.xml:422
#, no-c-format
msgid "A subvolume may contain files that constantly change, such as virtualized disk images, database files, or log files. If so, consider disabling the copy-on-write feature for this volume, to avoid duplication of disk blocks. Use the <option>nodatacow</option> mount option in <filename>/etc/fstab</filename> to do so:"
msgstr ""

#. Tag: screen
#: snapper.xml:429
#, no-c-format
msgid "/dev/sda2 /usr/important btrfs nodatacow,subvol=@/usr/important 0 0"
msgstr ""

#. Tag: para
#: snapper.xml:430
#, no-c-format
msgid "To alternatively disable copy-on-write for single files or directories, use the command <command>chattr +C <replaceable>PATH</replaceable></command> ."
msgstr ""

#. Tag: title
#: snapper.xml:439
#, no-c-format
msgid "Controlling snapshot archiving"
msgstr ""

#. Tag: para
#: snapper.xml:440
#, no-c-format
msgid "Snapshots occupy disk space. To prevent disks from running out of space and thus causing system outages, old snapshots are automatically deleted. By default, up to ten important installation and administration snapshots and up to ten regular installation and administration snapshots are kept. If these snapshots occupy more than 50% of the root file system size, additional snapshots will be deleted. A minimum of four important and two regular snapshots are always kept."
msgstr ""

#. Tag: para
#: snapper.xml:449
#, no-c-format
msgid "Refer to <xref linkend=\"sec-snapper-config-modify\"/> for instructions on how to change these values."
msgstr ""

#. Tag: title
#: snapper.xml:455
#, no-c-format
msgid "Using Snapper on thinly provisioned LVM volumes"
msgstr ""

#. Tag: para
#: snapper.xml:456
#, no-c-format
msgid "Apart from snapshots on <literal>Btrfs</literal> file systems, Snapper also supports taking snapshots on thinly-provisioned LVM volumes (snapshots on regular LVM volumes are <emphasis>not</emphasis> supported) formatted with XFS, Ext4 or Ext3. For more information and setup instructions on LVM volumes, refer to <xref linkend=\"sec-yast-system-lvm\"/> ."
msgstr ""

#. Tag: para
#: snapper.xml:463
#, no-c-format
msgid "To use Snapper on a thinly-provisioned LVM volume you need to create a Snapper configuration for it. On LVM it is required to specify the file system with <option>--fstype=lvm(<replaceable>FILESYSTEM</replaceable>)</option> . <literal>ext3</literal> , <literal>etx4</literal> or <literal>xfs</literal> are valid values for <replaceable>FILESYSTEM</replaceable> . Example:"
msgstr ""

#. Tag: screen
#: snapper.xml:471
#, no-c-format
msgid "&prompt.sudo;snapper -c lvm create-config --fstype=\"lvm(xfs)\" /thin_lvm"
msgstr ""

#. Tag: para
#: snapper.xml:472
#, no-c-format
msgid "You can adjust this configuration according to your needs as described in <xref linkend=\"sec-snapper-config-modify\"/> ."
msgstr ""

#. Tag: title
#: snapper.xml:480
#, no-c-format
msgid "Using Snapper to undo changes"
msgstr ""

#. Tag: para
#: snapper.xml:482
#, no-c-format
msgid "Snapper on &productname; is preconfigured to serve as a tool that lets you undo changes made by <command>zypper</command> and &yast;. For this purpose, Snapper is configured to create a pair of snapshots before and after each run of <command>zypper</command> and &yast;. Snapper also lets you restore system files that have been accidentally deleted or modified. Timeline snapshots for the root partition need to be enabled for this purpose&mdash;see <xref linkend=\"sec-snapper-setup-customize-auto-snapshots\"/> for details."
msgstr ""

#. Tag: para
#: snapper.xml:493
#, no-c-format
msgid "By default, automatic snapshots as described above are configured for the root partition and its subvolumes. To make snapshots available for other partitions such as <filename>/home</filename> for example, you can create custom configurations."
msgstr ""

#. Tag: para
#: snapper.xml:510
#, no-c-format
msgid "When undoing changes as described in the following, two snapshots are being compared and the changes between these two snapshots are made undone. Using this method also allows to explicitly select the files that should be restored."
msgstr ""

#. Tag: para
#: snapper.xml:521
#, no-c-format
msgid "When doing rollbacks as described in <xref linkend=\"sec-snapper-snapshot-boot\"/> , the system is reset to the state at which the snapshot was taken."
msgstr ""

#. Tag: para
#: snapper.xml:529
#, no-c-format
msgid "When undoing changes, it is also possible to compare a snapshot against the current system. When restoring <emphasis>all</emphasis> files from such a comparison, this will have the same result as doing a rollback. However, using the method described in <xref linkend=\"sec-snapper-snapshot-boot\"/> for rollbacks should be preferred, since it is faster and allows you to review the system before doing the rollback."
msgstr ""

#. Tag: title
#: snapper.xml:540
#, no-c-format
msgid "Data consistency"
msgstr ""

#. Tag: para
#: snapper.xml:541
#, no-c-format
msgid "There is no mechanism to ensure data consistency when creating a snapshot. Whenever a file (for example, a database) is written at the same time as the snapshot is being created, it will result in a corrupted or partly written file. Restoring such a file will cause problems. Furthermore, certain system files such as <filename>/etc/mtab</filename> must never be restored. Therefore it is strongly recommended to <emphasis>always</emphasis> closely review the list of changed files and their diffs. Only restore files that really belong to the action you want to revert."
msgstr ""

#. Tag: title
#: snapper.xml:554
#, no-c-format
msgid "Undoing &yast; and Zypper changes"
msgstr ""

#. Tag: para
#: snapper.xml:555
#, no-c-format
msgid "If you set up the root partition with <literal>Btrfs</literal> during the installation, Snapper&mdash;preconfigured for doing rollbacks of &yast; or Zypper changes&mdash;will automatically be installed. Every time you start a &yast; module or a Zypper transaction, two snapshots are created: a <quote>pre-snapshot</quote> capturing the state of the file system before the start of the module and a <quote>post-snapshot</quote> after the module has been finished."
msgstr ""

#. Tag: para
#: snapper.xml:564
#, no-c-format
msgid "Using the &yast; Snapper module or the <command>snapper</command> command line tool, you can undo the changes made by &yast;/Zypper by restoring files from the <quote>pre-snapshot</quote> . Comparing two snapshots the tools also allow you to see which files have been changed. You can also display the differences between two versions of a file (diff)."
msgstr ""

#. Tag: title
#: snapper.xml:572
#, no-c-format
msgid "Undoing changes using the &yast; <guimenu>Snapper</guimenu> module"
msgstr ""

#. Tag: para
#: snapper.xml:581
#, no-c-format
msgid "Make sure <guimenu>Current Configuration</guimenu> is set to <guimenu>root</guimenu> . This is always the case unless you have manually added own Snapper configurations."
msgstr ""

#. Tag: para
#: snapper.xml:588
#, no-c-format
msgid "Choose a pair of pre- and post-snapshots from the list. Both, &yast; and Zypper snapshot pairs are of the type <guimenu>Pre &amp; Post</guimenu> . &yast; snapshots are labeled as <literal>zypp(y2base)</literal> in the <guimenu>Description column</guimenu> ; Zypper snapshots are labeled <literal>zypp(zypper)</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:607
#, no-c-format
msgid "Click <guimenu>Show Changes</guimenu> to open the list of files that differ between the two snapshots."
msgstr ""

#. Tag: para
#: snapper.xml:623
#, no-c-format
msgid "Review the list of files. To display a <quote>diff</quote> between the pre- and post-version of a file, select it from the list."
msgstr ""

#. Tag: para
#: snapper.xml:639
#, no-c-format
msgid "To restore one or more files, select the relevant files or directories by activating the respective check box. Click <guimenu>Restore Selected</guimenu> and confirm the action by clicking <guimenu>Yes</guimenu> ."
msgstr ""

#. Tag: para
#: snapper.xml:655
#, no-c-format
msgid "To restore a single file, activate its diff view by clicking its name. Click <guimenu>Restore From First</guimenu> and confirm your choice with <guimenu>Yes</guimenu> ."
msgstr ""

#. Tag: title
#: snapper.xml:663
#, no-c-format
msgid "Undoing changes using the <command>snapper</command> command"
msgstr ""

#. Tag: para
#: snapper.xml:665
#, no-c-format
msgid "Get a list of &yast; and Zypper snapshots by running <command>snapper list -t pre-post</command> . &yast; snapshots are labeled as <literal>yast <replaceable>MODULE_NAME</replaceable></literal> in the <guimenu>Description column</guimenu> ; Zypper snapshots are labeled <literal>zypp(zypper)</literal> ."
msgstr ""

#. Tag: screen
#: snapper.xml:672
#, no-c-format
msgid "<?dbsuse-fo font-size=\"0.60em\"?>&prompt.sudo;snapper list -t pre-post\n"
      "Pre # | Post # | Pre Date                      | Post Date                     | Description\n"
      "------+--------+-------------------------------+-------------------------------+--------------\n"
      "311   | 312    | Tue 06 May 2018 14:05:46 CEST | Tue 06 May 2018 14:05:52 CEST | zypp(y2base)\n"
      "340   | 341    | Wed 07 May 2018 16:15:10 CEST | Wed 07 May 2018 16:15:16 CEST | zypp(zypper)\n"
      "342   | 343    | Wed 07 May 2018 16:20:38 CEST | Wed 07 May 2018 16:20:42 CEST | zypp(y2base)\n"
      "344   | 345    | Wed 07 May 2018 16:21:23 CEST | Wed 07 May 2018 16:21:24 CEST | zypp(zypper)\n"
      "346   | 347    | Wed 07 May 2018 16:41:06 CEST | Wed 07 May 2018 16:41:10 CEST | zypp(y2base)\n"
      "348   | 349    | Wed 07 May 2018 16:44:50 CEST | Wed 07 May 2018 16:44:53 CEST | zypp(y2base)\n"
      "350   | 351    | Wed 07 May 2018 16:46:27 CEST | Wed 07 May 2018 16:46:38 CEST | zypp(y2base) "
msgstr ""

#. Tag: para
#: snapper.xml:684
#, no-c-format
msgid "Get a list of changed files for a snapshot pair with <command>snapper status</command> <replaceable>PRE</replaceable> .. <replaceable>POST</replaceable> . Files with content changes are marked with <guimenu>c</guimenu> , files that have been added are marked with <guimenu>+</guimenu> and deleted files are marked with <guimenu>-</guimenu> ."
msgstr ""

#. Tag: screen
#: snapper.xml:692
#, no-c-format
msgid "&prompt.sudo;snapper status 350..351\n"
      "+..... /usr/share/doc/packages/mikachan-fonts\n"
      "+..... /usr/share/doc/packages/mikachan-fonts/COPYING\n"
      "+..... /usr/share/doc/packages/mikachan-fonts/dl.html\n"
      "c..... /usr/share/fonts/truetype/fonts.dir\n"
      "c..... /usr/share/fonts/truetype/fonts.scale\n"
      "+..... /usr/share/fonts/truetype/みかちゃん-p.ttf\n"
      "+..... /usr/share/fonts/truetype/みかちゃん-pb.ttf\n"
      "+..... /usr/share/fonts/truetype/みかちゃん-ps.ttf\n"
      "+..... /usr/share/fonts/truetype/みかちゃん.ttf\n"
      "c..... /var/cache/fontconfig/7ef2298fde41cc6eeb7af42e48b7d293-x86_64.cache-4\n"
      "c..... /var/lib/rpm/Basenames\n"
      "c..... /var/lib/rpm/Dirnames\n"
      "c..... /var/lib/rpm/Group\n"
      "c..... /var/lib/rpm/Installtid\n"
      "c..... /var/lib/rpm/Name\n"
      "c..... /var/lib/rpm/Packages\n"
      "c..... /var/lib/rpm/Providename\n"
      "c..... /var/lib/rpm/Requirename\n"
      "c..... /var/lib/rpm/Sha1header\n"
      "c..... /var/lib/rpm/Sigmd5"
msgstr ""

#. Tag: para
#: snapper.xml:715
#, no-c-format
msgid "To display the diff for a certain file, run <command>snapper diff</command> <replaceable>PRE</replaceable> .. <replaceable>POST</replaceable> <replaceable>FILENAME</replaceable> . If you do not specify <replaceable>FILENAME</replaceable> , a diff for all files will be displayed."
msgstr ""

#. Tag: screen
#: snapper.xml:723
#, no-c-format
msgid "&prompt.sudo;snapper diff 350..351 /usr/share/fonts/truetype/fonts.scale\n"
      "--- /.snapshots/350/snapshot/usr/share/fonts/truetype/fonts.scale       2014-04-23 15:58:57.000000000 +0200\n"
      "+++ /.snapshots/351/snapshot/usr/share/fonts/truetype/fonts.scale       2014-05-07 16:46:31.000000000 +0200\n"
      "@@ -1,4 +1,4 @@\n"
      "-1174\n"
      "+1486\n"
      " ds=y:ai=0.2:luximr.ttf -b&amp;h-luxi mono-bold-i-normal--0-0-0-0-c-0-iso10646-1\n"
      " ds=y:ai=0.2:luximr.ttf -b&amp;h-luxi mono-bold-i-normal--0-0-0-0-c-0-iso8859-1\n"
      "[...]"
msgstr ""

#. Tag: para
#: snapper.xml:734
#, no-c-format
msgid "To restore one or more files run <command>snapper -v undochange</command> <replaceable>PRE</replaceable> .. <replaceable>POST</replaceable> <replaceable>FILENAMES</replaceable> . If you do not specify a <replaceable>FILENAMES</replaceable> , all changed files will be restored."
msgstr ""

#. Tag: screen
#: snapper.xml:740
#, no-c-format
msgid "&prompt.sudo;snapper -v undochange 350..351\n"
      "     create:0 modify:13 delete:7\n"
      "     undoing change...\n"
      "     deleting /usr/share/doc/packages/mikachan-fonts\n"
      "     deleting /usr/share/doc/packages/mikachan-fonts/COPYING\n"
      "     deleting /usr/share/doc/packages/mikachan-fonts/dl.html\n"
      "     deleting /usr/share/fonts/truetype/みかちゃん-p.ttf\n"
      "     deleting /usr/share/fonts/truetype/みかちゃん-pb.ttf\n"
      "     deleting /usr/share/fonts/truetype/みかちゃん-ps.ttf\n"
      "     deleting /usr/share/fonts/truetype/みかちゃん.ttf\n"
      "     modifying /usr/share/fonts/truetype/fonts.dir\n"
      "     modifying /usr/share/fonts/truetype/fonts.scale\n"
      "     modifying /var/cache/fontconfig/7ef2298fde41cc6eeb7af42e48b7d293-x86_64.cache-4\n"
      "     modifying /var/lib/rpm/Basenames\n"
      "     modifying /var/lib/rpm/Dirnames\n"
      "     modifying /var/lib/rpm/Group\n"
      "     modifying /var/lib/rpm/Installtid\n"
      "     modifying /var/lib/rpm/Name\n"
      "     modifying /var/lib/rpm/Packages\n"
      "     modifying /var/lib/rpm/Providename\n"
      "     modifying /var/lib/rpm/Requirename\n"
      "     modifying /var/lib/rpm/Sha1header\n"
      "     modifying /var/lib/rpm/Sigmd5\n"
      "     undoing change done"
msgstr ""

#. Tag: title
#: snapper.xml:767
#, no-c-format
msgid "Reverting user additions"
msgstr ""

#. Tag: para
#: snapper.xml:768
#, no-c-format
msgid "Reverting user additions via undoing changes with Snapper is not recommended. Since certain directories are excluded from snapshots, files belonging to these users will remain in the file system. If a user with the same user ID as a deleted user is created, this user will inherit the files. Therefore it is strongly recommended to use the &yast; <guimenu>User and Group Management</guimenu> tool to remove users."
msgstr ""

#. Tag: title
#: snapper.xml:780
#, no-c-format
msgid "Using Snapper to restore files"
msgstr ""

#. Tag: para
#: snapper.xml:781
#, no-c-format
msgid "Apart from the installation and administration snapshots, Snapper creates timeline snapshots. You can use these backup snapshots to restore files that have accidentally been deleted or to restore a previous version of a file. By using Snapper's diff feature you can also find out which modifications have been made at a certain point of time."
msgstr ""

#. Tag: para
#: snapper.xml:788
#, no-c-format
msgid "Being able to restore files is especially interesting for data, which may reside on subvolumes or partitions for which snapshots are not taken by default. To be able to restore files from home directories, for example, create a separate Snapper configuration for <filename>/home</filename> doing automatic timeline snapshots. See <xref linkend=\"sec-snapper-config\"/> for instructions."
msgstr ""

#. Tag: title
#: snapper.xml:797
#, no-c-format
msgid "Restoring files compared to rollback"
msgstr ""

#. Tag: para
#: snapper.xml:798
#, no-c-format
msgid "Snapshots taken from the root file system (defined by Snapper's root configuration), can be used to do a system rollback. The recommended way to do such a rollback is to boot from the snapshot and then perform the rollback. See <xref linkend=\"sec-snapper-snapshot-boot\"/> for details."
msgstr ""

#. Tag: para
#: snapper.xml:804
#, no-c-format
msgid "Performing a rollback would also be possible by restoring all files from a root file system snapshot as described below. However, this is not recommended. You may restore single files, for example a configuration file from the <systemitem>/etc</systemitem> directory, but not the complete list of files from the snapshot."
msgstr ""

#. Tag: para
#: snapper.xml:811
#, no-c-format
msgid "This restriction only affects snapshots taken from the root file system."
msgstr ""

#. Tag: title
#: snapper.xml:816
#, no-c-format
msgid "Restoring files using the &yast; <guimenu>Snapper</guimenu> module"
msgstr ""

#. Tag: para
#: snapper.xml:818
#, no-c-format
msgid "Start the <guimenu>Snapper</guimenu> module from the <guimenu>Miscellaneous</guimenu> section in &yast; or by entering <command>yast2 snapper</command> ."
msgstr ""

#. Tag: para
#: snapper.xml:825
#, no-c-format
msgid "Choose the <guimenu>Current Configuration</guimenu> from which to choose a snapshot."
msgstr ""

#. Tag: para
#: snapper.xml:831
#, no-c-format
msgid "Select a timeline snapshot from which to restore a file and choose <guimenu>Show Changes</guimenu> . Timeline snapshots are of the type <guimenu>Single</guimenu> with a description value of <guimenu>timeline</guimenu> ."
msgstr ""

#. Tag: para
#: snapper.xml:839
#, no-c-format
msgid "Select a file from the text box by clicking the file name. The difference between the snapshot version and the current system is shown. Activate the check box to select the file for restore. Do so for all files you want to restore."
msgstr ""

#. Tag: para
#: snapper.xml:847
#, no-c-format
msgid "Click <guimenu>Restore Selected</guimenu> and confirm the action by clicking <guimenu>Yes</guimenu> ."
msgstr ""

#. Tag: title
#: snapper.xml:854
#, no-c-format
msgid "Restoring files using the <command>snapper</command> command"
msgstr ""

#. Tag: para
#: snapper.xml:856
#, no-c-format
msgid "Get a list of timeline snapshots for a specific configuration by running the following command:"
msgstr ""

#. Tag: screen
#: snapper.xml:860
#, no-c-format
msgid "&prompt.sudo;snapper -c <replaceable>CONFIG</replaceable> list -t single | grep timeline"
msgstr ""

#. Tag: para
#: snapper.xml:861
#, no-c-format
msgid "<replaceable>CONFIG</replaceable> needs to be replaced by an existing Snapper configuration. Use <command>snapper list-configs</command> to display a list."
msgstr ""

#. Tag: para
#: snapper.xml:868
#, no-c-format
msgid "Get a list of changed files for a given snapshot by running the following command:"
msgstr ""

#. Tag: screen
#: snapper.xml:872
#, no-c-format
msgid "&prompt.sudo;snapper -c <replaceable>CONFIG</replaceable> status <replaceable>SNAPSHOT_ID</replaceable>..0"
msgstr ""

#. Tag: para
#: snapper.xml:873
#, no-c-format
msgid "Replace <replaceable>SNAPSHOT_ID</replaceable> by the ID for the snapshot from which you want to restore the files."
msgstr ""

#. Tag: para
#: snapper.xml:879
#, no-c-format
msgid "Optionally list the differences between the current file version and the one from the snapshot by running"
msgstr ""

#. Tag: screen
#: snapper.xml:883
#, no-c-format
msgid "&prompt.sudo;snapper -c <replaceable>CONFIG</replaceable> diff <replaceable>SNAPSHOT_ID</replaceable>..0 <replaceable>FILE NAME</replaceable>"
msgstr ""

#. Tag: para
#: snapper.xml:884
#, no-c-format
msgid "If you do not specify <replaceable>&lt;FILE NAME&gt;</replaceable> , the difference for all files are shown."
msgstr ""

#. Tag: para
#: snapper.xml:890
#, no-c-format
msgid "To restore one or more files, run"
msgstr ""

#. Tag: screen
#: snapper.xml:893
#, no-c-format
msgid "&prompt.sudo;snapper -c <replaceable>CONFIG</replaceable> -v undochange <replaceable>SNAPSHOT_ID</replaceable>..0 <replaceable>FILENAME1</replaceable> <replaceable>FILENAME2</replaceable>"
msgstr ""

#. Tag: para
#: snapper.xml:894
#, no-c-format
msgid "If you do not specify file names, all changed files will be restored."
msgstr ""

#. Tag: title
#: snapper.xml:902
#, no-c-format
msgid "System rollback by booting from snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:904
#, no-c-format
msgid "The &grub; version included on &productname; can boot from Btrfs snapshots. Together with Snapper's rollback feature, this allows to recover a misconfigured system. Only snapshots created for the default Snapper configuration ( <literal>root</literal> ) are bootable."
msgstr ""

#. Tag: title
#: snapper.xml:912
#, no-c-format
msgid "Supported configuration"
msgstr ""

#. Tag: para
#: snapper.xml:913
#, no-c-format
msgid "<!-- fs 2016-06-17: This will change with SP3 - see FATE #316347 --> As of &productname; &productnumber; system rollbacks are only supported if the default subvolume configuration of the root partition has not been changed."
msgstr ""

#. Tag: para
#: snapper.xml:921
#, no-c-format
msgid "When booting a snapshot, the parts of the file system included in the snapshot are mounted read-only; all other file systems and parts that are excluded from snapshots are mounted read-write and can be modified."
msgstr ""

#. Tag: title
#: snapper.xml:928
#, no-c-format
msgid "Undoing changes compared to rollback"
msgstr ""

#. Tag: para
#: snapper.xml:929
#, no-c-format
msgid "When working with snapshots to restore data, it is important to know that there are two fundamentally different scenarios Snapper can handle:"
msgstr ""

#. Tag: term
#: snapper.xml:935
#, no-c-format
msgid "Undoing changes"
msgstr ""

#. Tag: para
#: snapper.xml:937
#, no-c-format
msgid "When undoing changes as described in <xref linkend=\"sec-snapper-undo\"/> , two snapshots are compared and the changes between these two snapshots are reverted. Using this method also allows to explicitly exclude selected files from being restored."
msgstr ""

#. Tag: term
#: snapper.xml:946
#, no-c-format
msgid "Rollback"
msgstr ""

#. Tag: para
#: snapper.xml:948
#, no-c-format
msgid "When doing rollbacks as described in the following, the system is reset to the state at which the snapshot was taken."
msgstr ""

#. Tag: para
#: snapper.xml:957
#, no-c-format
msgid "To do a rollback from a bootable snapshot, the following requirements must be met. When doing a default installation, the system is set up accordingly."
msgstr ""

#. Tag: title
#: snapper.xml:963
#, no-c-format
msgid "Requirements for a rollback from a bootable snapshot"
msgstr ""

#. Tag: para
#: snapper.xml:965
#, no-c-format
msgid "The root file system needs to be Btrfs. Booting from LVM volume snapshots is not supported."
msgstr ""

#. Tag: para
#: snapper.xml:971
#, no-c-format
msgid "The root file system needs to be on a single device, a single partition and a single subvolume. Directories that are excluded from snapshots such as <filename>/srv</filename> (see <xref linkend=\"snapper-dir-excludes\"/> for a full list) may reside on separate partitions."
msgstr ""

#. Tag: para
#: snapper.xml:979
#, no-c-format
msgid "The system needs to be bootable via the installed boot loader."
msgstr ""

#. Tag: para
#: snapper.xml:985
#, no-c-format
msgid "To perform a rollback from a bootable snapshot, do as follows:"
msgstr ""

#. Tag: para
#: snapper.xml:991
#, no-c-format
msgid "Boot the system. In the boot menu choose <guimenu>Bootable snapshots</guimenu> and select the snapshot you want to boot. The list of snapshots is listed by date&mdash;the most recent snapshot is listed first."
msgstr ""

#. Tag: para
#: snapper.xml:999
#, no-c-format
msgid "Log in to the system. Carefully check whether everything works as expected. Note that you cannot write to any directory that is part of the snapshot. Data you write to other directories will <emphasis>not</emphasis> get lost, regardless of what you do next."
msgstr ""

#. Tag: para
#: snapper.xml:1007
#, no-c-format
msgid "Depending on whether you want to perform the rollback or not, choose your next step:"
msgstr ""

#. Tag: para
#: snapper.xml:1013
#, no-c-format
msgid "If the system is in a state where you do not want to do a rollback, reboot to boot into the current system state. You can then choose a different snapshot, or start the rescue system."
msgstr ""

#. Tag: para
#: snapper.xml:1020
#, no-c-format
msgid "To perform the rollback, run"
msgstr ""

#. Tag: screen
#: snapper.xml:1023
#, no-c-format
msgid "&prompt.sudo;snapper rollback"
msgstr ""

#. Tag: para
#: snapper.xml:1024
#, no-c-format
msgid "and reboot afterward. On the boot screen, choose the default boot entry to reboot into the reinstated system. A snapshot of the file system status before the rollback is created. The default subvolume for root will be replaced with a fresh read-write snapshot. For details, see <xref linkend=\"sec-snapper-snapshot-boot-rollback\"/> ."
msgstr ""

#. Tag: para
#: snapper.xml:1031
#, no-c-format
msgid "It is useful to add a description for the snapshot with the <option>-d</option> option. For example:"
msgstr ""

#. Tag: screen
#: snapper.xml:1035
#, no-c-format
msgid "New file system root since rollback on <replaceable>DATE</replaceable> <replaceable>TIME</replaceable>"
msgstr ""

#. Tag: title
#: snapper.xml:1041
#, no-c-format
msgid "Rolling back to a specific installation state"
msgstr ""

#. Tag: para
#: snapper.xml:1042
#, no-c-format
msgid "If snapshots are not disabled during installation, an initial bootable snapshot is created at the end of the initial system installation. You can go back to that state at any time by booting this snapshot. The snapshot can be identified by the description <literal>after installation</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:1048
#, no-c-format
msgid "A bootable snapshot is also created when starting a system upgrade to a service pack or a new major release (provided snapshots are not disabled)."
msgstr ""

#. Tag: title
#: snapper.xml:1054
#, no-c-format
msgid "Snapshots after rollback"
msgstr ""

#. Tag: para
#: snapper.xml:1055
#, no-c-format
msgid "Before a rollback is performed, a snapshot of the running file system is created. The description references the ID of the snapshot that was restored in the rollback."
msgstr ""

#. Tag: para
#: snapper.xml:1060
#, no-c-format
msgid "Snapshots created by rollbacks receive the value <literal>number</literal> for the <literal>Cleanup</literal> attribute. The rollback snapshots are therefore automatically deleted when the set number of snapshots is reached. Refer to <xref linkend=\"sec-snapper-clean-up\"/> for details. If the snapshot contains important data, extract the data from the snapshot before it is removed."
msgstr ""

#. Tag: title
#: snapper.xml:1069
#, no-c-format
msgid "Example of rollback snapshot"
msgstr ""

#. Tag: para
#: snapper.xml:1070
#, no-c-format
msgid "For example, after a fresh installation the following snapshots are available on the system:"
msgstr ""

#. Tag: screen
#: snapper.xml:1074
#, no-c-format
msgid "\n"
      "&prompt.root;<command>snapper</command> --iso list\n"
      "Type   | # |     | Cleanup | Description           | Userdata\n"
      "-------+---+ ... +---------+-----------------------+--------------\n"
      "single | 0 |     |         | current               |\n"
      "single | 1 |     |         | first root filesystem |\n"
      "single | 2 |     | number  | after installation    | important=yes\n"
      ""
msgstr ""

#. Tag: para
#: snapper.xml:1082
#, no-c-format
msgid "After running <command>sudo snapper rollback</command> snapshot <literal>3</literal> is created and contains the state of the system before the rollback was executed. Snapshot <literal>4</literal> is the new default Btrfs subvolume and thus the system after a reboot."
msgstr ""

#. Tag: screen
#: snapper.xml:1088
#, no-c-format
msgid "\n"
      "&prompt.root;<command>snapper</command> --iso list\n"
      "Type   | # |     | Cleanup | Description           | Userdata\n"
      "-------+---+ ... +---------+-----------------------+--------------\n"
      "single | 0 |     |         | current               |\n"
      "single | 1 |     | number  | first root filesystem |\n"
      "single | 2 |     | number  | after installation    | important=yes\n"
      "single | 3 |     | number  | rollback backup of #1 | important=yes\n"
      "single | 4 |     |         |                       |\n"
      ""
msgstr ""

#. Tag: title
#: snapper.xml:1102
#, no-c-format
msgid "Accessing and identifying snapshot boot entries"
msgstr ""

#. Tag: para
#: snapper.xml:1103
#, no-c-format
msgid "To boot from a snapshot, reboot your machine and choose <guimenu>Start Bootloader from a read-only snapshot</guimenu> . A screen listing all bootable snapshots opens. The most recent snapshot is listed first, the oldest last. Use the keys <keycap function=\"down\"/> and <keycap function=\"up\"/> to navigate and press <keycap function=\"enter\"/> to activate the selected snapshot. Activating a snapshot from the boot menu does not reboot the machine immediately, but rather opens the boot loader of the selected snapshot."
msgstr ""

#. Tag: title
#: snapper.xml:1114
#, no-c-format
msgid "Boot loader: snapshots"
msgstr ""

#. Tag: title
#: snapper.xml:1125
#, no-c-format
msgid "Booting &xen; from a Btrfs snapshot using UEFI currently fails"
msgstr ""

#. Tag: para
#: snapper.xml:1126
#, no-c-format
msgid "Refer to <link xlink:href=\"https://www.suse.com/support/kb/doc/?id=000020602\"/> for more details."
msgstr ""

#. Tag: para
#: snapper.xml:1132
#, no-c-format
msgid "Each snapshot entry in the boot loader follows a naming scheme which makes it possible to identify it easily:"
msgstr ""

#. Tag: screen
#: snapper.xml:1136
#, no-c-format
msgid "[*]<co xml:id=\"snapper-boot-important\"/><replaceable>OS</replaceable><co xml:id=\"snapper-boot-os\"/> (<replaceable>KERNEL</replaceable><co xml:id=\"snapper-boot-kernel\"/>,<replaceable>DATE</replaceable><co xml:id=\"snapper-boot-date\"/>T<replaceable>TIME</replaceable><co xml:id=\"snapper-boot-time\"/>,<replaceable>DESCRIPTION</replaceable><co xml:id=\"snapper-boot-description\"/>)"
msgstr ""

#. Tag: para
#: snapper.xml:1139
#, no-c-format
msgid "If the snapshot was marked <literal>important</literal> , the entry is marked with a <literal>*</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:1145
#, no-c-format
msgid "Operating system label."
msgstr ""

#. Tag: para
#: snapper.xml:1150
#, no-c-format
msgid "Date in the format <literal>YYYY-MM-DD</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:1155
#, no-c-format
msgid "Time in the format <literal>HH:MM</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:1160
#, no-c-format
msgid "This field contains a description of the snapshot. In case of a manually created snapshot this is the string created with the option <option>--description</option> or a custom string (see <xref linkend=\"tip-snapper-snapshot-boot-custom-descr\"/> ). In case of an automatically created snapshot, it is the tool that was called, for example <literal>zypp(zypper)</literal> or <literal>yast_sw_single</literal> . Long descriptions may be truncated, depending on the size of the boot screen."
msgstr ""

#. Tag: title
#: snapper.xml:1174
#, no-c-format
msgid "Setting a custom description for boot loader snapshot entries"
msgstr ""

#. Tag: para
#: snapper.xml:1175
#, no-c-format
msgid "It is possible to replace the default string in the description field of a snapshot with a custom string. This is for example useful if an automatically created description is not sufficient, or a user-provided description is too long. To set a custom string <replaceable>STRING</replaceable> for snapshot <replaceable>NUMBER</replaceable> , use the following command:"
msgstr ""

#. Tag: screen
#: snapper.xml:1183
#, no-c-format
msgid "&prompt.sudo;snapper modify --userdata \"bootloader=<replaceable>STRING</replaceable>\" <replaceable>NUMBER</replaceable>"
msgstr ""

#. Tag: para
#: snapper.xml:1184
#, no-c-format
msgid "The description should be no longer than 25 characters&mdash;everything that exceeds this size will not be readable on the boot screen."
msgstr ""

#. Tag: title
#: snapper.xml:1192
#, no-c-format
msgid "Limitations"
msgstr ""

#. Tag: para
#: snapper.xml:1193
#, no-c-format
msgid "A <emphasis>complete</emphasis> system rollback, restoring the complete system to the identical state as it was in when a snapshot was taken, is not possible."
msgstr ""

#. Tag: title
#: snapper.xml:1199
#, no-c-format
msgid "Directories excluded from snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:1200
#, no-c-format
msgid "Root file system snapshots do not contain all directories. See <xref linkend=\"snapper-dir-excludes\"/> for details and reasons. As a general consequence, data from these directories is not restored, resulting in the following limitations."
msgstr ""

#. Tag: term
#: snapper.xml:1208
#, no-c-format
msgid "Add-ons and third-party software may be unusable after a rollback"
msgstr ""

#. Tag: para
#: snapper.xml:1212
#, no-c-format
msgid "Applications and add-ons installing data in subvolumes excluded from the snapshot, such as <filename>/opt</filename> , may not work after a rollback, if others parts of the application data are also installed on subvolumes included in the snapshot. Re-install the application or the add-on to solve this problem."
msgstr ""

#. Tag: term
#: snapper.xml:1222
#, no-c-format
msgid "File access problems"
msgstr ""

#. Tag: para
#: snapper.xml:1224
#, no-c-format
msgid "If an application had changed file permissions and/or ownership in between snapshot and current system, the application may not be able to access these files. Reset permissions and/or ownership for the affected files after the rollback."
msgstr ""

#. Tag: term
#: snapper.xml:1233
#, no-c-format
msgid "Incompatible data formats"
msgstr ""

#. Tag: para
#: snapper.xml:1235
#, no-c-format
msgid "If a service or an application has established a new data format in between snapshot and current system, the application may not be able to read the affected data files after a rollback."
msgstr ""

#. Tag: term
#: snapper.xml:1243
#, no-c-format
msgid "Subvolumes with a mixture of code and data"
msgstr ""

#. Tag: para
#: snapper.xml:1245
#, no-c-format
msgid "Subvolumes like <filename>/srv</filename> may contain a mixture of code and data. A rollback may result in non-functional code. A downgrade of the PHP version, for example, may result in broken PHP scripts for the Web server."
msgstr ""

#. Tag: term
#: snapper.xml:1254
#, no-c-format
msgid "User data"
msgstr ""

#. Tag: para
#: snapper.xml:1256
#, no-c-format
msgid "If a rollback removes users from the system, data that is owned by these users in directories excluded from the snapshot, is not removed. If a user with the same user ID is created, this user will inherit the files. Use a tool like <command>find</command> to locate and remove orphaned files."
msgstr ""

#. Tag: title
#: snapper.xml:1268
#, no-c-format
msgid "No rollback of boot loader data"
msgstr ""

#. Tag: para
#: snapper.xml:1269
#, no-c-format
msgid "A rollback of the boot loader is not possible, since all <quote>stages</quote> of the boot loader must fit together. This cannot be guaranteed when doing rollbacks of <filename>/boot</filename> ."
msgstr ""

#. Tag: title
#: snapper.xml:1279
#, no-c-format
msgid "Enabling Snapper in user home directories"
msgstr ""

#. Tag: para
#: snapper.xml:1281
#, no-c-format
msgid "You may enable snapshots for users' <filename>/home</filename> directories, which supports several use cases:"
msgstr ""

#. Tag: para
#: snapper.xml:1287
#, no-c-format
msgid "Individual users may manage their own snapshots and rollbacks."
msgstr ""

#. Tag: para
#: snapper.xml:1292
#, no-c-format
msgid "System users, for example database, system, and network admins who want to track copies of configuration files, documentation, and so on."
msgstr ""

#. Tag: para
#: snapper.xml:1299
#, no-c-format
msgid "Samba shares with home directories and Btrfs back-end."
msgstr ""

#. Tag: para
#: snapper.xml:1304
#, no-c-format
msgid "Each user's directory is a Btrfs subvolume of <filename>/home</filename> . It is possible to set this up manually (see <xref linkend=\"sec-snapper-manual-home-config\"/> ). However, a more convenient way is to use <literal>pam_snapper</literal> . The <literal>pam_snapper</literal> package installs the <literal>pam_snapper.so</literal> module and helper scripts, which automate user creation and Snapper configuration."
msgstr ""

#. Tag: para
#: snapper.xml:1313
#, no-c-format
msgid "<literal>pam_snapper</literal> provides integration with the <command>useradd</command> command, pluggable authentication modules (PAM), and Snapper. By default it creates snapshots at user login and logout, and also creates time-based snapshots as certain users remain logged in for extended periods of time. You may change the defaults using the normal Snapper commands and configuration files."
msgstr ""

#. Tag: title
#: snapper.xml:1323
#, no-c-format
msgid "Installing pam_snapper and creating users"
msgstr ""

#. Tag: para
#: snapper.xml:1325
#, no-c-format
msgid "The easiest way is to start with a new <filename>/home</filename> directory formatted with Btrfs, and no existing users. Install <literal>pam_snapper</literal> :"
msgstr ""

#. Tag: screen
#: snapper.xml:1330
#, no-c-format
msgid "&prompt.root;zypper in pam_snapper"
msgstr ""

#. Tag: para
#: snapper.xml:1331
#, no-c-format
msgid "Add this line to <filename>/etc/pam.d/common-session</filename> :"
msgstr ""

#. Tag: screen
#: snapper.xml:1334
#, no-c-format
msgid "session optional pam_snapper.so"
msgstr ""

#. Tag: para
#: snapper.xml:1335
#, no-c-format
msgid "Use the <command>/usr/lib/pam_snapper/pam_snapper_useradd.sh</command> script to create a new user and home directory. By default the script performs a dry run. Edit the script to change <literal>DRYRUN=1</literal> to <literal>DRYRUN=0</literal> . Now you can create a new user:"
msgstr ""

#. Tag: screen
#: snapper.xml:1342
#, no-c-format
msgid "&prompt.root;/usr/lib/pam_snapper/pam_snapper_useradd.sh \\\n"
      "<replaceable>username</replaceable> <replaceable>group</replaceable> passwd=<replaceable>password</replaceable>\n"
      "Create subvolume '/home/username'\n"
      "useradd: warning: the home directory already exists.\n"
      "Not copying any file from skel directory into it.\n"
      ""
msgstr ""

#. Tag: para
#: snapper.xml:1348
#, no-c-format
msgid "The files from <filename>/etc/skel</filename> will be copied into the user's home directory at their first login. Verify that the user's configuration was created by listing your Snapper configurations:"
msgstr ""

#. Tag: screen
#: snapper.xml:1354
#, no-c-format
msgid "&prompt.root;snapper list --all\n"
      "Config: home_username, subvolume: /home/username\n"
      "Type   | # | Pre # | Date | User | Cleanup | Description | Userdata\n"
      "-------+---+-------+------+------+---------+-------------+---------\n"
      "single | 0 |       |      | root |         | current     |\n"
      ""
msgstr ""

#. Tag: para
#: snapper.xml:1360
#, no-c-format
msgid "Over time, this output will become populated with a list of snapshots, which the user can manage with the standard Snapper commands."
msgstr ""

#. Tag: title
#: snapper.xml:1367
#, no-c-format
msgid "Removing users"
msgstr ""

#. Tag: para
#: snapper.xml:1368
#, no-c-format
msgid "Remove users with the <command>/usr/lib/pam_snapper/pam_snapper_userdel.sh</command> script. By default it performs a dry run, so edit it to change <literal>DRYRUN=1</literal> to <literal>DRYRUN=0</literal> . This removes the user, the user's home subvolume, Snapper configuration, and deletes all snapshots."
msgstr ""

#. Tag: screen
#: snapper.xml:1376
#, no-c-format
msgid "&prompt.root;/usr/lib/pam_snapper/pam_snapper_userdel.sh username"
msgstr ""

#. Tag: title
#: snapper.xml:1380
#, no-c-format
msgid "Manually enabling snapshots in home directories"
msgstr ""

#. Tag: para
#: snapper.xml:1382
#, no-c-format
msgid "These are the steps for manually setting up users' home directories with Snapper. <filename>/home</filename> must be formatted with Btrfs, and the users not yet created."
msgstr ""

#. Tag: screen
#: snapper.xml:1387
#, no-c-format
msgid "&prompt.root;btrfs subvol create /home/<replaceable>username</replaceable>\n"
      "&prompt.root;snapper -c home_<replaceable>username</replaceable> create-config /home/<replaceable>username</replaceable>\n"
      "&prompt.root;sed -i -e \"s/ALLOW_USERS=\\\"\\\"/ALLOW_USERS=\\\"<replaceable>username</replaceable>\\\"/g\" \\\n"
      "/etc/snapper/configs/home_<replaceable>username</replaceable>\n"
      "&prompt.root;yast users add username=<replaceable>username</replaceable> home=/home/<replaceable>username</replaceable> password=<replaceable>password</replaceable>\n"
      "&prompt.root;chown <replaceable>username</replaceable>.<replaceable>group</replaceable> /home/<replaceable>username</replaceable>\n"
      "&prompt.root;chmod 755 /home/<replaceable>username</replaceable>/.snapshots\n"
      ""
msgstr ""

#. Tag: title
#: snapper.xml:1399
#, no-c-format
msgid "Creating and modifying Snapper configurations"
msgstr ""

#. Tag: para
#: snapper.xml:1401
#, no-c-format
msgid "The way Snapper behaves is defined in a configuration file that is specific for each partition or <literal>Btrfs</literal> subvolume. These configuration files reside under <filename>/etc/snapper/configs/</filename> ."
msgstr ""

#. Tag: para
#: snapper.xml:1407
#, no-c-format
msgid "In case the root file system is big enough (approximately 12 GB), snapshots are automatically enabled for the root file system <filename>/</filename> upon installation. The corresponding default configuration is named <filename>root</filename> . It creates and manages the &yast; and Zypper snapshot. See <xref linkend=\"sec-snapper-config-modify-values\"/> for a list of the default values."
msgstr ""

#. Tag: title
#: snapper.xml:1418
#, no-c-format
msgid "Minimum root file system size for enabling snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:1419
#, no-c-format
msgid "As explained in <xref linkend=\"sec-snapper-setup\"/> , enabling snapshots requires additional free space in the root file system. The amount depends on the amount of packages installed and the amount of changes made to the volume that is included in snapshots. The snapshot frequency and the number of snapshots that get archived also matter."
msgstr ""

#. Tag: para
#: snapper.xml:1426
#, no-c-format
msgid "There is a minimum root file system size that is required to automatically enable snapshots during the installation. Currently this size is approximately 12 GB. This value may change in the future, depending on architecture and the size of the base system. It depends on the values for the following tags in the file <filename>/control.xml</filename> from the installation media:"
msgstr ""

#. Tag: screen
#: snapper.xml:1434
#, no-c-format
msgid "&lt;root_base_size&gt;\n"
      "&lt;btrfs_increase_percentage&gt;"
msgstr ""

#. Tag: para
#: snapper.xml:1436
#, no-c-format
msgid "It is calculated with the following formula: <replaceable>ROOT_BASE_SIZE</replaceable> * (1 + <replaceable>BTRFS_INCREASE_PERCENTAGE</replaceable> /100)"
msgstr ""

#. Tag: para
#: snapper.xml:1439
#, no-c-format
msgid "Keep in mind that this value is a minimum size. Consider using more space for the root file system. As a rule of thumb, double the size you would use when not having enabled snapshots."
msgstr ""

#. Tag: para
#: snapper.xml:1446
#, no-c-format
msgid "You may create your own configurations for other partitions formatted with <literal>Btrfs</literal> or existing subvolumes on a <literal>Btrfs</literal> partition. In the following example we will set up a Snapper configuration for backing up the Web server data residing on a separate, <literal>Btrfs</literal> -formatted partition mounted at <filename>/srv/www</filename> ."
msgstr ""

#. Tag: para
#: snapper.xml:1455
#, no-c-format
msgid "After a configuration has been created, you can either use <command>snapper</command> itself or the &yast; <guimenu>Snapper</guimenu> module to restore files from these snapshots. In &yast; you need to select your <guimenu>Current Configuration</guimenu> , while you need to specify your configuration for <command>snapper</command> with the global switch <option>-c</option> (for example, <command>snapper -c myconfig list</command> )."
msgstr ""

#. Tag: para
#: snapper.xml:1465
#, no-c-format
msgid "To create a new Snapper configuration, run <command>snapper create-config</command> :"
msgstr ""

#. Tag: screen
#: snapper.xml:1470
#, no-c-format
msgid "&prompt.sudo;snapper -c www-data<co xml:id=\"snapper-create-name\"/> create-config /srv/www<co xml:id=\"snapper-create-volume\"/>"
msgstr ""

#. Tag: para
#: snapper.xml:1474
#, no-c-format
msgid "Name of configuration file."
msgstr ""

#. Tag: para
#: snapper.xml:1479
#, no-c-format
msgid "Mount point of the partition or <literal>Btrfs</literal> subvolume on which to take snapshots."
msgstr ""

#. Tag: para
#: snapper.xml:1486
#, no-c-format
msgid "This command will create a new configuration file <filename>/etc/snapper/configs/www-data</filename> with reasonable default values (taken from <filename>/etc/snapper/config-templates/default</filename> ). Refer to <xref linkend=\"sec-snapper-config-modify\"/> for instructions on how to adjust these defaults."
msgstr ""

#. Tag: title
#: snapper.xml:1496
#, no-c-format
msgid "Configuration defaults"
msgstr ""

#. Tag: para
#: snapper.xml:1497
#, no-c-format
msgid "Default values for a new configuration are taken from <filename>/etc/snapper/config-templates/default</filename> . To use your own set of defaults, create a copy of this file in the same directory and adjust it to your needs. To use it, specify the <option>-t</option> option with the create-config command:"
msgstr ""

#. Tag: screen
#: snapper.xml:1504
#, no-c-format
msgid "&prompt.sudo;snapper -c www-data create-config -t <replaceable>MY_DEFAULTS</replaceable> /srv/www"
msgstr ""

#. Tag: title
#: snapper.xml:1508
#, no-c-format
msgid "Managing existing configurations"
msgstr ""

#. Tag: para
#: snapper.xml:1509
#, no-c-format
msgid "The <command>snapper</command> command offers several subcommands for managing existing configurations. You can list, show, delete and modify them:"
msgstr ""

#. Tag: term
#: snapper.xml:1515
#, no-c-format
msgid "Listing configurations"
msgstr ""

#. Tag: para
#: snapper.xml:1517
#, no-c-format
msgid "Use the subcommand <command>snapper list-configs</command> to get all existing configurations:"
msgstr ""

#. Tag: screen
#: snapper.xml:1521
#, no-c-format
msgid "&prompt.sudo;snapper list-configs\n"
      "Config | Subvolume\n"
      "-------+----------\n"
      "root   | /\n"
      "usr    | /usr\n"
      "local  | /local"
msgstr ""

#. Tag: term
#: snapper.xml:1530
#, no-c-format
msgid "Showing a configuration"
msgstr ""

#. Tag: para
#: snapper.xml:1532
#, no-c-format
msgid "Use the subcommand <command>snapper -c <replaceable>CONFIG</replaceable> get-config</command> to display the specified configuration. Replace <replaceable>CONFIG</replaceable> with one of the configuration names shown by <command>snapper list-configs</command> . For more information about the configuration options, see <xref linkend=\"sec-snapper-config-modify-values\"/> ."
msgstr ""

#. Tag: para
#: snapper.xml:1541
#, no-c-format
msgid "To display the default configuration, run:"
msgstr ""

#. Tag: screen
#: snapper.xml:1544
#, no-c-format
msgid "&prompt.sudo;snapper -c root get-config"
msgstr ""

#. Tag: term
#: snapper.xml:1548
#, no-c-format
msgid "Modifying a configuration"
msgstr ""

#. Tag: para
#: snapper.xml:1550
#, no-c-format
msgid "Use the subcommand <command>snapper -c <replaceable>CONFIG</replaceable> set-config <replaceable>OPTION</replaceable>=<replaceable>VALUE</replaceable></command> to modify an option in the specified configuration. Replace <replaceable>CONFIG</replaceable> with one of the configuration names shown by <command>snapper list-configs</command> . Possible values for <replaceable>OPTION</replaceable> and <replaceable>VALUE</replaceable> are listed in <xref linkend=\"sec-snapper-config-modify-values\"/> ."
msgstr ""

#. Tag: term
#: snapper.xml:1564
#, no-c-format
msgid "Deleting a configuration"
msgstr ""

#. Tag: para
#: snapper.xml:1566
#, no-c-format
msgid "Use the subcommand <command>snapper -c <replaceable>CONFIG</replaceable> delete-config</command> to delete a configuration. Replace <replaceable>CONFIG</replaceable> with one of the configuration names shown by <command>snapper list-configs</command> ."
msgstr ""

#. Tag: title
#: snapper.xml:1576
#, no-c-format
msgid "Configuration data"
msgstr ""

#. Tag: para
#: snapper.xml:1577
#, no-c-format
msgid "Each configuration contains a list of options that can be modified from the command line. The following list provides details for each option. To change a value, run <command>snapper -c <replaceable>CONFIG</replaceable> set-config \"<replaceable>KEY</replaceable>=<replaceable>VALUE</replaceable>\"</command> ."
msgstr ""

#. Tag: term
#: snapper.xml:1586
#, no-c-format
msgid "<literal>ALLOW_GROUPS</literal> , <literal>ALLOW_USERS</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1590
#, no-c-format
msgid "Granting permissions to use snapshots to regular users. See <xref linkend=\"sec-snapper-config-user\"/> for more information."
msgstr ""

#. Tag: para
#: snapper.xml:1594
#, no-c-format
msgid "The default value is <literal>\"\"</literal> ."
msgstr ""

#. Tag: term
#: snapper.xml:1600
#, no-c-format
msgid "<literal>BACKGROUND_COMPARISON</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1603
#, no-c-format
msgid "Defines whether pre and post snapshots should be compared in the background after creation."
msgstr ""

#. Tag: term
#: snapper.xml:1613
#, no-c-format
msgid "<literal>EMPTY_*</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1616
#, no-c-format
msgid "Defines the clean-up algorithm for snapshots pairs with identical pre and post snapshots. See <xref linkend=\"sec-snapper-clean-up-empty\"/> for details."
msgstr ""

#. Tag: term
#: snapper.xml:1624
#, no-c-format
msgid "<literal>FSTYPE</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1627
#, no-c-format
msgid "File system type of the partition. Do not change."
msgstr ""

#. Tag: para
#: snapper.xml:1630
#, no-c-format
msgid "The default value is <literal>\"btrfs\"</literal> ."
msgstr ""

#. Tag: term
#: snapper.xml:1636
#, no-c-format
msgid "<literal>NUMBER_*</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1638
#, no-c-format
msgid "Defines the clean-up algorithm for installation and administration snapshots. See <xref linkend=\"sec-snapper-clean-up-number\"/> for details."
msgstr ""

#. Tag: term
#: snapper.xml:1646
#, no-c-format
msgid "<literal>QGROUP</literal> / <literal>SPACE_LIMIT</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1649
#, no-c-format
msgid "Adds quota support to the clean-up algorithms. See <xref linkend=\"sec-snapper-clean-up-quota\"/> for details."
msgstr ""

#. Tag: term
#: snapper.xml:1657
#, no-c-format
msgid "<literal>SUBVOLUME</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1660
#, no-c-format
msgid "Mount point of the partition or subvolume to snapshot. Do not change."
msgstr ""

#. Tag: para
#: snapper.xml:1663
#, no-c-format
msgid "The default value is <literal>\"/\"</literal> ."
msgstr ""

#. Tag: term
#: snapper.xml:1669
#, no-c-format
msgid "<literal>SYNC_ACL</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1672
#, no-c-format
msgid "If Snapper is used by regular users (see <xref linkend=\"sec-snapper-config-user\"/> ), the users must be able to access the <filename>.snapshot</filename> directories and to read files within them. If SYNC_ACL is set to <literal>yes</literal> , Snapper automatically makes them accessible using ACLs for users and groups from the ALLOW_USERS or ALLOW_GROUPS entries."
msgstr ""

#. Tag: term
#: snapper.xml:1686
#, no-c-format
msgid "<literal>TIMELINE_CREATE</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1689
#, no-c-format
msgid "If set to <literal>yes</literal> , hourly snapshots are created. Valid values: <literal>yes</literal> , <literal>no</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:1693
#, no-c-format
msgid "The default value is <literal>\"no\"</literal> ."
msgstr ""

#. Tag: term
#: snapper.xml:1699
#, no-c-format
msgid "<literal>TIMELINE_CLEANUP</literal> / <literal>TIMELINE_LIMIT_*</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1703
#, no-c-format
msgid "Defines the clean-up algorithm for timeline snapshots. See <xref linkend=\"sec-snapper-clean-up-timeline\"/> for details."
msgstr ""

#. Tag: title
#: snapper.xml:1713
#, no-c-format
msgid "Using Snapper as regular user"
msgstr ""

#. Tag: para
#: snapper.xml:1714
#, no-c-format
msgid "By default Snapper can only be used by &rootuser;. However, there are cases in which certain groups or users need to be able to create snapshots or undo changes by reverting to a snapshot:"
msgstr ""

#. Tag: para
#: snapper.xml:1721
#, no-c-format
msgid "Web site administrators who want to take snapshots of <filename>/srv/www</filename>"
msgstr ""

#. Tag: para
#: snapper.xml:1727
#, no-c-format
msgid "Users who want to take a snapshot of their home directory"
msgstr ""

#. Tag: para
#: snapper.xml:1732
#, no-c-format
msgid "For these purposes, you can create Snapper configurations that grant permissions to users or/and groups. The corresponding <filename>.snapshots</filename> directory needs to be readable and accessible by the specified users. The easiest way to achieve this is to set the SYNC_ACL option to <literal>yes</literal> ."
msgstr ""

#. Tag: title
#: snapper.xml:1740
#, no-c-format
msgid "Enabling regular users to use Snapper"
msgstr ""

#. Tag: para
#: snapper.xml:1741
#, no-c-format
msgid "All steps in this procedure need to be run by &rootuser;."
msgstr ""

#. Tag: para
#: snapper.xml:1745
#, no-c-format
msgid "If a Snapper configuration does not exist yet, create one for the partition or subvolume on which the user should be able to use Snapper. Refer to <xref linkend=\"sec-snapper-config\"/> for instructions. Example:"
msgstr ""

#. Tag: screen
#: snapper.xml:1750
#, no-c-format
msgid "&prompt.sudo;snapper --config web_data create /srv/www"
msgstr ""

#. Tag: para
#: snapper.xml:1753
#, no-c-format
msgid "The configuration file is created under <filename>/etc/snapper/configs/<replaceable>CONFIG</replaceable></filename> , where CONFIG is the value you specified with <option>-c/--config</option> in the previous step (for example <filename>/etc/snapper/configs/web_data</filename> ). Adjust it according to your needs. For more information, see <xref linkend=\"sec-snapper-config-modify\"/> ."
msgstr ""

#. Tag: para
#: snapper.xml:1764
#, no-c-format
msgid "Set values for <envar>ALLOW_USERS</envar> and/or <envar>ALLOW_GROUPS</envar> to grant permissions to users and/or groups, respectively. Multiple entries need to be separated by <keycap function=\"space\"/> . To grant permissions to the user <systemitem class=\"username\">www_admin</systemitem> for example, run:"
msgstr ""

#. Tag: screen
#: snapper.xml:1771
#, no-c-format
msgid "&prompt.sudo;snapper -c web_data set-config \"ALLOW_USERS=www_admin\" SYNC_ACL=\"yes\""
msgstr ""

#. Tag: para
#: snapper.xml:1774
#, no-c-format
msgid "The given Snapper configuration can now be used by the specified user(s) and/or group(s). You can test it with the <literal>list</literal> command, for example:"
msgstr ""

#. Tag: screen
#: snapper.xml:1779
#, no-c-format
msgid "<prompt>www_admin:~ &gt; </prompt>snapper -c web_data list"
msgstr ""

#. Tag: title
#: snapper.xml:1786
#, no-c-format
msgid "Manually creating and managing snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:1788
#, no-c-format
msgid "Snapper is not restricted to creating and managing snapshots automatically by configuration; you can also create snapshot pairs ( <quote>before and after</quote> ) or single snapshots manually using either the command-line tool or the &yast; module."
msgstr ""

#. Tag: para
#: snapper.xml:1795
#, no-c-format
msgid "All Snapper operations are carried out for an existing configuration (see <xref linkend=\"sec-snapper-config\"/> for details). You can only take snapshots of partitions or volumes for which a configuration exists. By default the system configuration ( <literal>root</literal> ) is used. To create or manage snapshots for your own configuration you need to explicitly choose it. Use the <guimenu>Current Configuration</guimenu> drop-down box in &yast; or specify the <option>-c</option> on the command line ( <command>snapper -c <replaceable>MYCONFIG</replaceable> <replaceable>COMMAND</replaceable></command> )."
msgstr ""

#. Tag: title
#: snapper.xml:1808
#, no-c-format
msgid "Snapshot metadata"
msgstr ""

#. Tag: para
#: snapper.xml:1809
#, no-c-format
msgid "Each snapshot consists of the snapshot itself and certain metadata. When creating a snapshot you also need to specify the metadata. Modifying a snapshot means changing its metadata&mdash;you cannot modify its content. Use <command>snapper list</command> to show existing snapshots and their metadata:"
msgstr ""

#. Tag: term
#: snapper.xml:1818
#, no-c-format
msgid "<command>snapper --config home list</command>"
msgstr ""

#. Tag: para
#: snapper.xml:1821
#, no-c-format
msgid "Lists snapshots for the configuration <literal>home</literal> . To list snapshots for the default configuration (root), use <command>snapper -c root list</command> or <command>snapper list</command> ."
msgstr ""

#. Tag: term
#: snapper.xml:1829
#, no-c-format
msgid "<command>snapper list -a</command>"
msgstr ""

#. Tag: para
#: snapper.xml:1832
#, no-c-format
msgid "Lists snapshots for all existing configurations."
msgstr ""

#. Tag: term
#: snapper.xml:1838
#, no-c-format
msgid "<command>snapper list -t pre-post</command>"
msgstr ""

#. Tag: para
#: snapper.xml:1841
#, no-c-format
msgid "Lists all pre and post snapshot pairs for the default ( <literal>root</literal> ) configuration."
msgstr ""

#. Tag: term
#: snapper.xml:1848
#, no-c-format
msgid "<command>snapper list -t single</command>"
msgstr ""

#. Tag: para
#: snapper.xml:1851
#, no-c-format
msgid "Lists all snapshots of the type <literal>single</literal> for the default ( <literal>root</literal> ) configuration."
msgstr ""

#. Tag: para
#: snapper.xml:1858
#, no-c-format
msgid "The following metadata is available for each snapshot:"
msgstr ""

#. Tag: para
#: snapper.xml:1863
#, no-c-format
msgid "<emphasis role=\"bold\">Type</emphasis> : snapshot type, see <xref linkend=\"sec-snapper-manage-metadata-type\"/> for details. This data cannot be changed."
msgstr ""

#. Tag: para
#: snapper.xml:1870
#, no-c-format
msgid "<emphasis role=\"bold\">Number</emphasis> : unique number of the snapshot. This data cannot be changed."
msgstr ""

#. Tag: para
#: snapper.xml:1876
#, no-c-format
msgid "<emphasis role=\"bold\">Pre Number</emphasis> : specifies the number of the corresponding pre snapshot. For snapshots of type post only. This data cannot be changed."
msgstr ""

#. Tag: para
#: snapper.xml:1883
#, no-c-format
msgid "<emphasis role=\"bold\">Description</emphasis> : a description of the snapshot."
msgstr ""

#. Tag: para
#: snapper.xml:1889
#, no-c-format
msgid "<emphasis role=\"bold\">Userdata</emphasis> : an extended description where you can specify custom data in the form of a comma-separated key=value list: <literal>reason=testing, project=foo</literal> . This field is also used to mark a snapshot as important ( <literal>important=yes</literal> ) and to list the user that created the snapshot (user=&exampleuser_plain;)."
msgstr ""

#. Tag: para
#: snapper.xml:1899
#, no-c-format
msgid "<emphasis role=\"bold\">Cleanup-Algorithm</emphasis> : cleanup-algorithm for the snapshot, see <xref linkend=\"sec-snapper-clean-up\"/> for details."
msgstr ""

#. Tag: title
#: snapper.xml:1906
#, no-c-format
msgid "Snapshot types"
msgstr ""

#. Tag: para
#: snapper.xml:1907
#, no-c-format
msgid "Snapper knows three different types of snapshots: pre, post and single. Physically they do not differ, but Snapper handles them differently."
msgstr ""

#. Tag: term
#: snapper.xml:1913
#, no-c-format
msgid "<literal>pre</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1916
#, no-c-format
msgid "Snapshot of a file system <emphasis>before</emphasis> a modification. Each <literal>pre</literal> snapshot corresponds to a <literal>post</literal> snapshot. For example, this is used for the automatic &yast;/Zypper snapshots."
msgstr ""

#. Tag: term
#: snapper.xml:1925
#, no-c-format
msgid "<literal>post</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1928
#, no-c-format
msgid "Snapshot of a file system <emphasis>after</emphasis> a modification. Each <literal>post</literal> snapshot corresponds to a <literal>pre</literal> snapshot. For example, this is used for the automatic &yast;/Zypper snapshots."
msgstr ""

#. Tag: term
#: snapper.xml:1937
#, no-c-format
msgid "<literal>single</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:1940
#, no-c-format
msgid "Stand-alone snapshot. For example, this is used for the automatic hourly snapshots. This is the default type when creating snapshots."
msgstr ""

#. Tag: title
#: snapper.xml:1950
#, no-c-format
msgid "Cleanup algorithms"
msgstr ""

#. Tag: para
#: snapper.xml:1951
#, no-c-format
msgid "Snapper provides three algorithms to clean up old snapshots. The algorithms are executed in a daily <systemitem class=\"daemon\">cron</systemitem> job. It is possible to define the number of different types of snapshots to keep in the Snapper configuration (see <xref linkend=\"sec-snapper-config-modify\"/> for details)."
msgstr ""

#. Tag: term
#: snapper.xml:1962
#, no-c-format
msgid "number"
msgstr ""

#. Tag: para
#: snapper.xml:1964
#, no-c-format
msgid "Deletes old snapshots when a certain snapshot count is reached."
msgstr ""

#. Tag: term
#: snapper.xml:1970
#, no-c-format
msgid "timeline"
msgstr ""

#. Tag: para
#: snapper.xml:1972
#, no-c-format
msgid "Deletes old snapshots having passed a certain age but keeps several hourly, daily, monthly and yearly snapshots."
msgstr ""

#. Tag: term
#: snapper.xml:1979
#, no-c-format
msgid "empty-pre-post"
msgstr ""

#. Tag: para
#: snapper.xml:1981
#, no-c-format
msgid "Deletes pre/post snapshot pairs with empty diffs."
msgstr ""

#. Tag: title
#: snapper.xml:1991
#, no-c-format
msgid "Creating snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:1992
#, no-c-format
msgid "To create a snapshot, run <command>snapper create</command> or click <guimenu>Create</guimenu> in the &yast; module <guimenu>Snapper</guimenu> . The following examples explain how to create snapshots from the command line. The &yast; interface for Snapper is not explicitly described here but provides equivalent functionality."
msgstr ""

#. Tag: title
#: snapper.xml:2001
#, no-c-format
msgid "Snapshot description"
msgstr ""

#. Tag: para
#: snapper.xml:2002
#, no-c-format
msgid "Always specify a meaningful description to later be able to identify its purpose. You can also specify additional information via the option <option>--userdata</option> ."
msgstr ""

#. Tag: term
#: snapper.xml:2011
#, no-c-format
msgid "<command>snapper create --from <replaceable>17</replaceable> --description \"with package2\"</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2015
#, no-c-format
msgid "Creates a stand-alone snapshot (type single) from an existing snapshot, which is specified by the snapshot's number from <command>snapper list</command> . (This applies to Snapper version 0.8.4 and newer.)"
msgstr ""

#. Tag: term
#: snapper.xml:2023
#, no-c-format
msgid "<command>snapper create --description \"Snapshot for week 2 2014\"</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2027
#, no-c-format
msgid "Creates a stand-alone snapshot (type single) for the default ( <literal>root</literal> ) configuration with a description. Because no cleanup-algorithm is specified, the snapshot will never be deleted automatically."
msgstr ""

#. Tag: term
#: snapper.xml:2036
#, no-c-format
msgid "<command>snapper --config home create --description \"Cleanup in ~&exampleuser_plain;\"</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2040
#, no-c-format
msgid "Creates a stand-alone snapshot (type single) for a custom configuration named <literal>home</literal> with a description. Because no cleanup-algorithm is specified, the snapshot will never be deleted automatically."
msgstr ""

#. Tag: term
#: snapper.xml:2049
#, no-c-format
msgid "<command>snapper --config home create --description \"Daily data backup\" --cleanup-algorithm timeline</command> &gt;"
msgstr ""

#. Tag: para
#: snapper.xml:2053
#, no-c-format
msgid "Creates a stand-alone snapshot (type single) for a custom configuration named <literal>home</literal> with a description. The snapshot will automatically be deleted when it meets the criteria specified for the timeline cleanup-algorithm in the configuration."
msgstr ""

#. Tag: term
#: snapper.xml:2062
#, no-c-format
msgid "<command>snapper create --type pre --print-number --description \"Before the Apache config cleanup\" --userdata \"important=yes\"</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2066
#, no-c-format
msgid "Creates a snapshot of the type <literal>pre</literal> and prints the snapshot number. First command needed to create a pair of snapshots used to save a <quote>before</quote> and <quote>after</quote> state. The snapshot is marked as important."
msgstr ""

#. Tag: term
#: snapper.xml:2075
#, no-c-format
msgid "<command>snapper create --type post --pre-number 30 --description \"After the Apache config cleanup\" --userdata \"important=yes\"</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2079
#, no-c-format
msgid "Creates a snapshot of the type <literal>post</literal> paired with the <literal>pre</literal> snapshot number <literal>30</literal> . Second command needed to create a pair of snapshots used to save a <quote>before</quote> and <quote>after</quote> state. The snapshot is marked as important."
msgstr ""

#. Tag: term
#: snapper.xml:2089
#, no-c-format
msgid "<command>snapper create --command <replaceable>COMMAND</replaceable> --description \"Before and after COMMAND\"</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2093
#, no-c-format
msgid "Automatically creates a snapshot pair before and after running <replaceable>COMMAND</replaceable> . This option is only available when using snapper on the command line."
msgstr ""

#. Tag: title
#: snapper.xml:2104
#, no-c-format
msgid "Modifying snapshot metadata"
msgstr ""

#. Tag: para
#: snapper.xml:2105
#, no-c-format
msgid "Snapper allows you to modify the description, the cleanup algorithm, and the user data of a snapshot. All other metadata cannot be changed. The following examples explain how to modify snapshots from the command line. It should be easy to adopt them when using the &yast; interface."
msgstr ""

#. Tag: para
#: snapper.xml:2111
#, no-c-format
msgid "To modify a snapshot on the command line, you need to know its number. Use <command>snapper list</command> to display all snapshots and their numbers."
msgstr ""

#. Tag: para
#: snapper.xml:2116
#, no-c-format
msgid "The &yast; <guimenu>Snapper</guimenu> module already lists all snapshots. Choose one from the list and click <guimenu>Modify</guimenu> ."
msgstr ""

#. Tag: term
#: snapper.xml:2122
#, no-c-format
msgid "<command>snapper modify --cleanup-algorithm \"timeline\"</command> 10"
msgstr ""

#. Tag: para
#: snapper.xml:2126
#, no-c-format
msgid "Modifies the metadata of snapshot 10 for the default ( <literal>root</literal> ) configuration. The cleanup algorithm is set to <literal>timeline</literal> ."
msgstr ""

#. Tag: term
#: snapper.xml:2134
#, no-c-format
msgid "<command>snapper --config home modify --description \"daily backup\" -cleanup-algorithm \"timeline\" 120</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2138
#, no-c-format
msgid "Modifies the metadata of snapshot 120 for a custom configuration named <literal>home</literal> . A new description is set and the cleanup algorithm is unset."
msgstr ""

#. Tag: title
#: snapper.xml:2149
#, no-c-format
msgid "Deleting snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:2150
#, no-c-format
msgid "To delete a snapshot with the &yast; <guimenu>Snapper</guimenu> module, choose a snapshot from the list and click <guimenu>Delete</guimenu> ."
msgstr ""

#. Tag: para
#: snapper.xml:2154
#, no-c-format
msgid "To delete a snapshot with the command-line tool, you need to know its number. Get it by running <command>snapper list</command> . To delete a snapshot, run <command>snapper delete</command> <replaceable>NUMBER</replaceable> ."
msgstr ""

#. Tag: para
#: snapper.xml:2160
#, no-c-format
msgid "Deleting the current default subvolume snapshot is not allowed."
msgstr ""

#. Tag: para
#: snapper.xml:2163
#, no-c-format
msgid "When deleting snapshots with Snapper, the freed space will be claimed by a Btrfs process running in the background. Thus the visibility and the availability of free space is delayed. In case you need space freed by deleting a snapshot to be available immediately, use the option <option>--sync</option> with the delete command."
msgstr ""

#. Tag: title
#: snapper.xml:2171
#, no-c-format
msgid "Deleting snapshot pairs"
msgstr ""

#. Tag: para
#: snapper.xml:2172
#, no-c-format
msgid "When deleting a <literal>pre</literal> snapshot, you should always delete its corresponding <literal>post</literal> snapshot (and vice versa)."
msgstr ""

#. Tag: term
#: snapper.xml:2179
#, no-c-format
msgid "<command>snapper delete 65</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2182
#, no-c-format
msgid "Deletes snapshot 65 for the default ( <literal>root</literal> ) configuration."
msgstr ""

#. Tag: term
#: snapper.xml:2189
#, no-c-format
msgid "<command>snapper -c home delete 89 90</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2192
#, no-c-format
msgid "Deletes snapshots 89 and 90 for a custom configuration named <literal>home</literal> ."
msgstr ""

#. Tag: term
#: snapper.xml:2199
#, no-c-format
msgid "<command>snapper delete --sync 23</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2201
#, no-c-format
msgid "Deletes snapshot 23 for the default ( <literal>root</literal> ) configuration and makes the freed space available immediately."
msgstr ""

#. Tag: title
#: snapper.xml:2209
#, no-c-format
msgid "Delete unreferenced snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:2210
#, no-c-format
msgid "Sometimes the Btrfs snapshot is present but the XML file containing the metadata for Snapper is missing. In this case the snapshot is not visible for Snapper and needs to be deleted manually:"
msgstr ""

#. Tag: screen
#: snapper.xml:2215
#, no-c-format
msgid "btrfs subvolume delete /.snapshots/<replaceable>SNAPSHOTNUMBER</replaceable>/snapshot\n"
      "rm -rf /.snapshots/SNAPSHOTNUMBER"
msgstr ""

#. Tag: title
#: snapper.xml:2219
#, no-c-format
msgid "Old snapshots occupy more disk space"
msgstr ""

#. Tag: para
#: snapper.xml:2220
#, no-c-format
msgid "If you delete snapshots to free space on your hard disk, make sure to delete old snapshots first. The older a snapshot is, the more disk space it occupies."
msgstr ""

#. Tag: para
#: snapper.xml:2226
#, no-c-format
msgid "Snapshots are also automatically deleted by a daily cron job. Refer to <xref linkend=\"sec-snapper-manage-metadata-cleanup\"/> for details."
msgstr ""

#. Tag: title
#: snapper.xml:2233
#, no-c-format
msgid "Automatic snapshot clean-up"
msgstr ""

#. Tag: para
#: snapper.xml:2235
#, no-c-format
msgid "Snapshots occupy disk space and over time the amount of disk space occupied by the snapshots may become large. To prevent disks from running out of space, Snapper offers algorithms to automatically delete old snapshots. These algorithms differentiate between timeline snapshots and numbered snapshots (administration plus installation snapshot pairs). You can specify the number of snapshots to keep for each type."
msgstr ""

#. Tag: para
#: snapper.xml:2244
#, no-c-format
msgid "Additionally, you can optionally specify a disk space quota, defining the maximum amount of disk space the snapshots may occupy. It is also possible to automatically delete pre and post snapshots pairs that do not differ."
msgstr ""

#. Tag: para
#: snapper.xml:2251
#, no-c-format
msgid "A clean-up algorithm is always bound to a single Snapper configuration, so you need to configure algorithms for each configuration. To prevent certain snapshots from being automatically deleted, refer to <xref linkend=\"faq-snapper-permanent\"/> ."
msgstr ""

#. Tag: para
#: snapper.xml:2258
#, no-c-format
msgid "The default setup ( <literal>root</literal> ) is configured to do clean-up for numbered snapshots and empty pre and post snapshot pairs. Quota support is enabled&mdash;snapshots may not occupy more than 50% of the available disk space of the root partition. Timeline snapshots are disabled by default, therefore the timeline clean-up algorithm is also disabled."
msgstr ""

#. Tag: title
#: snapper.xml:2267
#, no-c-format
msgid "Cleaning up numbered snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:2268
#, no-c-format
msgid "Cleaning up numbered snapshots&mdash;administration plus installation snapshot pairs&mdash;is controlled by the following parameters of a Snapper configuration."
msgstr ""

#. Tag: term
#: snapper.xml:2275
#, no-c-format
msgid "<literal>NUMBER_CLEANUP</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2278
#, no-c-format
msgid "Enables or disables clean-up of installation and admin snapshot pairs. If enabled, snapshot pairs are deleted when the total snapshot count exceeds a number specified with <literal>NUMBER_LIMIT</literal> and/or <literal>NUMBER_LIMIT_IMPORTANT</literal> <emphasis>and</emphasis> an age specified with <literal>NUMBER_MIN_AGE</literal> . Valid values: <literal>yes</literal> (enable), <literal>no</literal> (disable)."
msgstr ""

#. Tag: screen
#: snapper.xml:2292
#, no-c-format
msgid "&prompt.sudo;snapper -c <replaceable>CONFIG</replaceable> set-config \"NUMBER_CLEANUP=no\""
msgstr ""

#. Tag: term
#: snapper.xml:2296
#, no-c-format
msgid "<literal>NUMBER_LIMIT</literal> / <literal>NUMBER_LIMIT_IMPORTANT</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2300
#, no-c-format
msgid "Defines how many regular and/or important installation and administration snapshot pairs to keep. Ignored if <literal>NUMBER_CLEANUP</literal> is set to <literal>\"no\"</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:2306
#, no-c-format
msgid "The default value is <literal>\"2-10\"</literal> for <literal>NUMBER_LIMIT</literal> and <literal>\"4-10\"</literal> for <literal>NUMBER_LIMIT_IMPORTANT</literal> . The cleaning algorithms delete snapshots above the specified maximum value, without taking the snapshot and file system space into account. The algorithms also delete snapshots above the minimum value until the limits for the snapshot and file system are reached."
msgstr ""

#. Tag: screen
#: snapper.xml:2319
#, no-c-format
msgid "&prompt.sudo;snapper -c <replaceable>CONFIG</replaceable> set-config \"NUMBER_LIMIT=10\""
msgstr ""

#. Tag: title
#: snapper.xml:2321
#, no-c-format
msgid "Ranged compared to constant values"
msgstr ""

#. Tag: para
#: snapper.xml:2322
#, no-c-format
msgid "In case quota support is enabled (see <xref linkend=\"sec-snapper-clean-up-quota\"/> ) the limit needs to be specified as a minimum-maximum range, for example <literal>2-10</literal> . If quota support is disabled, a constant value, for example <literal>10</literal> , needs to be provided, otherwise cleaning-up will fail with an error."
msgstr ""

#. Tag: term
#: snapper.xml:2335
#, no-c-format
msgid "<literal>NUMBER_MIN_AGE</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2338
#, no-c-format
msgid "Defines the minimum age in seconds a snapshot must have before it can automatically be deleted. Snapshots younger than the value specified here will not be deleted, regardless of how many exist."
msgstr ""

#. Tag: screen
#: snapper.xml:2349
#, no-c-format
msgid "&prompt.sudo;snapper -c <replaceable>CONFIG</replaceable> set-config \"NUMBER_MIN_AGE=864000\""
msgstr ""

#. Tag: title
#: snapper.xml:2354
#, no-c-format
msgid "Limit and age"
msgstr ""

#. Tag: para
#: snapper.xml:2355
#, no-c-format
msgid "<literal>NUMBER_LIMIT</literal> , <literal>NUMBER_LIMIT_IMPORTANT</literal> and <literal>NUMBER_MIN_AGE</literal> are always evaluated. Snapshots are only deleted when <emphasis>all</emphasis> conditions are met."
msgstr ""

#. Tag: para
#: snapper.xml:2360
#, no-c-format
msgid "If you always want to keep the number of snapshots defined with <literal>NUMBER_LIMIT*</literal> regardless of their age, set <literal>NUMBER_MIN_AGE</literal> to <literal>0</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:2365
#, no-c-format
msgid "The following example shows a configuration to keep the last 10 important and regular snapshots regardless of age:"
msgstr ""

#. Tag: screen
#: snapper.xml:2369
#, no-c-format
msgid "NUMBER_CLEANUP=yes\n"
      "NUMBER_LIMIT_IMPORTANT=10\n"
      "NUMBER_LIMIT=10\n"
      "NUMBER_MIN_AGE=0"
msgstr ""

#. Tag: para
#: snapper.xml:2373
#, no-c-format
msgid "If you do not want to keep snapshots beyond a certain age, set <literal>NUMBER_LIMIT*</literal> to <literal>0</literal> and provide the age with <literal>NUMBER_MIN_AGE</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:2378
#, no-c-format
msgid "The following example shows a configuration to only keep snapshots younger than ten days:"
msgstr ""

#. Tag: screen
#: snapper.xml:2382
#, no-c-format
msgid "NUMBER_CLEANUP=yes\n"
      "NUMBER_LIMIT_IMPORTANT=0\n"
      "NUMBER_LIMIT=0\n"
      "NUMBER_MIN_AGE=864000"
msgstr ""

#. Tag: title
#: snapper.xml:2390
#, no-c-format
msgid "Cleaning up timeline snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:2391
#, no-c-format
msgid "Cleaning up timeline snapshots is controlled by the following parameters of a Snapper configuration."
msgstr ""

#. Tag: term
#: snapper.xml:2397
#, no-c-format
msgid "<literal>TIMELINE_CLEANUP</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2400
#, no-c-format
msgid "Enables or disables clean-up of timeline snapshots. If enabled, snapshots are deleted when the total snapshot count exceeds a number specified with <literal>TIMELINE_LIMIT_*</literal> <emphasis>and</emphasis> an age specified with <literal>TIMELINE_MIN_AGE</literal> . Valid values: <literal>yes</literal> , <literal>no</literal> ."
msgstr ""

#. Tag: para
#: snapper.xml:2411
#, no-c-format
msgid "Example command to change or set:"
msgstr ""

#. Tag: screen
#: snapper.xml:2414
#, no-c-format
msgid "&prompt.sudo;snapper -c <replaceable>CONFIG</replaceable> set-config \"TIMELINE_CLEANUP=yes\""
msgstr ""

#. Tag: term
#: snapper.xml:2418
#, no-c-format
msgid "<literal>TIMELINE_LIMIT_DAILY</literal> , <literal>TIMELINE_LIMIT_HOURLY</literal> , <literal>TIMELINE_LIMIT_MONTHLY</literal> , <literal>TIMELINE_LIMIT_WEEKLY</literal> , <literal>TIMELINE_LIMIT_YEARLY</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2425
#, no-c-format
msgid "Number of snapshots to keep for hour, day, month, week and year."
msgstr ""

#. Tag: para
#: snapper.xml:2428
#, no-c-format
msgid "The default value for each entry is <literal>\"10\"</literal> , except for <literal>TIMELINE_LIMIT_WEEKLY</literal> , which is set to <literal>\"0\"</literal> by default."
msgstr ""

#. Tag: term
#: snapper.xml:2436
#, no-c-format
msgid "<literal>TIMELINE_MIN_AGE</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2439
#, no-c-format
msgid "Defines the minimum age in seconds a snapshot must have before it can automatically be deleted."
msgstr ""

#. Tag: title
#: snapper.xml:2450
#, no-c-format
msgid "Example timeline configuration"
msgstr ""

#. Tag: screen
#: snapper.xml:2451
#, no-c-format
msgid "TIMELINE_CLEANUP=\"yes\"\n"
      "TIMELINE_CREATE=\"yes\"\n"
      "TIMELINE_LIMIT_DAILY=\"7\"\n"
      "TIMELINE_LIMIT_HOURLY=\"24\"\n"
      "TIMELINE_LIMIT_MONTHLY=\"12\"\n"
      "TIMELINE_LIMIT_WEEKLY=\"4\"\n"
      "TIMELINE_LIMIT_YEARLY=\"2\"\n"
      "TIMELINE_MIN_AGE=\"1800\""
msgstr ""

#. Tag: para
#: snapper.xml:2459
#, no-c-format
msgid "This example configuration enables hourly snapshots which are automatically cleaned up. <literal>TIMELINE_MIN_AGE</literal> and <literal>TIMELINE_LIMIT_*</literal> are always both evaluated. In this example, the minimum age of a snapshot before it can be deleted is set to 30 minutes (1800 seconds). Since we create hourly snapshots, this ensures that only the latest snapshots are kept. If <literal>TIMELINE_LIMIT_DAILY</literal> is set to not zero, this means that the first snapshot of the day is kept, too."
msgstr ""

#. Tag: title
#: snapper.xml:2470
#, no-c-format
msgid "Snapshots to be kept"
msgstr ""

#. Tag: para
#: snapper.xml:2472
#, no-c-format
msgid "Hourly: the last 24 snapshots that have been made."
msgstr ""

#. Tag: para
#: snapper.xml:2477
#, no-c-format
msgid "Daily: the first daily snapshot that has been made is kept from the last seven days."
msgstr ""

#. Tag: para
#: snapper.xml:2483
#, no-c-format
msgid "Monthly: the first snapshot made on the last day of the month is kept for the last twelve months."
msgstr ""

#. Tag: para
#: snapper.xml:2489
#, no-c-format
msgid "Weekly: the first snapshot made on the last day of the week is kept from the last four weeks."
msgstr ""

#. Tag: para
#: snapper.xml:2495
#, no-c-format
msgid "Yearly: the first snapshot made on the last day of the year is kept for the last two years."
msgstr ""

#. Tag: title
#: snapper.xml:2505
#, no-c-format
msgid "Cleaning up snapshot pairs that do not differ"
msgstr ""

#. Tag: para
#: snapper.xml:2506
#, no-c-format
msgid "As explained in <xref linkend=\"snapper-snapshot-type\"/> , whenever you run a &yast; module or execute Zypper, a pre snapshot is created on start-up and a post snapshot is created when exiting. In case you have not made any changes there will be no difference between the pre and post snapshots. Such <quote>empty</quote> snapshot pairs can be automatically be deleted by setting the following parameters in a Snapper configuration:"
msgstr ""

#. Tag: term
#: snapper.xml:2516
#, no-c-format
msgid "<literal>EMPTY_PRE_POST_CLEANUP</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2519
#, no-c-format
msgid "If set to <literal>yes</literal> , pre and post snapshot pairs that do not differ will be deleted."
msgstr ""

#. Tag: para
#: snapper.xml:2523
#, no-c-format
msgid "The default value is <literal>\"yes\"</literal> ."
msgstr ""

#. Tag: term
#: snapper.xml:2529
#, no-c-format
msgid "<literal>EMPTY_PRE_POST_MIN_AGE</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2532
#, no-c-format
msgid "Defines the minimum age in seconds a pre and post snapshot pair that does not differ must have before it can automatically be deleted."
msgstr ""

#. Tag: para
#: snapper.xml:2536
#, no-c-format
msgid "The default value is <literal>\"1800\"</literal> ."
msgstr ""

#. Tag: title
#: snapper.xml:2545
#, no-c-format
msgid "Cleaning up manually created snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:2546
#, no-c-format
msgid "Snapper does not offer custom clean-up algorithms for manually created snapshots. However, you can assign the number or timeline clean-up algorithm to a manually created snapshot. If you do so, the snapshot will join the <quote>clean-up queue</quote> for the algorithm you specified. You can specify a clean-up algorithm when creating a snapshot, or by modifying an existing snapshot:"
msgstr ""

#. Tag: term
#: snapper.xml:2556
#, no-c-format
msgid "<command>snapper create --description \"Test\" --cleanup-algorithm number</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2559
#, no-c-format
msgid "Creates a stand-alone snapshot (type single) for the default (root) configuration and assigns the <literal>number</literal> clean-up algorithm."
msgstr ""

#. Tag: term
#: snapper.xml:2567
#, no-c-format
msgid "<command>snapper modify --cleanup-algorithm \"timeline\" 25</command>"
msgstr ""

#. Tag: para
#: snapper.xml:2570
#, no-c-format
msgid "Modifies the snapshot with the number 25 and assigns the clean-up algorithm <literal>timeline</literal> ."
msgstr ""

#. Tag: title
#: snapper.xml:2580
#, no-c-format
msgid "Adding disk quota support"
msgstr ""

#. Tag: para
#: snapper.xml:2581
#, no-c-format
msgid "In addition to the number and/or timeline clean-up algorithms described above, Snapper supports quotas. You can define what percentage of the available space snapshots are allowed to occupy. This percentage value always applies to the Btrfs subvolume defined in the respective Snapper configuration."
msgstr ""

#. Tag: para
#: snapper.xml:2588
#, no-c-format
msgid "Btrfs quotas are applied to subvolumes, not to users. You may apply disk space quotas to users and groups (for example, with the <command>quota</command> command) in addition to using Btrfs quotas."
msgstr ""

#. Tag: para
#: snapper.xml:2593
#, no-c-format
msgid "If Snapper was enabled during the installation, quota support is automatically enabled. In case you manually enable Snapper at a later point in time, you can enable quota support by running <command>snapper setup-quota</command> . This requires a valid configuration (see <xref linkend=\"sec-snapper-config\"/> for more information)."
msgstr ""

#. Tag: para
#: snapper.xml:2601
#, no-c-format
msgid "Quota support is controlled by the following parameters of a Snapper configuration."
msgstr ""

#. Tag: term
#: snapper.xml:2607
#, no-c-format
msgid "<literal>QGROUP</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2610
#, no-c-format
msgid "The Btrfs quota group used by Snapper. If not set, run <command>snapper setup-quota</command> . If already set, only change if you are familiar with <command>man 8 btrfs-qgroup</command> . This value is set with <command>snapper setup-quota</command> and should not be changed."
msgstr ""

#. Tag: term
#: snapper.xml:2619
#, no-c-format
msgid "<literal>SPACE_LIMIT</literal>"
msgstr ""

#. Tag: para
#: snapper.xml:2622
#, no-c-format
msgid "Limit of space snapshots are allowed to use in fractions of 1 (100%). Valid values range from 0 to 1 (0.1 = 10%, 0.2 = 20%, ...)."
msgstr ""

#. Tag: para
#: snapper.xml:2629
#, no-c-format
msgid "The following limitations and guidelines apply:"
msgstr ""

#. Tag: para
#: snapper.xml:2634
#, no-c-format
msgid "Quotas are only activated in <emphasis>addition</emphasis> to an existing number and/or timeline clean-up algorithm. If no clean-up algorithm is active, quota restrictions are not applied."
msgstr ""

#. Tag: para
#: snapper.xml:2641
#, no-c-format
msgid "With quota support enabled, Snapper will perform two clean-up runs if required. The first run will apply the rules specified for number and timeline snapshots. Only if the quota is exceeded after this run, the quota-specific rules will be applied in a second run."
msgstr ""

#. Tag: para
#: snapper.xml:2649
#, no-c-format
msgid "Even if quota support is enabled, Snapper will always keep the number of snapshots specified with the <literal>NUMBER_LIMIT*</literal> and <literal>TIMELINE_LIMIT*</literal> values, even if the quota will be exceeded. It is therefore recommended to specify ranged values ( <literal><replaceable>MIN</replaceable>-<replaceable>MAX</replaceable></literal> ) for <literal>NUMBER_LIMIT*</literal> and <literal>TIMELINE_LIMIT*</literal> to ensure the quota can be applied."
msgstr ""

#. Tag: para
#: snapper.xml:2658
#, no-c-format
msgid "If, for example, <literal>NUMBER_LIMIT=5-20</literal> is set, Snapper will perform a first clean-up run and reduce the number of regular numbered snapshots to 20. In case these 20 snapshots exceed the quota, Snapper will delete the oldest ones in a second run until the quota is met. A minimum of five snapshots will always be kept, regardless of the amount of space they occupy."
msgstr ""

#. Tag: title
#: snapper.xml:2672
#, no-c-format
msgid "Showing exclusive disk space used by snapshots"
msgstr ""

#. Tag: para
#: snapper.xml:2673
#, no-c-format
msgid "Snapshots share data, for efficient use of storage space, so using ordinary commands like <command>du</command> and <command>df</command> will not measure used disk space accurately. When you want to free up disk space on Btrfs with quotas enabled, you need to know how much exclusive disk space is used by each snapshot, rather than shared space. Snapper 0.6 and up reports the used disk space for each snapshot in the <literal>Used Space</literal> column:"
msgstr ""

#. Tag: screen
#: snapper.xml:2682
#, no-c-format
msgid "&prompt.root;snapper--iso list\n"
      "  # | Type   | Pre # | Date                | User | Used Space | Cleanup | Description           | Userdata     \n"
      "----+--------+-------+---------------------+------+------------+---------+-----------------------+--------------\n"
      " 0  | single |       |                     | root |            |         | current               |              \n"
      " 1* | single |       | 2019-07-22 13:08:38 | root |  16.00 KiB |         | first root filesystem |              \n"
      " 2  | single |       | 2019-07-22 14:21:05 | root |  14.23 MiB | number  | after installation    | important=yes\n"
      " 3  | pre    |       | 2019-07-22 14:26:03 | root | 144.00 KiB | number  | zypp(zypper)          | important=no \n"
      " 4  | post   |     3 | 2019-07-22 14:26:04 | root | 112.00 KiB | number  |                       | important=no \n"
      " 5  | pre    |       | 2019-07-23 08:19:36 | root | 128.00 KiB | number  | zypp(zypper)          | important=no \n"
      " 6  | post   |     5 | 2019-07-23 08:19:43 | root |  80.00 KiB | number  |                       | important=no \n"
      " 7  | pre    |       | 2019-07-23 08:20:50 | root | 256.00 KiB | number  | yast sw_single        |              \n"
      " 8  | pre    |       | 2019-07-23 08:23:22 | root | 112.00 KiB | number  | zypp(ruby.ruby2.5)    | important=no \n"
      " 9  | post   |     8 | 2019-07-23 08:23:35 | root |  64.00 KiB | number  |                       | important=no \n"
      "10  | post   |     7 | 2019-07-23 08:24:05 | root |  16.00 KiB | number  |                       |              \n"
      ""
msgstr ""

#. Tag: para
#: snapper.xml:2697
#, no-c-format
msgid "The <command>btrfs</command> command provides another view of space used by snapshots:"
msgstr ""

#. Tag: screen
#: snapper.xml:2701
#, no-c-format
msgid "\n"
      "&prompt.root;btrfs qgroup show -p /\n"
      "qgroupid         rfer         excl parent  \n"
      "--------         ----         ---- ------  \n"
      "0/5          16.00KiB     16.00KiB ---     \n"
      "[...]    \n"
      "0/272         3.09GiB     14.23MiB 1/0     \n"
      "0/273         3.11GiB    144.00KiB 1/0     \n"
      "0/274         3.11GiB    112.00KiB 1/0     \n"
      "0/275         3.11GiB    128.00KiB 1/0     \n"
      "0/276         3.11GiB     80.00KiB 1/0     \n"
      "0/277         3.11GiB    256.00KiB 1/0     \n"
      "0/278         3.11GiB    112.00KiB 1/0     \n"
      "0/279         3.12GiB     64.00KiB 1/0     \n"
      "0/280         3.12GiB     16.00KiB 1/0     \n"
      "1/0           3.33GiB    222.95MiB --- \n"
      ""
msgstr ""

#. Tag: para
#: snapper.xml:2718
#, no-c-format
msgid "The <literal>qgroupid</literal> column displays the identification number for each subvolume, assigning a qgroup level/ID combination."
msgstr ""

#. Tag: para
#: snapper.xml:2722
#, no-c-format
msgid "The <literal>rfer</literal> column displays the total amount of data referred to in the subvolume."
msgstr ""

#. Tag: para
#: snapper.xml:2726
#, no-c-format
msgid "The <literal>excl</literal> column displays the exclusive data in each subvolume."
msgstr ""

#. Tag: para
#: snapper.xml:2730
#, no-c-format
msgid "The <literal>parent</literal> column shows the parent qgroup of the subvolumes."
msgstr ""

#. Tag: para
#: snapper.xml:2733
#, no-c-format
msgid "The final item, <literal>1/0</literal> , shows the totals for the parent qgroup. In the above example, 222.95 MiB will be freed if all subvolumes are removed. Run the following command to see which snapshots are associated with each subvolume:"
msgstr ""

#. Tag: screen
#: snapper.xml:2739
#, no-c-format
msgid "&prompt.root;btrfs subvolume list -st /\n"
      "ID\tgen\ttop level\tpath\t\n"
      "--\t---\t---------\t----\t\n"
      "267\t298\t266\t\t@/.snapshots/1/snapshot\n"
      "272\t159\t266\t\t@/.snapshots/2/snapshot\n"
      "273\t170\t266\t\t@/.snapshots/3/snapshot\n"
      "274\t171\t266\t\t@/.snapshots/4/snapshot\n"
      "275\t287\t266\t\t@/.snapshots/5/snapshot\n"
      "276\t288\t266\t\t@/.snapshots/6/snapshot\n"
      "277\t292\t266\t\t@/.snapshots/7/snapshot\n"
      "278\t296\t266\t\t@/.snapshots/8/snapshot\n"
      "279\t297\t266\t\t@/.snapshots/9/snapshot\n"
      "280\t298\t266\t\t@/.snapshots/10/snapshot\n"
      ""
msgstr ""

#. Tag: para
#: snapper.xml:2753
#, no-c-format
msgid "Doing an upgrade from one service pack to another results in snapshots occupying a lot of disk space on the system subvolumes. Manually deleting these snapshots after they are no longer needed is recommended. See <xref linkend=\"sec-snapper-manage-delete\"/> for details."
msgstr ""

#. Tag: title
#: snapper.xml:2762
#, no-c-format
msgid "Frequently asked questions"
msgstr ""

#. Tag: para
#: snapper.xml:2767
#, no-c-format
msgid "Why does Snapper never show changes in <filename>/var/log</filename> , <filename>/tmp</filename> and other directories?"
msgstr ""

#. Tag: para
#: snapper.xml:2773
#, no-c-format
msgid "For certain directories, we decided to exclude them from snapshots. See <xref linkend=\"snapper-dir-excludes\"/> for a list and reasons. To exclude a path from snapshots we create a subvolume for that path."
msgstr ""

#. Tag: para
#: snapper.xml:2782
#, no-c-format
msgid "Can I boot a snapshot from the boot loader?"
msgstr ""

#. Tag: para
#: snapper.xml:2787
#, no-c-format
msgid "Yes&mdash;refer to <xref linkend=\"sec-snapper-snapshot-boot\"/> for details."
msgstr ""

#. Tag: para
#: snapper.xml:2795
#, no-c-format
msgid "Can a snapshot be protected from deletion?"
msgstr ""

#. Tag: para
#: snapper.xml:2800
#, no-c-format
msgid "Currently Snapper does not offer means to prevent a snapshot from being deleted manually. However, you can prevent snapshots from being automatically deleted by clean-up algorithms. Manually created snapshots (see <xref linkend=\"sec-snapper-manage-create\"/> ) have no clean-up algorithm assigned unless you specify one with <option>--cleanup-algorithm</option> . Automatically created snapshots always either have the <literal>number</literal> or <literal>timeline</literal> algorithm assigned. To remove such an assignment from one or more snapshots, proceed as follows:"
msgstr ""

#. Tag: para
#: snapper.xml:2813
#, no-c-format
msgid "List all available snapshots:"
msgstr ""

#. Tag: screen
#: snapper.xml:2816
#, no-c-format
msgid "&prompt.sudo;snapper list -a"
msgstr ""

#. Tag: para
#: snapper.xml:2819
#, no-c-format
msgid "Memorize the number of the snapshots you want to prevent from being deleted."
msgstr ""

#. Tag: para
#: snapper.xml:2825
#, no-c-format
msgid "Run the following command and replace the number placeholders with the number(s) you memorized:"
msgstr ""

#. Tag: screen
#: snapper.xml:2829
#, no-c-format
msgid "&prompt.sudo;snapper modify --cleanup-algorithm \"\" <replaceable>#1</replaceable> <replaceable>#2</replaceable> <replaceable>#n</replaceable>"
msgstr ""

#. Tag: para
#: snapper.xml:2832
#, no-c-format
msgid "Check the result by running <command>snapper list -a</command> again. The entry in the column <literal>Cleanup</literal> should now be empty for the snapshots you modified."
msgstr ""

#. Tag: para
#: snapper.xml:2843
#, no-c-format
msgid "Where can I get more information on Snapper?"
msgstr ""

#. Tag: para
#: snapper.xml:2848
#, no-c-format
msgid "See the Snapper home page at <link xlink:href=\"http://snapper.io/\"/> ."
msgstr ""

