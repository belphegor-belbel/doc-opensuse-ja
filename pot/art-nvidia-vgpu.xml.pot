# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2022-09-07 22:13+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <someuser@example.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/x-po; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#: art-nvidia-vgpu.xml:14
#, no-c-format
msgid "&sle_vgpu_kvm_guide;"
msgstr ""

#. Tag: productname
#: art-nvidia-vgpu.xml:15
#, no-c-format
msgid "&productname;"
msgstr ""

#. Tag: date
#: art-nvidia-vgpu.xml:16
#, no-c-format
msgid "<?dbtimestamp format=\"B d, Y\" ?>"
msgstr ""

#. Tag: productnumber
#: art-nvidia-vgpu.xml:16
#, no-c-format
msgid "&productnumber;"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:23
#, no-c-format
msgid "Introduction"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:24
#, no-c-format
msgid "&nvidia; virtual GPU (vGPU) is a graphics virtualization solution that provides multiple virtual machines (VMs) simultaneous access to one physical Graphics Processing Unit (GPU) on the &vmhost;. This article refers to the Volta and Ampere GPU architecture."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:32
#, no-c-format
msgid "Configuring vGPU manager in &vmhost;"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:35
#, no-c-format
msgid "Prepare &vmhost; environment"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:38
#, no-c-format
msgid "Verify that you have a compatible server and GPU cards. Check specifications for details:"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:44
#, no-c-format
msgid "<link xlink:href=\"https://docs.nvidia.com/grid/gpus-supported-by-vgpu.html\"/>"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:49
#, no-c-format
msgid "<link xlink:href=\"https://docs.nvidia.com/grid/index.html\"/>"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:56
#, no-c-format
msgid "Verify that &vmhost; is &sls; 15 SP3 or newer:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:59
#, no-c-format
msgid "\n"
      "&prompt.user;cat /etc/issue\n"
      "Welcome to SUSE Linux Enterprise Server 15 SP3  (x86_64) - Kernel \\r (\\l).\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:65
#, no-c-format
msgid "Get the vGPU drivers from &nvidia;. In order to get the software, please follow the steps at <link xlink:href=\"https://docs.nvidia.com/grid/latest/grid-software-quick-start-guide/index.html#redeeming-pak-and-downloading-grid-software\"/> . For example, for vGPU 13.0 installation, you will need the following files:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:73
#, no-c-format
msgid "\n"
      "NVIDIA-Linux-x86_64-470.63-vgpu-kvm.run  # vGPU manager for the VM host\n"
      "NVIDIA-Linux-x86_64-470.63.01-grid.run   # vGPU driver for the VM guest\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:79
#, no-c-format
msgid "If you are using Ampere architecture GPU cards, verify that &vmhost; supports VT-D/IOMMU and SR-IOV technologies, and that they are enabled in BIOS."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:86
#, no-c-format
msgid "Enable IOMMU. Verify that it is included in the boot command line:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:89
#, no-c-format
msgid "\n"
      "cat /proc/cmdline\n"
      "BOOT_IMAGE=/boot/vmlinuz-default [...] intel_iommu=on [...]\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:93
#, no-c-format
msgid "If not, add the following line to <filename>/etc/default/grub</filename> ."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:98
#, no-c-format
msgid "For Intel CPUs:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:101
#, no-c-format
msgid "GRUB_CMDLINE_LINUX=\"intel_iommu=on\""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:102
#, no-c-format
msgid "For AMD CPUs:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:105
#, no-c-format
msgid "GRUB_CMDLINE_LINUX=\"amd_iommu=on\""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:108
#, no-c-format
msgid "Then generate new &grub; configuration file and reboot:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:111
#, no-c-format
msgid "\n"
      "&prompt.sudo;grub2-mkconfig -o /boot/grub2/grub.cfg\n"
      "&prompt.sudo;systemctl reboot\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:116
#, no-c-format
msgid "You can verify that IOMMU is loaded by running the following command:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:119
#, no-c-format
msgid "sudo dmesg | grep -e IOMMU"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:127
#, no-c-format
msgid "Enable SR-IOV. Refer to <link xlink:href=\"https://docs.nvidia.com/grid/13.0/grid-vgpu-user-guide/index.html#vgpu-types-tesla-v100-pcie\"/> for useful information."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:135
#, no-c-format
msgid "Disable the nouveau kernel module by adding the following line it to the top of the <filename>/etc/modprobe.d/50-blacklist.conf</filename> file:"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:145
#, no-c-format
msgid "Install the &nvidia; &kvm; driver"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:148
#, no-c-format
msgid "Exit from the graphical mode:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:151
#, no-c-format
msgid "&prompt.sudo;init 3"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:154
#, no-c-format
msgid "Install <package>kernel-default-devel</package> and <package>gcc</package> packages and their dependencies:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:158
#, no-c-format
msgid "&prompt.sudo;zypper in kernel-default-devel gcc"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:165
#, no-c-format
msgid "\n"
      "&prompt.user;chmod +x NVIDIA-Linux-x86_64-450.55-vgpu-kvm.run\n"
      "&prompt.sudo;./NVIDIA-Linux-x86_64-450.55-vgpu-kvm.run\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:169
#, no-c-format
msgid "You can find detailed information about the installation process in the log file <filename>/var/log/nvidia-installer.log</filename>"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:174
#, no-c-format
msgid "To enable dynamic kernel-module support, and thus have the module rebuilt automatically when a new kernel is installed, add the <option>--dkms</option> option:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:179
#, no-c-format
msgid "&prompt.sudo;./NVIDIA-Linux-x86_64-450.55-vgpu-kvm.run --dkms"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:183
#, no-c-format
msgid "When the driver installation is finished, reboot the system:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:186
#, no-c-format
msgid "&prompt.sudo;systemctl reboot"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:192
#, no-c-format
msgid "Verify the driver installation"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:195
#, no-c-format
msgid "Verify loaded kernel modules:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:198
#, no-c-format
msgid "\n"
      "&prompt.user;lsmod | grep nvidia\n"
      "nvidia_vgpu_vfio       49152  9\n"
      "nvidia              14393344  229 nvidia_vgpu_vfio\n"
      "mdev                   20480  2 vfio_mdev,nvidia_vgpu_vfio\n"
      "vfio                   32768  6 vfio_mdev,nvidia_vgpu_vfio,vfio_iommu_type1\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:205
#, no-c-format
msgid "The modules containing the <literal>vfio</literal> string are required dependencies."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:211
#, no-c-format
msgid "Print the GPU device status with the <command>nvidia-smi</command> command. The output should be similar to the following one:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:215
#, no-c-format
msgid "\n"
      "&prompt.user;nvidia-smi\n"
      "+-----------------------------------------------------------------------------+\n"
      "| NVIDIA-SMI 470.63       Driver Version: 470.63       CUDA Version: N/A      |\n"
      "|-------------------------------+----------------------+----------------------+\n"
      "| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n"
      "| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n"
      "|                               |                      |               MIG M. |\n"
      "|===============================+======================+======================|\n"
      "|   0  NVIDIA A40          Off  | 00000000:31:00.0 Off |                    0 |\n"
      "|  0%   46C    P0    39W / 300W |      0MiB / 45634MiB |      0%      Default |\n"
      "|                               |                      |                  N/A |\n"
      "+-------------------------------+----------------------+----------------------+\n"
      "\n"
      "+-----------------------------------------------------------------------------+\n"
      "| Processes:                                                                  |\n"
      "|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\n"
      "|        ID   ID                                                   Usage      |\n"
      "|=============================================================================|\n"
      "|  No running processes found                                                 |\n"
      "+-----------------------------------------------------------------------------+\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:239
#, no-c-format
msgid "Check the sysfs file system. For Volta and earlier GPU cards, new directory <filename>mdev_supported_types</filename> is added, for example:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:244
#, no-c-format
msgid "cd /sys/bus/pci/devices/00000000\\:31\\:00.0/mdev_supported_types"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:245
#, no-c-format
msgid "For Ampere GPU cards, the directory will be created automatically for each virtual function after SR-IOV is enabled."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:254
#, no-c-format
msgid "Creating a vGPU device"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:257
#, no-c-format
msgid "Create a legacy vGPU device without support for SR-IOV"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:258
#, no-c-format
msgid "All the &nvidia; Volta and earlier architecture GPUs work in this mode."
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:266
#, no-c-format
msgid "\n"
      "&prompt.user;lspci | grep NVIDIA\n"
      "84:00.0 3D controller: NVIDIA Corporation GV100GL [Tesla V100 PCIe 16GB] (rev a1)\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:272
#, no-c-format
msgid "Check for the mdev supported devices and detailed information:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:275
#, no-c-format
msgid "\n"
      "&prompt.user;ls /sys/bus/pci/devices/0000:84:00.0/mdev_supported_types/\n"
      "nvidia-105  nvidia-106  nvidia-107  nvidia-108  nvidia-109  nvidia-110 [...]\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:279
#, no-c-format
msgid "The map of vGPU mdev devices and their type is as follows:"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:284
#, no-c-format
msgid "nvidia-105 to nvidia-109: 1Q 2Q 4Q 8Q 16Q"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:289
#, no-c-format
msgid "nvidia-110 to nvidia-114: 1A 2A 4A 8A 16A"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:294
#, no-c-format
msgid "nvidia-115, nvidia-163, nvidia-217, nvidia-247: 1B 2B 2B4 1B4"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:299
#, no-c-format
msgid "nvidia-299 to nvidia-301: 4C 8C 16C"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:304
#, no-c-format
msgid "Refer to <link xlink:href=\"https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html#vgpu-types-tesla-v100-pcie\"/> for more details."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:311
#, no-c-format
msgid "Inspect a vGPU device:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:314
#, no-c-format
msgid "\n"
      "&prompt.user;cd /sys/bus/pci/devices/0000:03:00.0/mdev_supported_types/\n"
      "&prompt.user;ls nvidia-105\n"
      "&prompt.user;cat nvidia-105/description \n"
      "num_heads=2, frl_config=60, framebuffer=1024M, max_resolution=4096x2160, max_instance=16\n"
      "&prompt.user;cat nvidia-105/name \n"
      "GRID V100-1Q\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:324
#, no-c-format
msgid "Generate a unique ID and create an mdev device based on it:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:327
#, no-c-format
msgid "\n"
      "      &prompt.user;uuidgen\n"
      "      4f3b6e47-0baa-4900-b0b1-284c1ecc192f\n"
      "      &prompt.sudo;echo \"4f3b6e47-0baa-4900-b0b1-284c1ecc192f\" &gt; nvidia-105/create\n"
      "     "
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:334
#, no-c-format
msgid "Verify the new mdev device. You can inspect the content of the <filename>/sys/bus/mdev/devices</filename> directory:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:338
#, no-c-format
msgid "\n"
      "&prompt.user;cd /sys/bus/mdev/devices\n"
      "&prompt.user;ls -l\n"
      "lrwxrwxrwx 1 root root 0 Aug 30 23:03 86380ffb-8f13-4685-9c48-0e0f4e65fb87 \\\n"
      " -&gt; ../../../devices/pci0000:80/0000:80:02.0/0000:84:00.0/86380ffb-8f13-4685-9c48-0e0f4e65fb87\n"
      "lrwxrwxrwx 1 root root 0 Aug 30 23:03 86380ffb-8f13-4685-9c48-0e0f4e65fb88 \\\n"
      " -&gt; ../../../devices/pci0000:80/0000:80:02.0/0000:84:00.0/86380ffb-8f13-4685-9c48-0e0f4e65fb88\n"
      "lrwxrwxrwx 1 root root 0 Aug 30 23:03 86380ffb-8f13-4685-9c48-0e0f4e65fb89 \\\n"
      " -&gt; ../../../devices/pci0000:80/0000:80:02.0/0000:84:00.0/86380ffb-8f13-4685-9c48-0e0f4e65fb89\n"
      "lrwxrwxrwx 1 root root 0 Aug 30 23:03 86380ffb-8f13-4685-9c48-0e0f4e65fb90 \\\n"
      " -&gt; ../../../devices/pci0000:80/0000:80:02.0/0000:84:00.0/86380ffb-8f13-4685-9c48-0e0f4e65fb90\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:350
#, no-c-format
msgid "Or you can use the <command>mdevctl</command> command:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:353
#, no-c-format
msgid "\n"
      "&prompt.sudo;mdevctl list\n"
      "86380ffb-8f13-4685-9c48-0e0f4e65fb90 0000:84:00.0 nvidia-299\n"
      "86380ffb-8f13-4685-9c48-0e0f4e65fb89 0000:84:00.0 nvidia-299\n"
      "86380ffb-8f13-4685-9c48-0e0f4e65fb87 0000:84:00.0 nvidia-299\n"
      "86380ffb-8f13-4685-9c48-0e0f4e65fb88 0000:84:00.0 nvidia-299\n"
      ""
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:365
#, no-c-format
msgid "\n"
      "&prompt.sudo;nvidia-smi vgpu -q\n"
      "GPU 00000000:84:00.0\n"
      "Active vGPUs                      : 1\n"
      "vGPU ID                           : 3251634323\n"
      "   VM UUID                       : ee7b7a4b-388a-4357-a425-5318b2c65b3f\n"
      "   VM Name                       : sle15sp3\n"
      "   vGPU Name                     : GRID V100-4C\n"
      "   vGPU Type                     : 299\n"
      "   vGPU UUID                     : d471c7f2-0a53-11ec-afd3-38b06df18e37\n"
      "   MDEV UUID                     : 86380ffb-8f13-4685-9c48-0e0f4e65fb87\n"
      "   Guest Driver Version          : 460.91.03\n"
      "   License Status                : Licensed\n"
      "   GPU Instance ID               : N/A\n"
      "   Accounting Mode               : Disabled\n"
      "   ECC Mode                      : N/A\n"
      "   Accounting Buffer Size        : 4000\n"
      "   Frame Rate Limit              : N/A\n"
      "   FB Memory Usage\n"
      "       Total                     : 4096 MiB\n"
      "       Used                      : 161 MiB\n"
      "       Free                      : 3935 MiB\n"
      "   Utilization\n"
      "       Gpu                       : 0 %\n"
      "       Memory                    : 0 %\n"
      "       Encoder                   : 0 %\n"
      "       Decoder                   : 0 %\n"
      "   Encoder Stats\n"
      "       Active Sessions           : 0\n"
      "       Average FPS               : 0\n"
      "       Average Latency           : 0\n"
      "   FBC Stats\n"
      "       Active Sessions           : 0\n"
      "       Average FPS               : 0\n"
      "       Average Latency           : 0\n"
      ""
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:406
#, no-c-format
msgid "Create a vGPU device with support for SR-IOV"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:407
#, no-c-format
msgid "All &nvidia; Ampere and newer architecture GPUs work in this mode."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:412
#, no-c-format
msgid "Obtain the Bus/Device/Function (BDF) numbers of the host GPU device:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:415
#, no-c-format
msgid "\n"
      "&prompt.user;lspci | grep NVIDIA\n"
      "b1:00.0 3D controller: NVIDIA Corporation GA100 [A100 PCIe 40GB] (rev a1)\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:421
#, no-c-format
msgid "Enable virtual functions:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:424
#, no-c-format
msgid "&prompt.sudo;/usr/lib/nvidia/sriov-manage -e 00:b1:0000.0"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:426
#, no-c-format
msgid "This configuration is not persistent and must be re-enabled after the host reboot."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:433
#, no-c-format
msgid "Obtain the Bus/Domain/Function (BDF) of virtual functions on the GPU:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:436
#, no-c-format
msgid "\n"
      "&prompt.user;ls -l /sys/bus/pci/devices/0000:b1:00.0/ | grep virtfn\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn0 -&gt; ../0000:b1:00.4\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn1 -&gt; ../0000:b1:00.5\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn10 -&gt; ../0000:b1:01.6\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn11 -&gt; ../0000:b1:01.7\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn12 -&gt; ../0000:b1:02.0\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn13 -&gt; ../0000:b1:02.1\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn14 -&gt; ../0000:b1:02.2\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn15 -&gt; ../0000:b1:02.3\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn2 -&gt; ../0000:b1:00.6\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn3 -&gt; ../0000:b1:00.7\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn4 -&gt; ../0000:b1:01.0\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn5 -&gt; ../0000:b1:01.1\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn6 -&gt; ../0000:b1:01.2\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn7 -&gt; ../0000:b1:01.3\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn8 -&gt; ../0000:b1:01.4\n"
      "lrwxrwxrwx 1 root root           0 Sep 21 11:58 virtfn9 -&gt; ../0000:b1:01.5\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:457
#, no-c-format
msgid "<emphasis>Create a vGPU device.</emphasis> Select the virtual function (VF) that you want to use to create the vGPU device and assign it a unique ID."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:463
#, no-c-format
msgid "Each VF can only create one vGPU instance. If you want to create more vGPU instances, you need to use a different VF."
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:468
#, no-c-format
msgid "\n"
      "&prompt.user;cd /sys/bus/pci/devices/0000:b1:00.0/virtfn1/mdev_supported_types\n"
      "&prompt.user;for i in *; do echo \"$i\" $(cat $i/name) available: $(cat $i/avail*); done\n"
      "nvidia-468 GRID A100-4C available: 0\n"
      "nvidia-469 GRID A100-5C available: 0\n"
      "nvidia-470 GRID A100-8C available: 0\n"
      "nvidia-471 GRID A100-10C available: 1\n"
      "nvidia-472 GRID A100-20C available: 0\n"
      "nvidia-473 GRID A100-40C available: 0\n"
      "nvidia-474 GRID A100-1-5C available: 0\n"
      "nvidia-475 GRID A100-2-10C available: 0\n"
      "nvidia-476 GRID A100-3-20C available: 0\n"
      "nvidia-477 GRID A100-4-20C available: 0\n"
      "nvidia-478 GRID A100-7-40C available: 0\n"
      "nvidia-479 GRID A100-1-5CME available: 0\n"
      "&prompt.user;uuidgen\n"
      "f715f63c-0d00-4007-9c5a-b07b0c6c05de\n"
      "&prompt.sudo;echo \"f715f63c-0d00-4007-9c5a-b07b0c6c05de\" &gt; nvidia-471/create\n"
      "&prompt.sudo;dmesg | tail\n"
      "[...]\n"
      "[ 3218.491843] vfio_mdev f715f63c-0d00-4007-9c5a-b07b0c6c05de: Adding to iommu group 322\n"
      "[ 3218.499700] vfio_mdev f715f63c-0d00-4007-9c5a-b07b0c6c05de: MDEV: group_id = 322\n"
      "[ 3599.608540] vfio_mdev f715f63c-0d00-4007-9c5a-b07b0c6c05de: Removing from iommu group 322\n"
      "[ 3599.616753] vfio_mdev f715f63c-0d00-4007-9c5a-b07b0c6c05de: MDEV: detaching iommu\n"
      "[ 3626.345530] vfio_mdev f715f63c-0d00-4007-9c5a-b07b0c6c05de: Adding to iommu group 322\n"
      "[ 3626.353383] vfio_mdev f715f63c-0d00-4007-9c5a-b07b0c6c05de: MDEV: group_id = 322\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:497
#, no-c-format
msgid "Verify the new vGPU device:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:500
#, no-c-format
msgid "\n"
      "&prompt.user;cd /sys/bus/mdev/devices/\n"
      "&prompt.user;ls\n"
      "f715f63c-0d00-4007-9c5a-b07b0c6c05de\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:507
#, no-c-format
msgid "Query the new vGPU device capability:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:510
#, no-c-format
msgid "\n"
      "&prompt.sudo;nvidia-smi vgpu -q\n"
      "GPU 00000000:B1:00.0\n"
      "Active vGPUs                      : 1\n"
      "vGPU ID                           : 3251634265\n"
      "  VM UUID                       : b0d9f0c6-a6c2-463e-967b-06cb206415b6\n"
      "  VM Name                       : sles15sp2-gehc-vm1\n"
      "  vGPU Name                     : GRID A100-10C\n"
      "  vGPU Type                     : 471\n"
      "  vGPU UUID                     : 444f610c-1b08-11ec-9554-ebd10788ee14\n"
      "  MDEV UUID                     : f715f63c-0d00-4007-9c5a-b07b0c6c05de\n"
      "  Guest Driver Version          : N/A\n"
      "  License Status                : N/A\n"
      "  GPU Instance ID               : N/A\n"
      "  Accounting Mode               : N/A\n"
      "  ECC Mode                      : Disabled\n"
      "  Accounting Buffer Size        : 4000\n"
      "  Frame Rate Limit              : N/A\n"
      "  FB Memory Usage\n"
      "      Total                     : 10240 MiB\n"
      "      Used                      : 0 MiB\n"
      "      Free                      : 10240 MiB\n"
      "  Utilization\n"
      "      Gpu                       : 0 %\n"
      "      Memory                    : 0 %\n"
      "      Encoder                   : 0 %\n"
      "      Decoder                   : 0 %\n"
      "  Encoder Stats\n"
      "      Active Sessions           : 0\n"
      "      Average FPS               : 0\n"
      "      Average Latency           : 0\n"
      "  FBC Stats\n"
      "      Active Sessions           : 0\n"
      "      Average FPS               : 0\n"
      "      Average Latency           : 0\n"
      ""
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:551
#, no-c-format
msgid "Creating a MIG-backed vGPU"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:553
#, no-c-format
msgid "SR-IOV is required to be enabled if you want to create vGPUs and assign them to guest VMs."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:559
#, no-c-format
msgid "Enable MIG mode for a GPU:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:562
#, no-c-format
msgid "\n"
      "&prompt.sudo;nvidia-smi -i 0 -mig 1\n"
      "Enabled MIG Mode for GPU 00000000:B1:00.0\n"
      "All done.\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:569
#, no-c-format
msgid "Query the GPU instance profile:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:572
#, no-c-format
msgid "\n"
      "&prompt.sudo;nvidia-smi mig -lgip\n"
      "+-----------------------------------------------------------------------------+\n"
      "| GPU instance profiles:                                                      |\n"
      "| GPU   Name             ID    Instances   Memory     P2P    SM    DEC   ENC  |\n"
      "|                              Free/Total   GiB              CE    JPEG  OFA  |\n"
      "|=============================================================================|\n"
      "|   0  MIG 1g.5gb        19     7/7        4.75       No     14     0     0   |\n"
      "|                                                             1     0     0   |\n"
      "+-----------------------------------------------------------------------------+\n"
      "|   0  MIG 1g.5gb+me     20     1/1        4.75       No     14     1     0   |\n"
      "|                                                             1     1     1   |\n"
      "+-----------------------------------------------------------------------------+\n"
      "|   0  MIG 2g.10gb       14     3/3        9.75       No     28     1     0   |\n"
      "|                                                             2     0     0   |\n"
      "+-----------------------------------------------------------------------------+\n"
      "|   0  MIG 3g.20gb        9     2/2        19.62      No     42     2     0   |\n"
      "|                                                             3     0     0   |\n"
      "+-----------------------------------------------------------------------------+\n"
      "|   0  MIG 4g.20gb        5     1/1        19.62      No     56     2     0   |\n"
      "|                                                             4     0     0   |\n"
      "+-----------------------------------------------------------------------------+\n"
      "|   0  MIG 7g.40gb        0     1/1        39.50      No     98     5     0   |\n"
      "|                                                             7     1     1   |\n"
      "+-----------------------------------------------------------------------------+\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:600
#, no-c-format
msgid "Create a GPU instance specifying '5' as a GPU profile instance ID and optionally create a Compute Instance on it, either on the host server or within the guest:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:604
#, no-c-format
msgid "\n"
      "&prompt.sudo;nvidia-smi mig -cgi 5\n"
      "Successfully created GPU instance ID  1 on GPU  0 using profile MIG 4g.20gb (ID  5)\n"
      "&prompt.sudo;nvidia-smi mig -cci -gi 1\n"
      "Successfully created compute instance ID  0 on GPU  0 GPU instance ID  1 using profile MIG 4g.20gb (ID  3)\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:612
#, no-c-format
msgid "Verify the GPU instance:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:615
#, no-c-format
msgid "\n"
      "&prompt.sudo;nvidia-smi\n"
      "Tue Sep 21 11:19:36 2021\n"
      "+-----------------------------------------------------------------------------+\n"
      "| NVIDIA-SMI 470.63       Driver Version: 470.63       CUDA Version: N/A      |\n"
      "|-------------------------------+----------------------+----------------------+\n"
      "| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n"
      "| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n"
      "|                               |                      |               MIG M. |\n"
      "|===============================+======================+======================|\n"
      "|   0  NVIDIA A100-PCI...  On   | 00000000:B1:00.0 Off |                   On |\n"
      "| N/A   38C    P0    38W / 250W |      0MiB / 40536MiB |     N/A      Default |\n"
      "|                               |                      |              Enabled |\n"
      "+-------------------------------+----------------------+----------------------+\n"
      "\n"
      "+-----------------------------------------------------------------------------+\n"
      "| MIG devices:                                                                |\n"
      "+------------------+----------------------+-----------+-----------------------+\n"
      "| GPU  GI  CI  MIG |         Memory-Usage |        Vol|         Shared        |\n"
      "|      ID  ID  Dev |           BAR1-Usage | SM     Unc| CE  ENC  DEC  OFA  JPG|\n"
      "|                  |                      |        ECC|                       |\n"
      "|==================+======================+===========+=======================|\n"
      "|  0    1   0   0  |      0MiB / 20096MiB | 56      0 |  4   0    2    0    0 |\n"
      "|                  |      0MiB / 32767MiB |           |                       |\n"
      "+------------------+----------------------+-----------+-----------------------+\n"
      "\n"
      "+-----------------------------------------------------------------------------+\n"
      "| Processes:                                                                  |\n"
      "|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\n"
      "|        ID   ID                                                   Usage      |\n"
      "|=============================================================================|\n"
      "|  No running processes found                                                 |\n"
      "+-----------------------------------------------------------------------------+\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:651
#, no-c-format
msgid "Use the MIG instance. You can use the instance directly with the UUID&mdash;for example, assign it to a container or CUDA process."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:655
#, no-c-format
msgid "You can also create a vGPU on top of it and assign it to a VM guest. The procedure is the same as for the vGPU with SR-IOV support. Refer to <xref linkend=\"configure-nvidia-vgpu-passthrough-with-sriov\"/> ."
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:660
#, no-c-format
msgid "\n"
      "&prompt.sudo;nvidia-smi -L\n"
      "GPU 0: NVIDIA A100-PCIE-40GB (UUID: GPU-ee14e29d-dd5b-2e8e-eeaf-9d3debd10788)\n"
      " MIG 4g.20gb     Device  0: (UUID: MIG-fed03f85-fd95-581b-837f-d582496d0260)\n"
      ""
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:670
#, no-c-format
msgid "Assign the vGPU device to a &vmguest;"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:673
#, no-c-format
msgid "Assign by &libvirt;"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:676
#, no-c-format
msgid "Create a &libvirt;-based virtual machine (VM) with UEFI support and a normal VGA display."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:682
#, no-c-format
msgid "Edit the VM's configuration by running <command>virsh edit <replaceable>VM-NAME</replaceable></command> ."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:688
#, no-c-format
msgid "Add the new mdev device with the unique ID you used when creating the vGPU device to the &lt;devices/&gt; section."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:693
#, no-c-format
msgid "If you are using Q-series, use <literal>display='on'</literal> instead."
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:697
#, no-c-format
msgid "\n"
      "&lt;hostdev mode='subsystem' type='mdev' managed='no' model='vfio-pci' display='off'&gt;\n"
      "  &lt;source&gt;\n"
      "    &lt;address uuid='4f3b6e47-0baa-4900-b0b1-284c1ecc192f'/&gt;\n"
      "  &lt;/source&gt;\n"
      "  &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x0a' function='0x0'/&gt;\n"
      "&lt;/hostdev&gt;\n"
      ""
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:710
#, no-c-format
msgid "Assign by &qemu;"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:711
#, no-c-format
msgid "Add the following device to the &qemu; command line. Use the unique ID that you used when creating the vGPU device:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:715
#, no-c-format
msgid "-device vfio-pci,sysfsdev=/sys/bus/mdev/devices/4f3b6e47-0baa-4900-b0b1-284c1ecc192f"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:719
#, no-c-format
msgid "Configuring vGPU in &vmguest;"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:722
#, no-c-format
msgid "Prepare the &vmguest;"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:725
#, no-c-format
msgid "During &vmguest; installation, disable secure boot, enable the SSH service, and select <literal>wicked</literal> for networking."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:731
#, no-c-format
msgid "Disable the <literal>nouveau</literal> video driver. Edit the file <filename>/etc/modprobe.d/50-blacklist.conf</filename> and add the following line to its upper section:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:736
#, no-c-format
msgid "blacklist nouveau"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:738
#, no-c-format
msgid "Disabling <literal>nouveau</literal> will work after you re-generate the initrd image with dracut, and then reboot the &vmguest;."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:748
#, no-c-format
msgid "Install the vGPU driver in the &vmguest;"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:751
#, no-c-format
msgid "Install the following packages and their dependencies:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:754
#, no-c-format
msgid "&prompt.sudo;zypper install kernel-default-devel libglvnd-devel"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:757
#, no-c-format
msgid "Download the vGPU software from the &nvidia; portal. Make the &nvidia; vGPU driver executable and run it:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:761
#, no-c-format
msgid "\n"
      "      &prompt.user;chmod +x NVIDIA-Linux-x86_64-470.63.01-grid.run\n"
      "      &prompt.sudo;./NVIDIA-Linux-x86_64-470.63.01-grid.run\n"
      "      "
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:766
#, no-c-format
msgid "To enable dynamic kernel module support in order to get the module rebuilt automatically when a new kernel is installed, add the <option>--dkms</option> option:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:771
#, no-c-format
msgid "&prompt.sudo;./NVIDIA-Linux-x86_64-470.63.01-grid.run --dkms"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:775
#, no-c-format
msgid "During driver installation, select to run the <command>nvidia-xconfig</command> utility."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:781
#, no-c-format
msgid "Verify the driver installation by checking the output of the <command>nvidia-smi</command> command:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:785
#, no-c-format
msgid "\n"
      "&prompt.sudo;nvidia-smi\n"
      "+-----------------------------------------------------------------------------+\n"
      "| NVIDIA-SMI 470.63.01    Driver Version: 470.63.01    CUDA Version: 11.4     |\n"
      "|-------------------------------+----------------------+----------------------+\n"
      "| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n"
      "| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n"
      "|                               |                      |               MIG M. |\n"
      "|===============================+======================+======================|\n"
      "|   0  GRID A100-10C       On   | 00000000:07:00.0 Off |                    0 |\n"
      "| N/A   N/A    P0    N/A /  N/A |    930MiB / 10235MiB |      0%      Default |\n"
      "|                               |                      |             Disabled |\n"
      "+-------------------------------+----------------------+----------------------+\n"
      "\n"
      "+-----------------------------------------------------------------------------+\n"
      "| Processes:                                                                  |\n"
      "|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\n"
      "|        ID   ID                                                   Usage      |\n"
      "|=============================================================================|\n"
      "|  No running processes found                                                 |\n"
      "+-----------------------------------------------------------------------------+\n"
      ""
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:812
#, no-c-format
msgid "Licensing vGPU in the &vmguest;"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:816
#, no-c-format
msgid "Create the configuration file <filename>/etc/nvidia/gridd.conf</filename> based on <filename>/etc/nvidia/gridd.conf.template</filename> ."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:824
#, no-c-format
msgid "For licenses that are served from the &nvidia; License System, update the following options:"
msgstr ""

#. Tag: term
#: art-nvidia-vgpu.xml:842
#, no-c-format
msgid "ClientConfigTokenPath"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:844
#, no-c-format
msgid "Optional: If you want to store the client configuration token in a custom location, add the <option>ClientConfigTokenPath</option> configuration parameter on a new line as <option>ClientConfigTokenPath=\"<replaceable>PATH_TO_TOKEN</replaceable>\"</option> . By default, the client searches for the client configuration token in the <filename>/etc/nvidia/ClientConfigToken/</filename> directory."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:852
#, no-c-format
msgid "Copy the client configuration token to the directory in which you want to store it."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:861
#, no-c-format
msgid "For licenses that are served from the legacy &nvidia; vGPU software license server, update the following options:"
msgstr ""

#. Tag: term
#: art-nvidia-vgpu.xml:867
#, no-c-format
msgid "ServerAddress"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:869
#, no-c-format
msgid "Add your license server IP address."
msgstr ""

#. Tag: term
#: art-nvidia-vgpu.xml:875
#, no-c-format
msgid "ServerPort"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:877
#, no-c-format
msgid "Use the default \"7070\" or the port configured during the server setup."
msgstr ""

#. Tag: term
#: art-nvidia-vgpu.xml:883
#, no-c-format
msgid "FeatureType"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:885
#, no-c-format
msgid "For GPU passthrough, set <option>FeatureType</option> to <literal>4</literal> for computing and <literal>2</literal> for graphic purposes. In case of a virtual GPU, whatever vGPU type is created via <command>mdev</command> determines the feature set that is enabled in &vmguest;."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:899
#, no-c-format
msgid "Restart the <systemitem class=\"daemon\">nvidia-gridd</systemitem> service:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:902
#, no-c-format
msgid "&prompt.sudo;systemctl restart nvidia-gridd.service"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:905
#, no-c-format
msgid "Inspect the log file for possible errors:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:908
#, no-c-format
msgid "\n"
      "&prompt.sudo;grep gridd /var/log/messages\n"
      "[...]\n"
      "Aug 5 15:40:06 localhost nvidia-gridd: Started (4293)\n"
      "Aug 5 15:40:24 localhost nvidia-gridd: License acquired successfully.\n"
      ""
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:918
#, no-c-format
msgid "Configuring a graphics mode"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:921
#, no-c-format
msgid "Create or update the <filename>/etc/X11/xorg.conf</filename> file"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:924
#, no-c-format
msgid "If there is no <filename>/etc/X11/xorg.conf</filename> on the &vmguest;, run the <command>nvidia-xconfig</command> utility."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:930
#, no-c-format
msgid "Query the GPU device for detailed information:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:933
#, no-c-format
msgid "\n"
      "&prompt.user;nvidia-xconfig --query-gpu-info\n"
      "Number of GPUs: 1\n"
      "\n"
      "GPU #0:\n"
      "Name      : GRID V100-16Q\n"
      "UUID      : GPU-089f39ad-01cb-11ec-89dc-da10f5778138\n"
      "PCI BusID : PCI:0:10:0\n"
      "\n"
      "Number of Display Devices: 0\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:946
#, no-c-format
msgid "Add GPU's BusID to <filename>/etc/X11/xorg.conf</filename> , for example:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:949
#, no-c-format
msgid "\n"
      "Section \"Device\"\n"
      "Identifier \"Device0\"\n"
      "Driver \"nvidia\"\n"
      "BusID \"PCI:0:10:0\"\n"
      "VendorName \"NVIDIA Corporation\"\n"
      "EndSection\n"
      ""
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:962
#, no-c-format
msgid "Verify the graphics mode"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:963
#, no-c-format
msgid "Verify the following:"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:968
#, no-c-format
msgid "A graphic desktop is booted correctly."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:973
#, no-c-format
msgid "The 'X' process of a running X-server is running in GPU:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:976
#, no-c-format
msgid "\n"
      "&prompt.user;nvidia-smi\n"
      "+-----------------------------------------------------------------------------+\n"
      "| NVIDIA-SMI 470.63.01    Driver Version: 470.63.01    CUDA Version: 11.4     |\n"
      "|-------------------------------+----------------------+----------------------+\n"
      "| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n"
      "| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n"
      "|                               |                      |               MIG M. |\n"
      "|===============================+======================+======================|\n"
      "|   0  GRID V100-4C        On   | 00000000:00:0A.0 Off |                  N/A |\n"
      "| N/A   N/A    P0    N/A /  N/A |    468MiB /  4096MiB |      0%      Default |\n"
      "|                               |                      |                  N/A |\n"
      "+-------------------------------+----------------------+----------------------+\n"
      "\n"
      "+-----------------------------------------------------------------------------+\n"
      "| Processes:                                                                  |\n"
      "|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\n"
      "|        ID   ID                                                   Usage      |\n"
      "|=============================================================================|\n"
      "|    0   N/A  N/A      1921      G   /usr/bin/X                         76MiB |\n"
      "|    0   N/A  N/A      1957      G   /usr/bin/gnome-shell               87MiB |\n"
      "+-----------------------------------------------------------------------------+\n"
      ""
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1004
#, no-c-format
msgid "Remote display"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1005
#, no-c-format
msgid "You need to install and configure the VNC server package <package>x11vnc</package> inside the &vmguest;, and start it with the following command:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:1010
#, no-c-format
msgid "&prompt.sudo;x11vnc -display :0 -auth /run/user/1000/gdm/Xauthority -forever -shared -ncache -bg -usepw -geometry 1900x1080"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1011
#, no-c-format
msgid "You can use <command>virt-manager</command> or <command>virt-viewer</command> to display the graphical output of a &vmguest;."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1017
#, no-c-format
msgid "For a &libvirt;-based &vmguest;, verify that its XML configuration includes <literal>display=on</literal> as suggested in <xref linkend=\"configure-nvidia-vgpu-passthrough-to-vm-libvirt\"/> ."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1026
#, no-c-format
msgid "Configuring compute mode"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1030
#, no-c-format
msgid "Download and install the CUDA toolkit. You can find it at <link xlink:href=\"https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=SLES&amp;target_version=15&amp;target_type=runfile_local\"/> ."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1037
#, no-c-format
msgid "Download CUDA samples from <link xlink:href=\"https://github.com/nvidia/cuda-samples\"/> ."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1042
#, no-c-format
msgid "Run CUDA sampling example:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:1045
#, no-c-format
msgid "\n"
      "&prompt.user;cd <replaceable>YOUR_GIT_CLONE_LOCATION</replaceable>/cuda-samples/Samples/0_Introduction/clock\n"
      "&prompt.user; make\n"
      "/usr/local/cuda/bin/nvcc -ccbin g++ -I../../common/inc  -m64    --threads 0 -gencode arch=compute_35,code=sm_35 -gencode arch=compute_37,code=sm_37 -gencode\n"
      "[...]\n"
      "mkdir -p ../../bin/x86_64/linux/release\n"
      "cp clock ../../bin/x86_64/linux/release\n"
      "&prompt.user;./clock\n"
      "CUDA Clock sample\n"
      "GPU Device 0: \"Volta\" with compute capability 7.0\n"
      "Average clocks/block = 2820.718750\n"
      ""
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1061
#, no-c-format
msgid "Additional tasks"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1063
#, no-c-format
msgid "This section introduces additional procedures that may be helpful after you have configured your vGPU."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1069
#, no-c-format
msgid "Disabling Frame Rate Limiter"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1070
#, no-c-format
msgid "Frame Rate Limiter (FRL) is enabled by default. It limits the vGPU to a fixed frame rate, for example 60fps. If you experience a bad graphic display, you may need to disable FRL, for example:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:1075
#, no-c-format
msgid "&prompt.sudo;echo \"frame_rate_limiter=0\" &gt; /sys/bus/mdev/devices/86380ffb-8f13-4685-9c48-0e0f4e65fb87/nvidia/vgpu_params"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1079
#, no-c-format
msgid "Enabling/Disabling Error Correcting Code (ECC)"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1080
#, no-c-format
msgid "Since the &nvidia; Pascal architecture, &nvidia; GPU Cards support ECC memory to improve data integrity. ECC is also supported by software since &nvidia; vGPU 9.0."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1085
#, no-c-format
msgid "To enable ECC:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:1088
#, no-c-format
msgid "\n"
      "&prompt.sudo;nvidia-smi –e 1\n"
      "&prompt.user;nvidia-smi -q\n"
      "Ecc Mode\n"
      "   Current                           : Enabled\n"
      "   Pending                           : Enabled\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1095
#, no-c-format
msgid "To disable ECC:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:1098
#, no-c-format
msgid "&prompt.sudo;nvidia-smi –e 0"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1102
#, no-c-format
msgid "Black screen in Virt-manager"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1103
#, no-c-format
msgid "If you see only a black screen in Virt-manager, press <keycombo><keycap function=\"alt\"/><keycap function=\"control\"/><keycap>2</keycap></keycombo> from Virt-manager viewer. You should be able to get in the display again."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1111
#, no-c-format
msgid "Black screen in VNC client when using a non-&qemu; VNC server"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1112
#, no-c-format
msgid "Use the xvnc server."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1118
#, no-c-format
msgid "Kernel panic occurs because the Nouveau and &nvidia; drivers compete on GPU resources"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1119
#, no-c-format
msgid "The boot messages will look as follows:"
msgstr ""

#. Tag: screen
#: art-nvidia-vgpu.xml:1122
#, no-c-format
msgid "\n"
      "[ 16.742439] Hardware name: QEMU Standard PC (Q35 + ICH9, 2009), BIOS rel-1.14.0-0-g155821a1990b-prebuilt.qemu.org 04/01/2014\n"
      "[ 16.742441] RIP: 0010:__pci_enable_msi_range+0x3a9/0x3f0\n"
      "[ 16.742443] Code: 76 60 49 8d 56 50 48 89 df e8 73 f6 fc ff e9 3b fe ff ff 31 f6 48 89 df e8 64 73 fd ff e9 d6 fe ff ff 44 89 fd e9 1a ff ff ff &lt;0f&gt; 0b bd ea ff ff ff e9 0e ff ff ff bd ea ff ff ff e9 04 ff f\n"
      "f ff\n"
      "[ 16.742444] RSP: 0018:ffffb04bc052fb28 EFLAGS: 00010202\n"
      "[ 16.742445] RAX: 0000000000000010 RBX: ffff9e93a85bc000 RCX: 0000000000000001\n"
      "[ 16.742457] RDX: 0000000000000000 RSI: 0000000000000001 RDI: ffff9e93a85bc000\n"
      "[ 16.742458] RBP: ffff9e93a2550800 R08: 0000000000000002 R09: ffffb04bc052fb1c\n"
      "[ 16.742459] R10: 0000000000000050 R11: 0000000000000020 R12: ffff9e93a2550800\n"
      "[ 16.742459] R13: 0000000000000001 R14: ffff9e93a2550ac8 R15: 0000000000000001\n"
      "[ 16.742460] FS: 00007f9f26889740(0000) GS:ffff9e93bfdc0000(0000) knlGS:0000000000000000\n"
      "[ 16.742461] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033\n"
      "[ 16.742462] CR2: 00000000008aeb90 CR3: 0000000286470003 CR4: 0000000000170ee0\n"
      "[ 16.742465] Call Trace:\n"
      "[ 16.742503] ? __pci_find_next_cap_ttl+0x93/0xd0\n"
      "[ 16.742505] pci_enable_msi+0x16/0x30\n"
      "[ 16.743039] nv_init_msi+0x1a/0xf0 [nvidia]\n"
      "[ 16.743154] nv_open_device+0x81b/0x890 [nvidia]\n"
      "[ 16.743248] nvidia_open+0x2f7/0x4d0 [nvidia]\n"
      "[ 16.743256] ? kobj_lookup+0x113/0x160\n"
      "[ 16.743354] nvidia_frontend_open+0x53/0x90 [nvidia]\n"
      "[ 16.743361] chrdev_open+0xc4/0x1a0\n"
      "[ 16.743370] ? cdev_put.part.2+0x20/0x20\n"
      "[ 16.743374] do_dentry_open+0x204/0x3a0\n"
      "[ 16.743378] path_openat+0x2fc/0x1520\n"
      "[ 16.743382] ? unlazy_walk+0x32/0xa0\n"
      "[ 16.743383] ? terminate_walk+0x8c/0x100\n"
      "[ 16.743385] do_filp_open+0x9b/0x110\n"
      "[ 16.743387] ? chown_common+0xf7/0x1c0\n"
      "[ 16.743390] ? kmem_cache_alloc+0x18a/0x270\n"
      "[ 16.743392] ? do_sys_open+0x1bd/0x260\n"
      "[ 16.743394] do_sys_open+0x1bd/0x260\n"
      "[ 16.743400] do_syscall_64+0x5b/0x1e0\n"
      "[ 16.743409] entry_SYSCALL_64_after_hwframe+0x44/0xa9\n"
      "[ 16.743418] RIP: 0033:0x7f9f2593961d\n"
      "[ 16.743420] Code: f0 25 00 00 41 00 3d 00 00 41 00 74 48 64 8b 04 25 18 00 00 00 85 c0 75 64 89 f2 b8 01 01 00 00 48 89 fe bf 9c ff ff ff 0f 05 &lt;48&gt; 3d 00 f0 ff ff 0f 87 97 00 00 00 48 8b 4c 24 28 64 48 33 0\n"
      "c 25\n"
      "[ 16.743420] RSP: 002b:00007ffcfa214930 EFLAGS: 00000246 ORIG_RAX: 0000000000000101\n"
      "[ 16.743422] RAX: ffffffffffffffda RBX: 00007ffcfa214c30 RCX: 00007f9f2593961d\n"
      "[ 16.743422] RDX: 0000000000080002 RSI: 00007ffcfa2149b0 RDI: 00000000ffffff9c\n"
      "[ 16.743423] RBP: 00007ffcfa2149b0 R08: 0000000000000000 R09: 0000000000000000\n"
      "[ 16.743424] R10: 0000000000000000 R11: 0000000000000246 R12: 0000000000000000\n"
      "[ 16.743424] R13: 00007ffcfa214abc R14: 0000000000925ae0 R15: 0000000000000000\n"
      "[ 16.743426] ---[ end trace 8bf4d15315659a3e ]---\n"
      "[ 16.743431] NVRM: GPU 0000:00:0a.0: Failed to enable MSI; falling back to PCIe virtual-wire interrupts.\n"
      ""
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1169
#, no-c-format
msgid "Make sure to run <command>mkintrd</command> and reboot after disabling the Nouveau driver. Refer to <xref linkend=\"configure-nvidia-vgpu-passthrough-to-vm\"/> ."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1177
#, no-c-format
msgid "Filing an &nvidia; vGPU bug"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1178
#, no-c-format
msgid "While filing an &nvidia; vGPU-related bug report to us, please attach the vGPU configuration data <filename>nvidia-bug-report.log.gz</filename> collected by the <command>nvidia-bug-report.sh</command> utility. Make sure you cover both &vmhost; and &vmguest;."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1187
#, no-c-format
msgid "Configuring a License Server"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1188
#, no-c-format
msgid "Refer to <link xlink:href=\"https://docs.nvidia.com/grid/ls/latest/grid-license-server-user-guide/index.html\"/> ."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1195
#, no-c-format
msgid "For more information"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1197
#, no-c-format
msgid "&nvidia; has an extensive documentation on vGPU. Refer to <link xlink:href=\"https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html\"/> for details."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1204
#, no-c-format
msgid "&nvidia; virtual GPU background"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1207
#, no-c-format
msgid "&nvidia; GPU architectures"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1208
#, no-c-format
msgid "There are two types of GPU architectures:"
msgstr ""

#. Tag: term
#: art-nvidia-vgpu.xml:1213
#, no-c-format
msgid "Time-sliced vGPU architecture"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1215
#, no-c-format
msgid "Introduced on GPUs that are based on the &nvidia; Ampere GPU architecture. Only Ampere GPU cards can support MIG-backed vGPU."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1220
#, no-c-format
msgid "Time-sliced architecture (source: <link xlink:href=\"https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html\"/> )"
msgstr ""

#. Tag: term
#: art-nvidia-vgpu.xml:1233
#, no-c-format
msgid "Multi-Instance GPU (MIG) vGPU architecture"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1235
#, no-c-format
msgid "All GPU cards support time-sliced vGPU. To do so, Ampere GPU cards use the Single Root I/O Virtualization (SR-IOV) mechanism, while Volta and the earlier GPU cards use the mediated device mechanism. Volta and the earlier architecture are based on mediated device mechanism. These two mechanisms are transparent to a VM. However, they need different configurations from the host side."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1244
#, no-c-format
msgid "MIG-backed architecture (source: <link xlink:href=\"https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html\"/> )"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1261
#, no-c-format
msgid "Each physical GPU can support several different types of vGPUs. vGPU types have a fixed amount of frame buffer, the number of supported display heads, and maximum resolutions. NVIDIA has four types of vGPUs: A, B, C, and Q-series. &suse; currently supports Q and C-series."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1268
#, no-c-format
msgid "vGPU types"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1275
#, no-c-format
msgid "vGPU series"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1280
#, no-c-format
msgid "Optimal workload"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1289
#, no-c-format
msgid "Q-series"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1294
#, no-c-format
msgid "Virtual workstations for creative and technical professionals who require the performance and features of the &nvidia; Quadro technology."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1303
#, no-c-format
msgid "C-series"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1308
#, no-c-format
msgid "Compute-intensive server workloads, for example, artificial intelligence (AI), deep learning, or high-performance computing (HPC)."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1316
#, no-c-format
msgid "B-series"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1321
#, no-c-format
msgid "Virtual desktops for business professionals and knowledge workers."
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1328
#, no-c-format
msgid "A-series"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1333
#, no-c-format
msgid "Application streaming or session-based solutions for virtual applications users."
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1345
#, no-c-format
msgid "Valid vGPU configurations on a single GPU"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1347
#, no-c-format
msgid "Time-sliced vGPU configurations"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1348
#, no-c-format
msgid "For time-sliced vGPUs, all vGPUs types must be the same:"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1352
#, no-c-format
msgid "Example time-sliced vGPU configurations on &nvidia; Tesla M60 (source: <link xlink:href=\"https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html\"/> )"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1364
#, no-c-format
msgid "MIG-backed vGPU configurations"
msgstr ""

#. Tag: para
#: art-nvidia-vgpu.xml:1365
#, no-c-format
msgid "For MIG-backed vGPUs, vGPUs can be both homogeneous and mixed-type:"
msgstr ""

#. Tag: title
#: art-nvidia-vgpu.xml:1369
#, no-c-format
msgid "Example MIG-backed vGPU configurations on &nvidia; A100 PCIe 40GB (source: <link xlink:href=\"https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html\"/> )"
msgstr ""

