# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2023-11-30 22:58+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <someuser@example.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/x-po; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#: security_kerberos.xml:11
#, no-c-format
msgid "Network authentication with &krb;"
msgstr ""

#. Tag: para
#: security_kerberos.xml:14
#, no-c-format
msgid "&krb; is a network authentication protocol which also provides encryption. This chapter describes how to set up &krb; and integrate services like LDAP and NFS."
msgstr ""

#. Tag: title
#: security_kerberos.xml:26
#, no-c-format
msgid "Conceptual overview"
msgstr ""

#. Tag: para
#: security_kerberos.xml:28
#, no-c-format
msgid "An open network provides no means of ensuring that a workstation can identify its users properly, except through the usual password mechanisms. In common installations, the user must enter the password each time a service inside the network is accessed. &krb; provides an authentication method with which a user registers only once and is trusted in the complete network for the rest of the session. To have a secure network, the following requirements must be met:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:40
#, no-c-format
msgid "Have all users prove their identity for each desired service and make sure that no one can take the identity of someone else."
msgstr ""

#. Tag: para
#: security_kerberos.xml:46
#, no-c-format
msgid "Make sure that each network server also proves its identity. Otherwise an attacker might be able to impersonate the server and obtain sensitive information transmitted to the server. This concept is called <emphasis>mutual authentication</emphasis> , because the client authenticates to the server and vice versa."
msgstr ""

#. Tag: para
#: security_kerberos.xml:56
#, no-c-format
msgid "&krb; helps you meet these requirements by providing strongly encrypted authentication. Only the basic principles of &krb; are discussed here. For detailed technical instruction, refer to the &krb; documentation."
msgstr ""

#. Tag: title
#: security_kerberos.xml:63
#, no-c-format
msgid "&krb; terminology"
msgstr ""

#. Tag: para
#: security_kerberos.xml:65
#, no-c-format
msgid "The following glossary defines &krb; terminology."
msgstr ""

#. Tag: term
#: security_kerberos.xml:71
#, no-c-format
msgid "credential"
msgstr ""

#. Tag: para
#: security_kerberos.xml:73
#, no-c-format
msgid "Users or clients need to present credentials that authorize them to request services. &krb; knows two kinds of credentials&mdash;tickets and authenticators."
msgstr ""

#. Tag: term
#: security_kerberos.xml:81
#, no-c-format
msgid "ticket"
msgstr ""

#. Tag: para
#: security_kerberos.xml:83
#, no-c-format
msgid "A ticket is a per-server credential used by a client to authenticate at a server from which it is requesting a service. It contains the name of the server, the client's name, the client's Internet address, a time stamp, a lifetime, and a random session key. All this data is encrypted using the server's key."
msgstr ""

#. Tag: term
#: security_kerberos.xml:93
#, no-c-format
msgid "authenticator"
msgstr ""

#. Tag: para
#: security_kerberos.xml:95
#, no-c-format
msgid "Combined with the ticket, an authenticator is used to prove that the client presenting a ticket is really the one it claims to be. An authenticator is built using the client's name, the workstation's IP address, and the current workstation's time, all encrypted with the session key known only to the client and the relevant server. An authenticator can only be used once, unlike a ticket. A client can build an authenticator itself."
msgstr ""

#. Tag: term
#: security_kerberos.xml:107
#, no-c-format
msgid "principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:109
#, no-c-format
msgid "A &krb; principal is a unique entity (a user or service) to which it can assign a ticket. A principal consists of the following components:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:113
#, no-c-format
msgid "<replaceable>USER</replaceable>/<replaceable>INSTANCE</replaceable>@<replaceable>REALM</replaceable>"
msgstr ""

#. Tag: title
#: security_kerberos.xml:117
#, no-c-format
msgid "primary:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:118
#, no-c-format
msgid "The first part of the principal. For users, this is usually the same as the user name."
msgstr ""

#. Tag: title
#: security_kerberos.xml:126
#, no-c-format
msgid "instance <emphasis>(optional)</emphasis> :"
msgstr ""

#. Tag: para
#: security_kerberos.xml:127
#, no-c-format
msgid "Additional information characterizing the <emphasis>primary</emphasis> . This string is separated from the <emphasis>primary</emphasis> by a <literal>/</literal> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:133
#, no-c-format
msgid "<literal>tux@example.org</literal> and <literal>tux/admin@example.org</literal> can both exist on the same &krb; system and are treated as different principals."
msgstr ""

#. Tag: title
#: security_kerberos.xml:141
#, no-c-format
msgid "realm:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:142
#, no-c-format
msgid "Specifies the &krb; realm. Normally, your realm is your domain name in uppercase letters."
msgstr ""

#. Tag: term
#: security_kerberos.xml:152
#, no-c-format
msgid "mutual authentication"
msgstr ""

#. Tag: para
#: security_kerberos.xml:154
#, no-c-format
msgid "&krb; ensures that both client and server can be sure of each other's identity. They share a session key, which they can use to communicate securely."
msgstr ""

#. Tag: term
#: security_kerberos.xml:162
#, no-c-format
msgid "session key"
msgstr ""

#. Tag: para
#: security_kerberos.xml:164
#, no-c-format
msgid "Session keys are temporary private keys generated by &krb;. They are known to the client and used to encrypt the communication between the client and the server for which it requested and received a ticket."
msgstr ""

#. Tag: term
#: security_kerberos.xml:172
#, no-c-format
msgid "replay"
msgstr ""

#. Tag: para
#: security_kerberos.xml:174
#, no-c-format
msgid "Almost all messages sent in a network can be eavesdropped, stolen and resent. In the &krb; context, this would be most dangerous if an attacker manages to obtain your request for a service containing your ticket and authenticator. The attacker could then try to resend it ( <emphasis>replay</emphasis> ) to impersonate you. However, &krb; implements several mechanisms to deal with this problem."
msgstr ""

#. Tag: term
#: security_kerberos.xml:185
#, no-c-format
msgid "server or service"
msgstr ""

#. Tag: para
#: security_kerberos.xml:187
#, no-c-format
msgid "<emphasis>Service</emphasis> is used to refer to a specific action to perform. The process behind this action is called a <emphasis>server</emphasis> ."
msgstr ""

#. Tag: title
#: security_kerberos.xml:197
#, no-c-format
msgid "How &krb; works"
msgstr ""

#. Tag: para
#: security_kerberos.xml:199
#, no-c-format
msgid "&krb; is often called a third-party trusted authentication service, which means all its clients trust &krb;'s judgment of another client's identity. &krb; keeps a database of all its users and their private keys."
msgstr ""

#. Tag: para
#: security_kerberos.xml:205
#, no-c-format
msgid "To ensure &krb; is working correctly, run both the authentication and ticket-granting server on a dedicated machine. Make sure that only the administrator can access this machine physically and over the network. Reduce the (networking) services running on it to the absolute minimum&mdash;do not even run <systemitem class=\"daemon\">sshd</systemitem> ."
msgstr ""

#. Tag: title
#: security_kerberos.xml:214
#, no-c-format
msgid "First contact"
msgstr ""

#. Tag: para
#: security_kerberos.xml:215
#, no-c-format
msgid "Your first contact with &krb; is similar to any login procedure at a normal networking system. Enter your user name. This piece of information and the name of the ticket-granting service are sent to the authentication server (&krb;). If the authentication server knows you, it generates a random session key for further use between your client and the ticket-granting server. Now the authentication server prepares a ticket for the ticket-granting server. The ticket contains the following information&mdash;all encrypted with a session key only the authentication server and the ticket-granting server know:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:228
#, no-c-format
msgid "The names of both, the client and the ticket-granting server"
msgstr ""

#. Tag: para
#: security_kerberos.xml:238
#, no-c-format
msgid "A lifetime assigned to this ticket"
msgstr ""

#. Tag: para
#: security_kerberos.xml:253
#, no-c-format
msgid "This ticket is then sent back to the client together with the session key, again in encrypted form, but this time the private key of the client is used. This private key is only known to &krb; and the client, because it is derived from your user password. Now that the client has received this response, you are prompted for your password. This password is converted into the key that can decrypt the package sent by the authentication server. The package is <quote>unwrapped</quote> and password and key are erased from the workstation's memory. As long as the lifetime given to the ticket used to obtain other tickets does not expire, your workstation can prove your identity."
msgstr ""

#. Tag: title
#: security_kerberos.xml:268
#, no-c-format
msgid "Requesting a service"
msgstr ""

#. Tag: para
#: security_kerberos.xml:269
#, no-c-format
msgid "To request a service from any server in the network, the client application needs to prove its identity to the server. Therefore, the application generates an authenticator. An authenticator consists of the following components:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:292
#, no-c-format
msgid "A checksum (chosen by the client)"
msgstr ""

#. Tag: para
#: security_kerberos.xml:297
#, no-c-format
msgid "All this information is encrypted using the session key that the client has already received for this special server. The authenticator and the ticket for the server are sent to the server. The server uses its copy of the session key to decrypt the authenticator, which gives it all the information needed about the client requesting its service, to compare it to that contained in the ticket. The server checks if the ticket and the authenticator originate from the same client."
msgstr ""

#. Tag: para
#: security_kerberos.xml:306
#, no-c-format
msgid "Without any security measures implemented on the server side, this stage of the process would be an ideal target for replay attacks. Someone could try to resend a request stolen off the net some time before. To prevent this, the server does not accept any request with a time stamp and ticket received previously. A request with a time stamp differing too much from the time the request is received is ignored."
msgstr ""

#. Tag: title
#: security_kerberos.xml:317
#, no-c-format
msgid "Mutual authentication"
msgstr ""

#. Tag: para
#: security_kerberos.xml:318
#, no-c-format
msgid "&krb; authentication can be used in both directions. It is not only a question of the client being the one it claims to be. The server should also be able to authenticate itself to the client requesting its service. Therefore, it sends an authenticator itself. It adds one to the checksum it received in the client's authenticator and encrypts it with the session key, which is shared between it and the client. The client takes this response as a proof of the server's authenticity and they both start cooperating."
msgstr ""

#. Tag: title
#: security_kerberos.xml:331
#, no-c-format
msgid "Ticket granting&mdash;contacting all servers"
msgstr ""

#. Tag: para
#: security_kerberos.xml:332
#, no-c-format
msgid "Tickets are designed to be used for one server at a time. Therefore, you need to get a new ticket each time you request another service. &krb; implements a mechanism to obtain tickets for individual servers. This service is called the <quote>ticket-granting service</quote> . The ticket-granting service is a service (like any other service mentioned before) and uses the same access protocols that have already been outlined. Any time an application needs a ticket that has not already been requested, it contacts the ticket-granting server. This request consists of the following components:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:345
#, no-c-format
msgid "The requested principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:350
#, no-c-format
msgid "The ticket-granting ticket"
msgstr ""

#. Tag: para
#: security_kerberos.xml:355
#, no-c-format
msgid "An authenticator"
msgstr ""

#. Tag: para
#: security_kerberos.xml:360
#, no-c-format
msgid "Like any other server, the ticket-granting server now checks the ticket-granting ticket and the authenticator. If they are considered valid, the ticket-granting server builds a new session key to be used between the original client and the new server. Then the ticket for the new server is built, containing the following information:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:369
#, no-c-format
msgid "The client's principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:374
#, no-c-format
msgid "The server's principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:379
#, no-c-format
msgid "The current time"
msgstr ""

#. Tag: para
#: security_kerberos.xml:384
#, no-c-format
msgid "The client's IP address"
msgstr ""

#. Tag: para
#: security_kerberos.xml:389
#, no-c-format
msgid "The newly generated session key"
msgstr ""

#. Tag: para
#: security_kerberos.xml:394
#, no-c-format
msgid "The new ticket has a lifetime, which is either the remaining lifetime of the ticket-granting ticket or the default for the service. The lesser of both values is assigned. The client receives this ticket and the session key, which are sent by the ticket-granting service. But this time the answer is encrypted with the session key that came with the original ticket-granting ticket. The client can decrypt the response without requiring the user's password when a new service is contacted. &krb; can thus acquire ticket after ticket for the client without bothering the user."
msgstr ""

#. Tag: title
#: security_kerberos.xml:407
#, no-c-format
msgid "User view of &krb;"
msgstr ""

#. Tag: para
#: security_kerberos.xml:409
#, no-c-format
msgid "Ideally, a user only contact with &krb; happens during login at the workstation. The login process includes obtaining a ticket-granting ticket. At logout, a user's &krb; tickets are automatically destroyed, which makes it difficult for anyone else to impersonate this user."
msgstr ""

#. Tag: para
#: security_kerberos.xml:416
#, no-c-format
msgid "The automatic expiration of tickets can lead to a situation when a user's login session lasts longer than the maximum lifespan given to the ticket-granting ticket (a reasonable setting is 10 hours). However, the user can get a new ticket-granting ticket by running <command>kinit</command> . Enter the password again and &krb; obtains access to desired services without additional authentication. To get a list of all the tickets silently acquired for you by &krb;, run <command>klist</command> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:426
#, no-c-format
msgid "Here is a short list of applications that use &krb; authentication. These applications can be found under <filename>/usr/lib/mit/bin</filename> or <filename>/usr/lib/mit/sbin</filename> after installing the package <systemitem>krb5-apps-clients</systemitem> . They all have the full functionality of their common Unix and Linux brothers plus the additional bonus of transparent authentication managed by &krb;:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:437
#, no-c-format
msgid "<command>telnet</command> , <systemitem class=\"daemon\">telnetd</systemitem>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:442
#, no-c-format
msgid "<command>rlogin</command>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:447
#, no-c-format
msgid "<command>rsh</command> , <command>rcp</command> , <systemitem class=\"daemon\">rshd</systemitem>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:453
#, no-c-format
msgid "<command>ftp</command> , <systemitem class=\"daemon\">ftpd</systemitem>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:458
#, no-c-format
msgid "<command>ksu</command>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:467
#, no-c-format
msgid "You no longer need to enter your password for using these applications because &krb; has already proven your identity. <command>ssh</command> , if compiled with &krb; support, can even forward all the tickets acquired for one workstation to another one. If you use <command>ssh</command> to log in to another workstation, <command>ssh</command> makes sure that the encrypted contents of the tickets are adjusted to the new situation. Simply copying tickets between workstations is not sufficient because the ticket contains workstation-specific information (the IP address). XDM and GDM offer &krb; support, too. Read more about the &krb; network applications in <citetitle>Kerberos V5 UNIX User's Guide</citetitle> at <link xlink:href=\"https://web.mit.edu/kerberos\"/> ."
msgstr ""

#. Tag: title
#: security_kerberos.xml:482
#, no-c-format
msgid "Installing and administering &krb;"
msgstr ""

#. Tag: para
#: security_kerberos.xml:484
#, no-c-format
msgid "A &krb; environment consists of several components. A key distribution center (KDC) holds the central database with all &krb;-relevant data. All clients rely on the KDC for proper authentication across the network. Both the KDC and the clients need to be configured to match your setup:"
msgstr ""

#. Tag: term
#: security_kerberos.xml:493
#, no-c-format
msgid "General preparations"
msgstr ""

#. Tag: para
#: security_kerberos.xml:495
#, no-c-format
msgid "Check your network setup and make sure it meets the minimum requirements outlined in <xref linkend=\"sec-security-kerberos-admin-top\"/> . Choose an appropriate realm for your &krb; setup, see <xref linkend=\"sec-security-kerberos-admin-realm\"/> . Carefully set up the machine that is to serve as the KDC and apply tight security, see <xref linkend=\"sec-security-kerberos-admin-kdc\"/> . Set up a reliable time source in your network to make sure all tickets contain valid time stamps, see <xref linkend=\"sec-security-kerberos-admin-time\"/> ."
msgstr ""

#. Tag: term
#: security_kerberos.xml:508
#, no-c-format
msgid "Basic configuration"
msgstr ""

#. Tag: para
#: security_kerberos.xml:510
#, no-c-format
msgid "Configure the KDC and the clients, see <xref linkend=\"sec-security-kerberos-admin-instkdc\"/> and <xref linkend=\"sec-security-kerberos-admin-client\"/> . Enable remote administration for your &krb; service, so you do not need physical access to your KDC machine, see <xref linkend=\"sec-security-kerberos-admin-remote\"/> . Create service principals for every service in your realm, see <xref linkend=\"sec-security-kerberos-admin-hostprinc\"/> ."
msgstr ""

#. Tag: term
#: security_kerberos.xml:523
#, no-c-format
msgid "Enabling &krb; authentication"
msgstr ""

#. Tag: para
#: security_kerberos.xml:525
#, no-c-format
msgid "Various services in your network can use &krb;. To add &krb; password-checking to applications using PAM, proceed as outlined in <xref linkend=\"sec-security-kerberos-admin-pam\"/> . To configure SSH or LDAP with &krb; authentication, proceed as outlined in <xref linkend=\"sec-security-kerberos-admin-sshd\"/> and <xref linkend=\"sec-security-kerberos-admin-ldap\"/> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:539
#, no-c-format
msgid "Any &krb; environment must meet the following requirements to be fully functional:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:545
#, no-c-format
msgid "Provide a DNS server for name resolution across your network, so clients and servers can locate each other. Refer to <xref linkend=\"cha-dns\"/> for information on DNS setup."
msgstr ""

#. Tag: para
#: security_kerberos.xml:552
#, no-c-format
msgid "Provide a time server in your network. Using exact time stamps is crucial to a &krb; setup, because valid &krb; tickets must contain correct time stamps. Refer to <xref linkend=\"cha-ntp\"/> for information on NTP setup."
msgstr ""

#. Tag: para
#: security_kerberos.xml:559
#, no-c-format
msgid "Provide a key distribution center (KDC) as the center piece of the &krb; architecture. It holds the &krb; database. Use the tightest possible security policy on this machine to prevent any attacks on this machine compromising your entire infrastructure."
msgstr ""

#. Tag: para
#: security_kerberos.xml:567
#, no-c-format
msgid "Configure the client machines to use &krb; authentication."
msgstr ""

#. Tag: para
#: security_kerberos.xml:572
#, no-c-format
msgid "The following figure depicts a simple example network with only the minimum components needed to build a &krb; infrastructure. Depending on the size and topology of your deployment, your setup may vary."
msgstr ""

#. Tag: title
#: security_kerberos.xml:578
#, no-c-format
msgid "&krb; network topology"
msgstr ""

#. Tag: title
#: security_kerberos.xml:589
#, no-c-format
msgid "Configuring subnet routing"
msgstr ""

#. Tag: para
#: security_kerberos.xml:590
#, no-c-format
msgid "For a setup similar to the one in <xref linkend=\"fig-netw-kerb\"/> , configure routing between the two subnets (&subnetImask; and &subnetIImask;). Refer to <xref linkend=\"sec-network-yast-change-route\"/> for more information on configuring routing with &yast;."
msgstr ""

#. Tag: title
#: security_kerberos.xml:600
#, no-c-format
msgid "Choosing the &krb; realms"
msgstr ""

#. Tag: para
#: security_kerberos.xml:601
#, no-c-format
msgid "The domain of a &krb; installation is called a realm and is identified by a name, such as <literal>EXAMPLE.COM</literal> or simply <literal>ACCOUNTING</literal> . &krb; is case-sensitive, so <literal>example.com</literal> is a different realm than <literal>EXAMPLE.COM</literal> . Use the case you prefer. However, it is common practice to use uppercase realm names."
msgstr ""

#. Tag: para
#: security_kerberos.xml:609
#, no-c-format
msgid "It is also a good idea to use your DNS domain name (or a subdomain, such as <literal>ACCOUNTING.EXAMPLE.COM</literal> ). As shown below, your life as an administrator can be much easier if you configure your &krb; clients to locate the KDC and other &krb; services via DNS. To do so, it is helpful if your realm name is a subdomain of your DNS domain name."
msgstr ""

#. Tag: para
#: security_kerberos.xml:616
#, no-c-format
msgid "Unlike the DNS name space, &krb; is not hierarchical. So if you have a realm named <literal>EXAMPLE.COM</literal> with two <quote>subrealms</quote> named <literal>DEVELOPMENT</literal> and <literal>ACCOUNTING</literal> , these subordinate realms do not inherit principals from <literal>EXAMPLE.COM</literal> . Instead, you would have three separate realms, and you would need to configure cross-realm authentication for each realm, so that users from one realm can interact with servers or other users from another realm."
msgstr ""

#. Tag: para
#: security_kerberos.xml:626
#, no-c-format
msgid "For the sake of simplicity, let us assume you are setting up only one realm for your entire organization. For the remainder of this section, the realm name <literal>EXAMPLE.COM</literal> is used in all examples."
msgstr ""

#. Tag: title
#: security_kerberos.xml:634
#, no-c-format
msgid "Setting up the KDC hardware"
msgstr ""

#. Tag: para
#: security_kerberos.xml:635
#, no-c-format
msgid "The first thing required to use &krb; is a machine that acts as the key distribution center, or KDC for short. This machine holds the entire &krb; user database with passwords and all information."
msgstr ""

#. Tag: para
#: security_kerberos.xml:640
#, no-c-format
msgid "The KDC is the most important part of your security infrastructure&mdash;if someone breaks into it, all user accounts and your infrastructure protected by &krb; is compromised. An attacker with access to the &krb; database can impersonate any principal in the database. Tighten security for this machine as much as possible:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:649
#, no-c-format
msgid "Put the server machine into a physically secured location, such as a locked server room to which only a few people have access."
msgstr ""

#. Tag: para
#: security_kerberos.xml:655
#, no-c-format
msgid "Do not run any network applications on it except the KDC. This includes servers and clients&mdash;for example, the KDC should not import any file systems via NFS or use DHCP to retrieve its network configuration."
msgstr ""

#. Tag: para
#: security_kerberos.xml:662
#, no-c-format
msgid "Install a minimal system first then check the list of installed packages and remove any unneeded packages. This includes servers, such as <systemitem class=\"daemon\">inetd</systemitem> , <systemitem class=\"daemon\">portmap</systemitem> , and CUPS, plus anything X-based. Even installing an SSH server should be considered a potential security risk."
msgstr ""

#. Tag: para
#: security_kerberos.xml:672
#, no-c-format
msgid "No graphical login is provided on this machine as an X server is a potential security risk. &krb; provides its own administration interface."
msgstr ""

#. Tag: para
#: security_kerberos.xml:678
#, no-c-format
msgid "Configure <filename>/etc/nsswitch.conf</filename> to use only local files for user and group lookup. Change the lines for <literal>passwd</literal> and <literal>group</literal> to look like this:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:683
#, no-c-format
msgid "passwd:         files\n"
      "group:          files"
msgstr ""

#. Tag: para
#: security_kerberos.xml:685
#, no-c-format
msgid "Edit the <filename>passwd</filename> , <filename>group</filename> , and <filename>shadow</filename> files in <filename>/etc</filename> and remove the lines that start with a <literal>+</literal> character (these are for NIS lookups)."
msgstr ""

#. Tag: para
#: security_kerberos.xml:693
#, no-c-format
msgid "Disable all user accounts except &rootuser;'s account by editing <filename>/etc/shadow</filename> and replacing the hashed passwords with <literal>*</literal> or <literal>!</literal> characters."
msgstr ""

#. Tag: title
#: security_kerberos.xml:703
#, no-c-format
msgid "Configuring time synchronization"
msgstr ""

#. Tag: para
#: security_kerberos.xml:704
#, no-c-format
msgid "To use &krb; successfully, make sure that all system clocks within your organization are synchronized within a certain range. This is important because &krb; protects against replayed credentials. An attacker might be able to observe &krb; credentials on the network and reuse them to attack the server. &krb; employs several defenses to prevent this. One of them is that it puts time stamps into its tickets. A server receiving a ticket with a time stamp that differs from the current time rejects the ticket."
msgstr ""

#. Tag: para
#: security_kerberos.xml:713
#, no-c-format
msgid "&krb; allows a certain leeway when comparing time stamps. However, computer clocks can be inaccurate in keeping time&mdash;it is not unheard of for PC clocks to lose or gain half an hour during a week. For this reason, configure all hosts on the network to synchronize their clocks with a central time source."
msgstr ""

#. Tag: para
#: security_kerberos.xml:720
#, no-c-format
msgid "A simple way to do so is by installing an NTP time server on one machine and having all clients synchronize their clocks with this server. Do this by running an NTP daemon &chronyd; as a client on all these machines. The KDC itself needs to be synchronized to the common time source as well. Because running an NTP daemon on this machine would be a security risk, it is a good idea to do this by running <command>chronyd -q</command> via a cron job. To configure your machine as an NTP client, proceed as outlined in <xref linkend=\"sec-ntp-yast\"/> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:730
#, no-c-format
msgid "A different way to secure the time service and still use the NTP daemon is to attach a hardware reference clock to a dedicated NTP server and an additional hardware reference clock to the KDC."
msgstr ""

#. Tag: para
#: security_kerberos.xml:735
#, no-c-format
msgid "It is also possible to adjust the maximum deviation &krb; allows when checking time stamps. This value (called <emphasis>clock skew</emphasis> ) can be set in the <filename>krb5.conf</filename> file as described in <xref linkend=\"sec-security-kerberos-admin-client-clockskew\"/> ."
msgstr ""

#. Tag: title
#: security_kerberos.xml:744
#, no-c-format
msgid "Configuring the KDC"
msgstr ""

#. Tag: para
#: security_kerberos.xml:745
#, no-c-format
msgid "This section covers the initial configuration and installation of the KDC, including the creation of an administrative principal. This procedure consists of several steps:"
msgstr ""

#. Tag: title
#: security_kerberos.xml:753
#, no-c-format
msgid "Install the RPMs"
msgstr ""

#. Tag: para
#: security_kerberos.xml:754
#, no-c-format
msgid "On a machine designated as the KDC, install the following software packages: <systemitem class=\"resource\">krb5</systemitem> , <systemitem class=\"resource\">krb5-server</systemitem> and <systemitem class=\"resource\">krb5-client</systemitem> packages."
msgstr ""

#. Tag: title
#: security_kerberos.xml:764
#, no-c-format
msgid "Adjust the configuration files"
msgstr ""

#. Tag: para
#: security_kerberos.xml:765
#, no-c-format
msgid "The <filename>/etc/krb5.conf</filename> and <filename>/var/lib/kerberos/krb5kdc/kdc.conf</filename> configuration files must be adjusted for your scenario. These files contain all information on the KDC. See <xref linkend=\"sec-security-kerberos-admin-kdc-configure\"/> ."
msgstr ""

#. Tag: title
#: security_kerberos.xml:776
#, no-c-format
msgid "Create the &krb; database"
msgstr ""

#. Tag: para
#: security_kerberos.xml:777
#, no-c-format
msgid "&krb; keeps a database of all principal identifiers and the secret keys of all principals that need to be authenticated. Refer to <xref linkend=\"sec-security-kerberos-admin-kdc-database\"/> for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:786
#, no-c-format
msgid "Adjust the ACL files: add administrators"
msgstr ""

#. Tag: para
#: security_kerberos.xml:787
#, no-c-format
msgid "The &krb; database on the KDC can be managed remotely. To prevent unauthorized principals from tampering with the database, &krb; uses access control lists. You must explicitly enable remote access for the administrator principal to enable them to manage the database. The &krb; ACL file is located under <filename>/var/lib/kerberos/krb5kdc/kadm5.acl</filename> . Refer to <xref linkend=\"sec-security-kerberos-admin-remote\"/> for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:800
#, no-c-format
msgid "Adjust the &krb; database: add administrators"
msgstr ""

#. Tag: para
#: security_kerberos.xml:801
#, no-c-format
msgid "You need at least one administrative principal to run and administer &krb;. This principal must be added before starting the KDC. Refer to <xref linkend=\"sec-security-kerberos-admin-kdc-princ\"/> for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:810
#, no-c-format
msgid "Start the &krb; daemon"
msgstr ""

#. Tag: para
#: security_kerberos.xml:811
#, no-c-format
msgid "After the KDC software is installed and properly configured, start the &krb; daemon to provide &krb; service for your realm. Refer to <xref linkend=\"sec-security-kerberos-admin-kdc-start\"/> for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:820
#, no-c-format
msgid "Create a principal for yourself"
msgstr ""

#. Tag: para
#: security_kerberos.xml:821
#, no-c-format
msgid "You need a principal for yourself. Refer to <xref linkend=\"sec-security-kerberos-admin-kdc-princ\"/> for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:829
#, no-c-format
msgid "Configuring the server"
msgstr ""

#. Tag: para
#: security_kerberos.xml:830
#, no-c-format
msgid "Configuring a &krb; server is highly variable, dependent on your network architecture, DNS and DHCP configuration, realms and other considerations. You must have a default realm, and domain- to-realm mappings. The following example demonstrates a minimal configuration. This is not a copy-and-paste example; see <link xlink:href=\"https://web.mit.edu/kerberos/krb5-latest/doc/admin/conf_files/index.html\"/> for detailed information on &krb; configuration."
msgstr ""

#. Tag: title
#: security_kerberos.xml:840
#, no-c-format
msgid "Example KDC configuration, <filename>/etc/krb5.conf</filename>"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:841
#, no-c-format
msgid "<?dbfo keep-together=\"always\"?>[libdefaults]\n"
      " dns_canonicalize_hostname = false\n"
      " rdns = false\n"
      " default_realm = &exampledomain;\n"
      " ticket_lifetime = 24h\n"
      " renew_lifetime = 7d\n"
      "\n"
      "[realms]\n"
      "  &exampledomain; = {\n"
      "  kdc = kdc.&exampledomain;.:88\n"
      "  admin_server = kdc.&exampledomain;\n"
      "  default_domain = &exampledomain;\n"
      " }\n"
      "\n"
      " [logging]\n"
      " kdc = FILE:/var/log/krb5kdc.log\n"
      " admin_server = FILE:/var/log/kadmind.log\n"
      " default = SYSLOG:NOTICE:DAEMON\n"
      "\n"
      "[domain_realm]\n"
      " .&exampledomain; = &exampledomain;\n"
      " &exampledomain; = &exampledomain;\n"
      ""
msgstr ""

#. Tag: title
#: security_kerberos.xml:867
#, no-c-format
msgid "Setting up the database"
msgstr ""

#. Tag: para
#: security_kerberos.xml:868
#, no-c-format
msgid "Your next step is to initialize the database where &krb; keeps all information about principals. Set up the database master key, which is used to protect the database from accidental disclosure (in particular if it is backed up to tape). The master key is derived from a pass phrase and is stored in a file called the stash file. This is so you do not need to enter the password every time the KDC is restarted. Make sure that you choose a good pass phrase, such as a sentence from a book opened to a random page."
msgstr ""

#. Tag: para
#: security_kerberos.xml:878
#, no-c-format
msgid "When you make tape backups of the &krb; database ( <filename>/var/lib/kerberos/krb5kdc/principal</filename> ), do not back up the stash file (which is in <filename>/var/lib/kerberos/krb5kdc/.k5.EXAMPLE.COM</filename> ). Otherwise, everyone able to read the tape could also decrypt the database. Therefore, keep a copy of the pass phrase in a safe or another secure location, because you need it to restore your database from backup tape after a crash."
msgstr ""

#. Tag: para
#: security_kerberos.xml:888
#, no-c-format
msgid "To create the stash file and the database, run:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:891
#, no-c-format
msgid "&prompt.sudo;kdb5_util create -r EXAMPLE.COM -s"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:895
#, no-c-format
msgid "Initializing database '/var/lib/kerberos/krb5kdc/principal' for realm 'EXAMPLE.COM',\n"
      "master key name 'K/M@EXAMPLE.COM'\n"
      "You are prompted for the database Master Password.\n"
      "It is important that you NOT FORGET this password.\n"
      "Enter KDC database master key:  <co xml:id=\"co-kerb-kdb5-pass\"/>\n"
      "Re-enter KDC database master key to verify:  <co xml:id=\"co-kerb-kdb5-pass-repeat\"/>\n"
      ""
msgstr ""

#. Tag: para
#: security_kerberos.xml:904
#, no-c-format
msgid "Type the master password."
msgstr ""

#. Tag: para
#: security_kerberos.xml:909
#, no-c-format
msgid "Type the password again."
msgstr ""

#. Tag: para
#: security_kerberos.xml:914
#, no-c-format
msgid "To verify, use the list command:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:917
#, no-c-format
msgid "&prompt.user;kadmin.local\n"
      "\n"
      "<prompt>kadmin&gt; </prompt>listprincs"
msgstr ""

#. Tag: para
#: security_kerberos.xml:920
#, no-c-format
msgid "You see several principals in the database, which are for internal use by &krb;:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:924
#, no-c-format
msgid "K/M@EXAMPLE.COM\n"
      "kadmin/admin@EXAMPLE.COM\n"
      "kadmin/changepw@EXAMPLE.COM\n"
      "krbtgt/EXAMPLE.COM@EXAMPLE.COM"
msgstr ""

#. Tag: title
#: security_kerberos.xml:930
#, no-c-format
msgid "Creating a principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:931
#, no-c-format
msgid "Create two &krb; principals for yourself: one normal principal for everyday work and one for administrative tasks relating to &krb;. Assuming your login name is <systemitem class=\"username\">&exampleuserIII_plain;</systemitem> , proceed as follows:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:936
#, no-c-format
msgid "&prompt.user;kadmin.local\n"
      "\n"
      "<prompt>kadmin&gt; </prompt>ank &exampleuserIII_plain;\n"
      ""
msgstr ""

#. Tag: para
#: security_kerberos.xml:940
#, no-c-format
msgid "You see the following output:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:943
#, no-c-format
msgid "&exampleuserIII_plain;@EXAMPLE.COM's Password: <co xml:id=\"co-kerb-geeko-pass\"/>\n"
      "Verifying password: <co xml:id=\"co-kerb-geeko-pass-repeat\"/>\n"
      ""
msgstr ""

#. Tag: para
#: security_kerberos.xml:948
#, no-c-format
msgid "Type <systemitem class=\"username\">&gt;&exampleuserIII_plain;</systemitem> 's password."
msgstr ""

#. Tag: para
#: security_kerberos.xml:953
#, no-c-format
msgid "Type <systemitem class=\"username\">&exampleuserIII_plain;</systemitem> 's password again."
msgstr ""

#. Tag: para
#: security_kerberos.xml:958
#, no-c-format
msgid "Next, create another principal named <literal>&exampleuserIII_plain;/admin</literal> by typing <command>ank</command> <option>&exampleuserIII_plain;/admin</option> at the <command>kadmin</command> prompt. The <literal>admin</literal> suffixed to your user name is a <emphasis>role</emphasis> . Later, use this role when administering the &krb; database. A user can have several roles for different purposes. Roles act like different accounts that have similar names."
msgstr ""

#. Tag: title
#: security_kerberos.xml:970
#, no-c-format
msgid "Starting the KDC"
msgstr ""

#. Tag: para
#: security_kerberos.xml:971
#, no-c-format
msgid "Start the KDC daemon and the kadmin daemon. To start the daemons manually, enter:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:975
#, no-c-format
msgid "&prompt.sudo;systemctl start krb5kdc\n"
      "sudo systemctl start kadmind"
msgstr ""

#. Tag: para
#: security_kerberos.xml:977
#, no-c-format
msgid "Also make sure that the services KDC ( <systemitem>krb5kdc</systemitem> ) and kadmind ( <systemitem>kadmind</systemitem> ) are started by default when the server machine is rebooted. Enable them by entering:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:982
#, no-c-format
msgid "&prompt.sudo;systemctl enable krb5kdc kadmind"
msgstr ""

#. Tag: para
#: security_kerberos.xml:983
#, no-c-format
msgid "or by using the &yast; <guimenu>&ycc_runlevel;</guimenu> ."
msgstr ""

#. Tag: title
#: security_kerberos.xml:990
#, no-c-format
msgid "Configuring &krb; clients"
msgstr ""

#. Tag: para
#: security_kerberos.xml:991
#, no-c-format
msgid "When the supporting infrastructure is in place (DNS, NTP) and the KDC has been properly configured and started, configure the client machines. To configure a &krb; client, use one of the two manual approaches described below."
msgstr ""

#. Tag: para
#: security_kerberos.xml:999
#, no-c-format
msgid "When configuring &krb;, there are two approaches you can take&mdash;static configuration in the <filename>/etc/krb5.conf</filename> file or dynamic configuration with DNS. With DNS configuration, &krb; applications try to locate the KDC services using DNS records. With static configuration, add the host names of your KDC server to <filename>krb5.conf</filename> (and update the file whenever you move the KDC or reconfigure your realm in other ways)."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1008
#, no-c-format
msgid "DNS-based configuration is generally a lot more flexible and the amount of configuration work per machine is a lot less. However, it requires that your realm name is either the same as your DNS domain or a subdomain of it. Configuring &krb; via DNS also creates a security issue: An attacker can seriously disrupt your infrastructure through your DNS (by shooting down the name server, spoofing DNS records, etc.). However, this amounts to a denial of service at worst. A similar scenario applies to the static configuration case unless you enter IP addresses in <filename>krb5.conf</filename> instead of host names."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1020
#, no-c-format
msgid "Static configuration"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1021
#, no-c-format
msgid "One way to configure &krb; is to edit <filename>/etc/krb5.conf</filename> . The file installed by default contains sample entries. Erase all of these entries before starting. <filename>krb5.conf</filename> is made up of several sections (stanzas), each introduced by the section name in brackets like <literal>[this]</literal> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1028
#, no-c-format
msgid "To configure your &krb; clients, add the following stanza to <filename>krb5.conf</filename> (where <systemitem class=\"fqdomainname\">kdc.example.com</systemitem> is the host name of the KDC):"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1034
#, no-c-format
msgid "[libdefaults]\n"
      "        default_realm = EXAMPLE.COM\n"
      "\n"
      "[realms]\n"
      "        EXAMPLE.COM = {\n"
      "                kdc = kdc.example.com\n"
      "                admin_server = kdc.example.com\n"
      "        }"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1042
#, no-c-format
msgid "The <literal>default_realm</literal> line sets the default realm for &krb; applications. If you have several realms, add additional statements to the <literal>[realms]</literal> section."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1047
#, no-c-format
msgid "Also add a statement to this file that tells applications how to map host names to a realm. For example, when connecting to a remote host, the &krb; library needs to know in which realm this host is located. This must be configured in the <literal>[domain_realms]</literal> section:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1053
#, no-c-format
msgid "[domain_realm]\n"
      ".example.com = EXAMPLE.COM\n"
      "www.example.org = EXAMPLE.COM"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1056
#, no-c-format
msgid "This tells the library that all hosts in the <filename>example.com</filename> DNS domains are in the <filename>EXAMPLE.COM</filename> &krb; realm. One external host named <filename>www.example.org</filename> should also be considered a member of the <filename>EXAMPLE.COM</filename> realm."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1065
#, no-c-format
msgid "DNS-based configuration"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1066
#, no-c-format
msgid "DNS-based &krb; configuration makes heavy use of SRV records. See <emphasis>(RFC2052) A DNS RR for specifying the location of services</emphasis> at <link xlink:href=\"https://datatracker.ietf.org/doc/html/rfc2052\"/> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1071
#, no-c-format
msgid "The name of an SRV record, as far as &krb; is concerned, is always in the format <literal>_service._proto.realm</literal> , where realm is the &krb; realm. Domain names in DNS are case-insensitive, so case-sensitive &krb; realms would break when using this configuration method. <literal>_service</literal> is a service name (different names are used when trying to contact the KDC or the password service, for example). <literal>_proto</literal> can be either <literal>_udp</literal> or <literal>_tcp</literal> , but not all services support both protocols."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1081
#, no-c-format
msgid "The data portion of SRV resource records consists of a priority value, a weight, a port number, and a host name. The priority defines the order in which hosts should be tried (lower values indicate a higher priority). The weight value is there to support load balancing among servers of equal priority. You probably do not need any of this, so it is okay to set these to zero."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1089
#, no-c-format
msgid "MIT &krb; currently looks up the following names when looking for services:"
msgstr ""

#. Tag: term
#: security_kerberos.xml:1095
#, no-c-format
msgid "_kerberos"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1097
#, no-c-format
msgid "This defines the location of the KDC daemon (the authentication and ticket granting server). Typical records look like this:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1101
#, no-c-format
msgid "_kerberos._udp.EXAMPLE.COM.  IN  SRV    0 0 88 kdc.example.com.\n"
      "_kerberos._tcp.EXAMPLE.COM.  IN  SRV    0 0 88 kdc.example.com."
msgstr ""

#. Tag: term
#: security_kerberos.xml:1106
#, no-c-format
msgid "_kerberos-adm"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1108
#, no-c-format
msgid "This describes the location of the remote administration service. Typical records look like this:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1112
#, no-c-format
msgid "\n"
      "_kerberos-adm._tcp.EXAMPLE.COM. IN  SRV    0 0 749 kdc.example.com."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1114
#, no-c-format
msgid "Because kadmind does not support UDP, there should be no <literal>_udp</literal> record."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1121
#, no-c-format
msgid "As with the static configuration file, there is a mechanism to inform clients that a specific host is in the <literal>EXAMPLE.COM</literal> realm, even if it is not part of the <literal>example.com</literal> DNS domain. This can be done by attaching a TXT record to <literal>_kerberos.host_name</literal> , as shown here:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1128
#, no-c-format
msgid "_kerberos.www.example.org.  IN TXT \"EXAMPLE.COM\""
msgstr ""

#. Tag: title
#: security_kerberos.xml:1131
#, no-c-format
msgid "Adjusting the clock skew"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1132
#, no-c-format
msgid "The <emphasis>clock skew</emphasis> is the tolerance for accepting tickets with time stamps that do not exactly match the host's system clock. Usually, the clock skew is set to 300 seconds (five minutes). This means a ticket can have a time stamp somewhere between five minutes behind and five minutes ahead of the server's clock."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1139
#, no-c-format
msgid "When using NTP to synchronize all hosts, you can reduce this value to about one minute. The clock skew value can be set in <filename>/etc/krb5.conf</filename> like this:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1144
#, no-c-format
msgid "[libdefaults]\n"
      "        clockskew = 60"
msgstr ""

#. Tag: title
#: security_kerberos.xml:1151
#, no-c-format
msgid "Configuring remote &krb; administration"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1152
#, no-c-format
msgid "To be able to add and remove principals from the &krb; database without accessing the KDC's console directly, tell the &krb; administration server which principals are allowed to do what by editing <filename>/var/lib/kerberos/krb5kdc/kadm5.acl</filename> . The ACL (access control list) file allows you to specify privileges with a precise degree of control. For details, refer to the manual page with <command>man</command> <option>8 kadmind</option> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1161
#, no-c-format
msgid "For now, grant yourself the privilege to administer the database by putting the following line into the file:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1165
#, no-c-format
msgid "&exampleuserIII_plain;/admin              *"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1166
#, no-c-format
msgid "Replace the user name <systemitem class=\"username\">&exampleuserIII_plain;</systemitem> with your own. Restart <systemitem>kadmind</systemitem> for the change to take effect."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1170
#, no-c-format
msgid "You should now be able to perform &krb; administration tasks remotely using the kadmin tool. First, obtain a ticket for your admin role and use that ticket when connecting to the kadmin server:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1175
#, no-c-format
msgid "&prompt.user;kadmin -p &exampleuserIII_plain;/admin\n"
      "Authenticating as principal &exampleuserIII_plain;/admin@EXAMPLE.COM with password.\n"
      "Password for &exampleuserIII_plain;/admin@EXAMPLE.COM:\n"
      "kadmin:  getprivs\n"
      "current privileges: GET ADD MODIFY DELETE\n"
      "kadmin:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1181
#, no-c-format
msgid "Using the <command>getprivs</command> command, verify which privileges you have. The list shown above is the full set of privileges."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1185
#, no-c-format
msgid "As an example, modify the principal <systemitem>&exampleuserIII_plain;</systemitem> :"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1188
#, no-c-format
msgid "&prompt.user;kadmin -p &exampleuserIII_plain;/admin\n"
      "Authenticating as principal &exampleuserIII_plain;/admin@EXAMPLE.COM with password.\n"
      "Password for &exampleuserIII_plain;/admin@EXAMPLE.COM:\n"
      "\n"
      "kadmin:  getprinc &exampleuserIII_plain;\n"
      "Principal: &exampleuserIII_plain;@EXAMPLE.COM\n"
      "Expiration date: [never]\n"
      "Last password change: Wed Jan 12 17:28:46 CET 2005\n"
      "Password expiration date: [none]\n"
      "Maximum ticket life: 0 days 10:00:00\n"
      "Maximum renewable life: 7 days 00:00:00\n"
      "Last modified: Wed Jan 12 17:47:17 CET 2005 (admin/admin@EXAMPLE.COM)\n"
      "Last successful authentication: [never]\n"
      "Last failed authentication: [never]\n"
      "Failed password attempts: 0\n"
      "Number of keys: 2\n"
      "Key: vno 1, Triple DES cbc mode with HMAC/sha1, no salt\n"
      "Key: vno 1, DES cbc mode with CRC-32, no salt\n"
      "Attributes:\n"
      "Policy: [none]\n"
      "\n"
      "kadmin:  modify_principal -maxlife \"8 hours\" &exampleuserIII_plain;\n"
      "Principal \"&exampleuserIII_plain;@EXAMPLE.COM\" modified.\n"
      "kadmin:  getprinc &exampleuserIII_plain;\n"
      "Principal: &exampleuserIII_plain;@EXAMPLE.COM\n"
      "Expiration date: [never]\n"
      "Last password change: Wed Jan 12 17:28:46 CET 2005\n"
      "Password expiration date: [none]\n"
      "Maximum ticket life: 0 days 08:00:00\n"
      "Maximum renewable life: 7 days 00:00:00\n"
      "Last modified: Wed Jan 12 17:59:49 CET 2005 (&exampleuserIII_plain;/admin@EXAMPLE.COM)\n"
      "Last successful authentication: [never]\n"
      "Last failed authentication: [never]\n"
      "Failed password attempts: 0\n"
      "Number of keys: 2\n"
      "Key: vno 1, Triple DES cbc mode with HMAC/sha1, no salt\n"
      "Key: vno 1, DES cbc mode with CRC-32, no salt\n"
      "Attributes:\n"
      "Policy: [none]\n"
      "kadmin:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1228
#, no-c-format
msgid "This changes the maximum ticket life time to eight hours. For more information about the <command>kadmin</command> command and the options available, see the <systemitem>krb5-doc</systemitem> package or refer to the <command>man</command> <option>8 kadmin</option> manual page."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1237
#, no-c-format
msgid "Creating &krb; service principals"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1238
#, no-c-format
msgid "So far, only user credentials have been discussed. However, &krb;-compatible services need to authenticate themselves to the client user, too. Therefore, special service principals must be in the &krb; database for each service offered in the realm. For example, if &ldapname; offers an LDAP service, you need a service principal, <literal>ldap/&ldapname;@EXAMPLE.COM</literal> , to authenticate this service to all clients."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1247
#, no-c-format
msgid "The naming convention for service principals is <literal><replaceable>SERVICE</replaceable>/<replaceable>HOSTNAME</replaceable>@<replaceable>REALM</replaceable></literal> , where <replaceable>HOSTNAME</replaceable> is the host's fully qualified host name."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1253
#, no-c-format
msgid "Valid service descriptors are:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1261
#, no-c-format
msgid "Service Descriptor"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1266
#, no-c-format
msgid "Service"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1275
#, no-c-format
msgid "<literal>host</literal>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1280
#, no-c-format
msgid "Telnet, RSH, SSH"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1287
#, no-c-format
msgid "<literal>nfs</literal>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1292
#, no-c-format
msgid "NFSv4 (with &krb; support)"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1299
#, no-c-format
msgid "<literal>HTTP</literal>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1304
#, no-c-format
msgid "HTTP (with &krb; authentication)"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1311
#, no-c-format
msgid "<literal>imap</literal>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1316
#, no-c-format
msgid "IMAP"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1323
#, no-c-format
msgid "<literal>pop</literal>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1328
#, no-c-format
msgid "POP3"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1335
#, no-c-format
msgid "<literal>ldap</literal>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1340
#, no-c-format
msgid "LDAP"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1348
#, no-c-format
msgid "Service principals are similar to user principals, but have significant differences. The main difference between a user principal and a service principal is that the key of the former is protected by a password. When a user obtains a ticket-granting ticket from the KDC, they needs to type their password, so &krb; can decrypt the ticket. It would be inconvenient for system administrators to obtain new tickets for the SSH daemon every eight hours or so."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1357
#, no-c-format
msgid "Instead, the key required to decrypt the initial ticket for the service principal is extracted by the administrator from the KDC only once and stored in a local file called the <emphasis>keytab</emphasis> . Services such as the SSH daemon read this key and use it to obtain new tickets automatically, when needed. The default keytab file resides in <filename>/etc/krb5.keytab</filename> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1365
#, no-c-format
msgid "To create a host service principal for <literal>&wsIname;</literal> enter the following commands during your kadmin session:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1369
#, no-c-format
msgid "&prompt.user;kadmin -p &exampleuserIII_plain;/admin\n"
      "Authenticating as principal &exampleuserIII_plain;/admin@EXAMPLE.COM with password.\n"
      "Password for &exampleuserIII_plain;/admin@EXAMPLE.COM:\n"
      "kadmin:  addprinc -randkey host/&wsIname;\n"
      "WARNING: no policy specified for host/&wsIname;@EXAMPLE.COM;\n"
      "defaulting to no policy\n"
      "Principal \"host/&wsIname;@EXAMPLE.COM\" created."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1376
#, no-c-format
msgid "Instead of setting a password for the new principal, the <option>-randkey</option> flag tells <command>kadmin</command> to generate a random key. This is used here because no user interaction is wanted for this principal. It is a server account for the machine."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1382
#, no-c-format
msgid "Finally, extract the key and store it in the local keytab file <filename>/etc/krb5.keytab</filename> . This file is owned by the superuser, so you must be <systemitem class=\"username\">root</systemitem> to execute the next command in the kadmin shell:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1388
#, no-c-format
msgid "kadmin:  ktadd host/&wsIname;\n"
      "Entry for principal host/&wsIname; with kvno 3, encryption type Triple\n"
      "DES cbc mode with HMAC/sha1 added to keytab WRFILE:/etc/krb5.keytab.\n"
      "Entry for principal host/&wsIname; with kvno 3, encryption type DES\n"
      "cbc mode with CRC-32 added to keytab WRFILE:/etc/krb5.keytab.\n"
      "kadmin:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1394
#, no-c-format
msgid "When completed, make sure that you destroy the admin ticket obtained with kinit above with <command>kdestroy</command> ."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1401
#, no-c-format
msgid "Enabling PAM support for &krb;"
msgstr ""

#. Tag: title
#: security_kerberos.xml:1403
#, no-c-format
msgid "Incomplete configuration locks users out"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1404
#, no-c-format
msgid "An incomplete &krb; configuration may lock you out of your system, including the root user. To prevent this, add the <option>ignore_unknown_principals</option> directive to the <option>pam_krb5</option> module <emphasis>after</emphasis> you have added the <option>pam_krb5</option> module to the existing PAM configuration files as described below."
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1412
#, no-c-format
msgid "&prompt.sudo;<command>pam-config --add --krb5-ignore_unknown_principals</command>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1413
#, no-c-format
msgid "This directs the <option>pam_krb5</option> module to ignore errors that would otherwise cause the account phase to fail."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1418
#, no-c-format
msgid "&productnamereg; comes with a PAM module named <option>pam_krb5</option> , which supports &krb; login and password update. This module can be used by applications such as console login, <command>su</command> , and graphical login applications like GDM. That is, it can be used in all cases where the user enters a password and expects the authenticating application to obtain an initial &krb; ticket on their behalf. To configure PAM support for &krb;, use the following command:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1427
#, no-c-format
msgid "&prompt.sudo;<command>pam-config --add --krb5</command>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1428
#, no-c-format
msgid "The above command adds the <option>pam_krb5</option> module to the existing PAM configuration files and makes sure it is called in the right order. To make precise adjustments to how <option>pam_krb5</option> is used, edit the file <filename>/etc/krb5.conf</filename> and add default applications to PAM. For details, refer to the manual page with <command>man 5 pam_krb5</command> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1436
#, no-c-format
msgid "The <option>pam_krb5</option> module was specifically not designed for network services that accept &krb; tickets as part of user authentication. This is an entirely different matter, and is discussed below."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1444
#, no-c-format
msgid "Configuring SSH for &krb; authentication"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1445
#, no-c-format
msgid "OpenSSH supports &krb; authentication in both protocol version&nbsp;1 and 2. In version&nbsp;1, there are special protocol messages to transmit &krb; tickets. Version&nbsp;2 does not use &krb; directly anymore, but relies on GSSAPI, the General Security Services API. This is a programming interface that is not specific to &krb;&mdash;it was designed to hide the peculiarities of the underlying authentication system, be it &krb;, a public-key authentication system like SPKM, or others. However, the included GSSAPI library only supports &krb;."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1455
#, no-c-format
msgid "To use sshd with &krb; authentication, edit <filename>/etc/ssh/sshd_config</filename> and set the following options:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1459
#, no-c-format
msgid "# These are for protocol version 1\n"
      "#\n"
      "# KerberosAuthentication yes\n"
      "# KerberosTicketCleanup yes\n"
      "\n"
      "# These are for version 2 - better to use this\n"
      "GSSAPIAuthentication yes\n"
      "GSSAPICleanupCredentials yes"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1467
#, no-c-format
msgid "Then restart your SSH daemon using <command>sudo systemctl restart sshd</command> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1471
#, no-c-format
msgid "To use &krb; authentication with protocol version 2, enable it on the client side as well. Do this either in the system-wide configuration file <filename>/etc/ssh/ssh_config</filename> or on a per-user level by editing <filename>~/.ssh/config</filename> . In both cases, add the option <literal>GSSAPIAuthentication yes</literal> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1478
#, no-c-format
msgid "You should now be able to connect using &krb; authentication. Use <command>klist</command> to verify that you have a valid ticket, then connect to the SSH server. To force SSH protocol version 1, specify the <literal>-1</literal> option on the command line."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1486
#, no-c-format
msgid "The file <filename>/usr/share/doc/packages/openssh/README.kerberos</filename> discusses the interaction of OpenSSH and &krb; in more detail."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1494
#, no-c-format
msgid "Additional directives for protocol version 2"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1495
#, no-c-format
msgid "The <literal>GSSAPIKeyExchange</literal> mechanism (RFC 4462) is supported. This directive specifies how host keys are exchanged. For more information, see the sshd_config manual page ( <command>man sshd_config</command> )."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1505
#, no-c-format
msgid "Using LDAP and &krb;"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1506
#, no-c-format
msgid "While &krb; provides authentication, LDAP is used for authorization and identification. Both services can work together."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1510
#, no-c-format
msgid "For secure connections,&ds389; supports different ways of encrypting data: SSL/TLS connections, Start TLS connections, and SASL authentication. Simple Authentication and Security Layer (SASL) is a network protocol designed for authentication. The SASL implementation used on &productname; is <literal>cyrus-sasl</literal> . &krb; authentication is performed through GSS-API (General Security Services API), provided by the <package>cyrus-sasl-gssapi</package> package. Using GSS-API, &ds389; uses &krb; tickets to authenticate sessions and encrypt data."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1520
#, no-c-format
msgid "With the SASL framework you can use different mechanisms to authenticate a user to the server. In &krb;, authentication is always mutual. This means that not only have you authenticated yourself to the &ds389;, but also the &ds389; has authenticated itself to you. In particular, this means communication is with the desired server, rather than with a random service set up by an attacker."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1528
#, no-c-format
msgid "To enable &krb; to bind to the &ds389;, create a principal <literal>ldap/&ldapname;</literal> and add that to the keytab. The credentials used by the &ds389; to authenticate are given to other servers by the keytab. &ds389; assigns a keytab through the <varname>KRB5_KTNAME</varname> environment variable."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1536
#, no-c-format
msgid "To set the variable, proceed as follows:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1540
#, no-c-format
msgid "&prompt.sudo;systemctl edit dirsrv@<replaceable>INSTANCE</replaceable>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1541
#, no-c-format
msgid "If you used the default name for the &ds389; instance, replace <replaceable>INSTANCE</replaceable> with <literal>localhost</literal> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1547
#, no-c-format
msgid "Add the following:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1550
#, no-c-format
msgid "<?dbfo keep-together=\"always\"?>[Service]\n"
      "  Environment=KRB5_KTNAME=/etc/dirsrv/slapd-<replaceable>INSTANCE</replaceable>/krb5.keytab"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1554
#, no-c-format
msgid "The keytab file needs to be readable by the account under which the &ds389; runs (for example, <literal>dirserv</literal> ):"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1558
#, no-c-format
msgid "&prompt.sudo;chown dirsrv:dirsrv /etc/dirsrv/slapd-<replaceable>INSTANCE</replaceable>/krb5.keytab\n"
      "&prompt.sudo;chmod 600 /etc/dirsrv/slapd-<replaceable>INSTANCE</replaceable>/krb5.keytab"
msgstr ""

#. Tag: title
#: security_kerberos.xml:1563
#, no-c-format
msgid "Using &krb; authentication with LDAP"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1564
#, no-c-format
msgid "To obtain and cache an initial ticket-granting ticket, use the principal that has been created in <xref linkend=\"sec-security-kerberos-admin-kdc-princ\"/> :"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1568
#, no-c-format
msgid "&prompt.user;kinit &exampleuserIII_plain;@EXAMPLE.COM"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1569
#, no-c-format
msgid "To check if GSSAPI authentication works, run:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1571
#, no-c-format
msgid "&prompt.user;ldapwhoami -Y GSSAPI -H ldap://ldapkdc.example.com\n"
      "dn: uid=testuser,ou=People,dc=example,dc=com\n"
      "    <remark>@firstyear: do you have an example output we could add here?</remark>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1574
#, no-c-format
msgid "GSSAPI uses the <literal>ccache</literal> to authenticate the user to the &ds389; without the user's password."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1578
#, no-c-format
msgid "Configuring SASL identity mapping"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1579
#, no-c-format
msgid "When processing a SASL bind request, the &ds389; maps the SASL authentication ID (used to authenticate to the Directory Server) with an LDAP entry stored within the server. When using Kerberos, the SASL user ID has the following format: <literal><replaceable>userid</replaceable>@<replaceable>REALM</replaceable></literal> , such as &exampleuser;@&exampledomain;. This ID must be converted into the DN of the user's Directory Server entry, such as <literal>uid=&exampleuser_plain;,ou=people,dc=example,dc=com</literal> . The &ds389; comes with default maps for most common configurations. However, you can create customized maps. <xref linkend=\"pro-krb-389-ds-mapping\"/> shows how to list and display a map, how to delete a map and how to create a custom map."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1594
#, no-c-format
msgid "Managing maps"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1596
#, no-c-format
msgid "To list the existing SASL maps:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1599
#, no-c-format
msgid "<?dbfo keep-together=\"always\"?>&prompt.user;dsconf <replaceable>INSTANCE</replaceable> sasl list\n"
      "Kerberos uid mapping\n"
      "rfc 2829 dn syntax\n"
      "rfc 2829u syntax\n"
      "uid mapping"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1606
#, no-c-format
msgid "To display a map:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1609
#, no-c-format
msgid "&prompt.sudo;dsconf <replaceable>INSTANCE</replaceable> sasl get \"Kerberos uid mapping\"\n"
      "dn: cn=Kerberos uid mapping,cn=mapping,cn=sasl,cn=config\n"
      "cn: Kerberos uid mapping\n"
      "nsSaslMapBaseDNTemplate: dc=\\2,dc=\\3\n"
      "nsSaslMapFilterTemplate: (uid=\\1)\n"
      "nsSaslMapRegexString: \\(.*\\)@\\(.*\\)\\.\\(.*\\)\n"
      "objectClass: top\n"
      "objectClass: nsSaslMapping\n"
      "      "
msgstr ""

#. Tag: para
#: security_kerberos.xml:1620
#, no-c-format
msgid "The default map only works if your dc has two components. To delete the map (if it does not work for you):"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1624
#, no-c-format
msgid "&prompt.sudo;dsconf <replaceable>INSTANCE</replaceable> sasl delete \"Kerberos uid mapping\"\n"
      "Deleting SaslMapping cn=Kerberos uid mapping,cn=mapping,cn=sasl,cn=config :\n"
      "Successfully deleted cn=Kerberos uid mapping,cn=mapping,cn=sasl,cn=config"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1629
#, no-c-format
msgid "To create a new map:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1632
#, no-c-format
msgid "&prompt.sudo;dsconf localhost sasl create --cn=bhgssapi --nsSaslMapRegexString \"\\\n"
      "(.*\\)@EXAMPLE.NET.DE\" --nsSaslMapBaseDNTemplate=\"dc=example,dc=net,dc=de\" --nsSaslMapFilterTemplate=\"(uid=\\1)\"\n"
      "&prompt.sudo;Enter value for nsSaslMapPriority :\n"
      "Successfully created bhgssapi"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1638
#, no-c-format
msgid "Display the newly created map with:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1641
#, no-c-format
msgid "&prompt.sudo;dsconf localhost sasl get \"bhgssapi\"\n"
      "dn: cn=bhgssapi,cn=mapping,cn=sasl,cn=config\n"
      "cn: bhgssapi\n"
      "nsSaslMapBaseDNTemplate: dc=example,dc=net,dc=de\n"
      "nsSaslMapFilterTemplate: (uid=\\1)\n"
      "nsSaslMapPriority: 100\n"
      "nsSaslMapRegexString: \\(.*\\)@EXAMPLE.NET.DE\n"
      "objectClass: top\n"
      "objectClass: nsSaslMapping"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1650
#, no-c-format
msgid "With this, you can check only the users of a specific realm and remap them to a different dc base. As you can see, the new map has 3 <literal>dc</literal> components, so the default maps would not have worked for this realm ( <literal>EXAMPLE.NET.DE</literal> ), only for a realm like <literal>EXAMPLE.NET</literal> ."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1919
#, no-c-format
msgid "&krb; and NFS"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1921
#, no-c-format
msgid "Most NFS servers can export file systems using any combination of the default <quote>trust the network</quote> form of security, known as <option>sec=sys</option> , and three different levels of &krb;-based security, <option>sec=krb5</option> , <option>sec=krb5i</option> , and <option>sec=krb5p</option> . The <option>sec</option> option is set as a mount option on the client. It is often the case that the NFS service is configured first and used with <option>sec=sys</option> , and then &krb; can be imposed afterwards. In this case it is likely that the server is configured to support both <option>sec=sys</option> and one of the &krb; levels, and then after all clients have transitioned, the <option>sec=sys</option> support is removed, thus achieving true security. The transition to &krb; should be transparent if done in an orderly manner. However there is one subtle detail of NFS behavior that works differently when &krb; is used, and the implications of this need to be understood and addressed. See <xref linkend=\"sec-security-kerberos-overview-group\"/> ."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1941
#, no-c-format
msgid "The three &krb; levels indicate different levels of security. With more security comes a need for more processor power to encrypt and decrypt messages. Choosing the right balance is an important consideration when planning a roll-out of &krb; for NFS."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1948
#, no-c-format
msgid "<literal>krb5</literal> provides only authentication. The server can know who sent a request, and the client can know that the server sent a reply. No security is provided for the content of the request or reply, so an attacker with physical network access could transform the request or reply, or both, in various ways to deceive either server or client. They cannot directly read or change any file that the authenticated user could not read or change, but almost anything is theoretically possible."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1958
#, no-c-format
msgid "<literal>krb5i</literal> adds integrity checks to all messages. With <literal>krb5i</literal> , an attacker cannot modify any request or reply, but they can view all the data exchanged, and so could discover the content of any file that is read."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1965
#, no-c-format
msgid "<literal>krb5p</literal> adds privacy to the protocol. As well as reliable authentication and integrity checking, messages are fully encrypted so an attacker can only know that messages were exchanged between client and server, and cannot extract other information directly from the message. Whether information can be extracted from message timing is a separate question that &krb; does not address."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1975
#, no-c-format
msgid "Group membership"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1976
#, no-c-format
msgid "The one behavioral difference between <option>sec=sys</option> and the &krb; security levels that might be visible is related to group membership. In Unix and Linux, each file system access comes from a process that is owned by a particular user and has a particular group owner and several supplemental groups. Access rights to files can vary based on the owner and the groups."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1984
#, no-c-format
msgid "With <option>sec=sys</option> , the user-id, group-id, and a list of up to 16 supplementary groups are sent to the server in each request."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1988
#, no-c-format
msgid "If a user is a member of more than 16 supplementary groups, the extra groups are lost and files may not be accessible over NFS that the user would normally expect to have access to. For this reason, most sites that use NFS find a way to limit all users to at most 16 supplementary groups."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1994
#, no-c-format
msgid "If the user runs the <command>newgrp</command> command or runs a set-group-id program, either of which can change the list of groups they are a member of, these changes take effect immediately and provide different accesses over NFS."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2000
#, no-c-format
msgid "With &krb;, group information is not sent in requests. Only the user is identified (using a &krb; <quote>principal</quote> ), and the server performs a lookup to determine the user ID and group list for that principal. This means that if the user is a member of more than 16 groups, these group memberships are used in determining file access permissions. However it also means that if the user changes a group-id on the client, the server does not notice the change and does not take it into account in determining access rights."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2010
#, no-c-format
msgid "Usually the improvement of having access to more groups brings a real benefit, and the loss of not being able to change groups is not noticed as it is not widely used. A site administrator considering the use of &krb; should be aware of the difference though and ensure that it does not cause problems."
msgstr ""

#. Tag: title
#: security_kerberos.xml:2020
#, no-c-format
msgid "Performance and scalability"
msgstr ""

#. Tag: para
#: security_kerberos.xml:2021
#, no-c-format
msgid "Using &krb; for security requires extra CPU power for encrypting and decrypting messages. How much extra CPU power is required and whether the difference is noticeable varies with different hardware and different applications. If the server or client are already saturating the available CPU power, it is likely that a performance drop is measurable when switching from <literal>sec=sys</literal> to &krb;. If there is spare CPU capacity available, it is possible that the transition does not result in any throughput change. The only way to be sure how much impact the use of &krb; has is to test your load on your hardware."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2032
#, no-c-format
msgid "The only configuration options that might reduce the load also reduce the quality of the protection offered. <option>sec=krb5</option> should produce noticeably less load than <option>sec=krb5p</option> but, as discussed above, it does not produce strong security. Similarly it is possible to adjust the list of ciphers that &krb; can choose from, and this might change the CPU requirement. However the defaults are carefully chosen and should not be changed without similar careful consideration."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2041
#, no-c-format
msgid "The other possible performance issue when configuring NFS to use &krb; involves availability of the &krb; authentication servers, known as the KDC or Key Distribution Center."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2046
#, no-c-format
msgid "The use of NFS adds load to such servers to the same degree that adding the use of &krb; for any other services adds some load. Every time a given user (&krb; principal) establishes a session with a service, for example by accessing files exported by a particular NFS server, the client needs to negotiate with the KDC. Once a session key has been negotiated, the client server can communicate without further help for many hours, depending on details of the &krb; configuration, particularly the <option>ticket_lifetime</option> setting."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2056
#, no-c-format
msgid "The concerns most likely to affect the provisioning of &krb; KDC servers are availability and peak usage."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2060
#, no-c-format
msgid "As with other core services such as DNS, LDAP or similar name-lookup services, having two servers that are reasonably <quote>close</quote> to every client provides good availability for modest resources. &krb; allows for multiple KDC servers with flexible models for database propagation, so distributing servers as needed around campuses, buildings and even cabinets is straightforward. The best mechanism to ensure each client finds a nearby &krb; server is to use split-horizon DNS with each building (or similar) getting different details from the DNS server. If this is not possible, then managing the <filename>/etc/krb5.conf</filename> file to be different at different locations is a suitable alternative."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2072
#, no-c-format
msgid "As access to the &krb; KDC is infrequent, load is only likely to be a problem at peak times. If thousands of people all log in between 9:00 and 9:05, then the servers will receive many more requests-per-minute than they might in the middle of the night. The load on the &krb; server is likely to be more than that on an LDAP server, but not orders of magnitude more. A sensible guideline is to provision &krb; replicas in the same manner that you provision LDAP replicas, and then monitor performance to determine if demand ever exceeds capacity."
msgstr ""

#. Tag: title
#: security_kerberos.xml:2085
#, no-c-format
msgid "Master KDC, multiple domains, and trust relationships"
msgstr ""

#. Tag: para
#: security_kerberos.xml:2086
#, no-c-format
msgid "One service of the &krb; KDC that is not easily distributed is the handling of updates, such as password changes and new user creation. These must happen at a single master KDC."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2091
#, no-c-format
msgid "These updates are not likely to happen with such frequency that any significant load is generated, but availability could be an issue. It can be annoying to create a new user or change a password, and the master KDC on the other side of the world is temporarily unavailable."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2097
#, no-c-format
msgid "When an organization is geographically distributed and has a policy of handling administration tasks locally at each site, it can be beneficial to create multiple &krb; domains, one for each administrative center. Each domain would then have its own master KDC which would be geographically local. Users in one domain can still get access to resources in another domain by setting up trust relationships between domains."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2105
#, no-c-format
msgid "The easiest arrangement for multiple domains is to have a global domain (for example, EXAMPLE.COM) and local domains (for example, ASIA.EXAMPLE.COM, EUROPE.EXAMPLE.COM). If the global domain is configured to trust each local domain, and each local domain is configured to trust the global domain, then fully transitive trust is available between any pair of domains, and any principal can establish a secure connection with any service. Ensuring appropriate access rights to resources, for example files provided by that service, depends on the user name lookup service used, and the functionality of the NFS file server, and is beyond the scope of this document."
msgstr ""

#. Tag: title
#: security_kerberos.xml:2121
#, no-c-format
msgid "More information"
msgstr ""

#. Tag: para
#: security_kerberos.xml:2123
#, no-c-format
msgid "The official site of MIT &krb; is <link xlink:href=\"https://web.mit.edu/kerberos\"/> . There, find links to any other relevant resource concerning &krb;, including &krb; installation, user, and administration guides."
msgstr ""

#. Tag: para
#: security_kerberos.xml:2142
#, no-c-format
msgid "The book <emphasis>Kerberos&mdash;A Network Authentication System</emphasis> by Brian Tung (ISBN 0-201-37924-4) offers extensive information."
msgstr ""

