# translation of security_ssh.xml.po to Japanese
# Japanese translations for PACKAGE package
# PACKAGE パッケージに対する英訳.
#
# Automatically generated, 2018.
# Yasuhiko Kamata <belphegor@belbel.or.jp>, 2019, 2021, 2022, 2023, 2024.
msgid ""
msgstr ""
"Project-Id-Version: security_ssh.xml\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2026-01-16 22:16+0000\n"
"PO-Revision-Date: 2024-06-27 07:30+0900\n"
"Last-Translator: Yasuhiko Kamata <belphegor@belbel.or.jp>\n"
"Language-Team: Japanese <opensuse-ja@opensuse.org>\n"
"Language: ja\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: KBabel 1.11.4\n"

#. Tag: title
#: security_ssh.xml:9
#, no-c-format
msgid "Securing network operations with OpenSSH"
msgstr "OpenSSH によるネットワーク操作の機密保持"

#. Tag: meta
#: security_ssh.xml:11
#, no-c-format
msgid ""
"Secure network operations using OpenSSH features for remote administration, "
"file transfers and secure tunneling of insecure protocols"
msgstr ""

#. Tag: para
#: security_ssh.xml:13
#, no-c-format
msgid ""
"OpenSSH is the SSH (secure shell) implementation that ships with "
"&productname;, for securing network operations such as remote "
"administration, file transfers, and tunneling insecure protocols. SSH "
"encrypts all traffic between two hosts, including authentication, to protect "
"against eavesdropping and connection hijacking. This chapter covers basic "
"operations, plus host key rotation and certificate authentication, which are "
"useful for managing larger SSH deployments."
msgstr ""
"OpenSSH は &productname; に同梱される SSH (secure shell) 実装で、遠隔からの管"
"理やファイル転送、機密を保持できないプロトコルへの機密トンネル設定など、さま"
"ざまな機能を提供するソフトウエアです。 SSH は 2 つのホスト間での認証を含む全"
"通信を暗号化しますので、盗聴や接続の乗っ取りなどの被害から通信を保護すること"
"ができます。本章では基本的な操作のほか、ホスト鍵の切り替えや証明書認証など、"
"大規模展開向けに便利な機能を説明しています。"

#. Tag: date
#: security_ssh.xml:30
#, no-c-format
msgid "2024-06-26"
msgstr "2024-06-26"

#. Tag: title
#: security_ssh.xml:39
#, no-c-format
msgid "OpenSSH overview"
msgstr "OpenSSH の概要"

#. Tag: para
#: security_ssh.xml:40
#, no-c-format
msgid ""
"SSH is a network protocol that provides end-to-end protection for "
"communications between the computers on your network, or between computers "
"on your network and systems outside your network. You may open an SSH "
"session to any other computer, if you have a login and the correct "
"authentication methods for the remote computer."
msgstr ""
"SSH はエンドツーエンドで通信を保護するためのネットワークプロトコルで、お使い"
"のネットワーク内同士だけでなく、外部のネットワークとの通信も保護することがで"
"きます。 SSH で他のコンピュータに接続するには、接続先でのユーザ名と適切な認証"
"手段を設定する必要があります。"

#. Tag: para
#: security_ssh.xml:47
#, no-c-format
msgid ""
"SSH is a client-server protocol. Any host running the <systemitem "
"class=\"daemon\">sshd</systemitem> daemon can accept SSH connections from "
"any other host. Every host running <systemitem class=\"daemon\">sshd</"
"systemitem> can have their own custom configurations, such as limiting who "
"can have access, and which authentication methods are allowed."
msgstr ""
"SSH はクライアント／サーバ型のプロトコルです。他のホストからの接続を受け付け"
"るには <systemitem class=\"daemon\">sshd</systemitem> デーモンを動作させてお"
"く必要があります。また、各ホストで動作する <systemitem "
"class=\"daemon\">sshd</systemitem> にはそれぞれ独自の設定を行うことができます"
"ので、アクセス可能なユーザを制限したり、許可する認証方式を制限したりすること"
"もできるようになっています。"

#. Tag: para
#: security_ssh.xml:55
#, no-c-format
msgid ""
"Authentication and encryption are provided by encryption key pairs. Each key "
"pair has a public key and a private key. Public keys encrypt, and private "
"keys decrypt. Public keys are meant to be freely shared, while private keys "
"must be protected and not shared. When a private key is compromised, anyone "
"who has possession of it can masquerade as the original key owner."
msgstr ""
"認証と暗号化の機能は暗号鍵対によって行われます。それぞれの鍵対には公開鍵と機"
"密鍵という 2 つの鍵が存在し、公開鍵は暗号化を、機密鍵は暗号の復号化を行うため"
"に使用します。また、機密鍵がきちんと保護されている限り、公開鍵は誰にでも配布"
"してかまいません。機密鍵が漏洩してしまうと、機密鍵の元の所有者になりすまして"
"暗号化した通信を行うことができるようになってしまいます。"

#. Tag: para
#: security_ssh.xml:63
#, no-c-format
msgid ""
"SSH provides strong protection, because the server and client must both "
"authenticate to each other. When a client first attempts to open an SSH "
"session, the server presents its public host key. If the client already "
"possesses a copy of this key (stored in <filename>~/.ssh/known_hosts</"
"filename> on the client machine), the client knows to trust the server. If "
"the client does not have the appropriate host key, it is asked whether it "
"should trust the server:"
msgstr ""
"SSH ではサーバとクライアントの双方が互いに認証しなければならない仕組みによ"
"り、強力な保護を提供しています。クライアントが SSH での接続を開始すると、サー"
"バは自身の持つ公開鍵を提示します。示された公開鍵が既知のものであった場合 (ク"
"ライアント側の <filename>~/.ssh/known_hosts</filename> 内に保存されます) 、ク"
"ライアントはサーバを信頼してそのまま処理を続行します。既知のものでなかった場"
"合は、サーバを信頼して良いかどうか、下記のようにしてユーザに尋ねます:"

#. Tag: screen
#: security_ssh.xml:72
#, no-c-format
msgid ""
"The authenticity of host '192.168.22.219 (192.168.22.219)'\n"
"   can't be established. ECDSA key fingerprint is\n"
"   SHA256:yXf6pjV26N0fegvEYIt3HgG95s3Q1X6WYRhtHLF99pUo.\n"
"   Are you sure you want to continue connecting (yes/no/[fingerprint])?\n"
"  "
msgstr ""
"The authenticity of host '192.168.22.219 (192.168.22.219)'\n"
"   can't be established. ECDSA key fingerprint is\n"
"   SHA256:yXf6pjV26N0fegvEYIt3HgG95s3Q1X6WYRhtHLF99pUo.\n"
"   Are you sure you want to continue connecting (yes/no/[fingerprint])?\n"
"  "

#. Tag: para
#: security_ssh.xml:77
#, no-c-format
msgid ""
"The user can type <literal>yes</literal> or <literal>no</literal> , or paste "
"their copy of the host key fingerprint for comparison."
msgstr ""
"ユーザは <literal>yes</literal> (このまま接続を続ける) または <literal>no</"
"literal> (接続を中止する) のいずれかを入力できるほか、比較のために鍵の指紋 "
"(fingerprint) そのものを入力することもできます。"

#. Tag: title
#: security_ssh.xml:82
#, no-c-format
msgid "Matching host key fingerprints"
msgstr "ホスト鍵の指紋 (fingerprint) について"

#. Tag: para
#: security_ssh.xml:83
#, no-c-format
msgid ""
"Distributing copies of your host key fingerprints to your users enables them "
"to verify that they are receiving the correct host keys. When they paste "
"their copy of a host key fingerprint, <command>ssh</command> compares the "
"fingerprints, and accepts the offered host key when the fingerprints match. "
"This ensures a more accurate match than a visual comparison."
msgstr ""
"ホスト鍵の指紋 (fingerprint) を接続するユーザに配布することで、接続時にホスト"
"鍵が正しいかどうかを確認できるようになります。上記の表示で指紋そのものを入力"
"すると、 <command>ssh</command> 側で指紋が一致しているかどうかを確認し、一致"
"した場合にのみ接続を続けることができるようになります。これにより、目視で比較"
"するよりずっと信頼性の高い確認を行うことができます。"

#. Tag: para
#: security_ssh.xml:91
#, no-c-format
msgid ""
"You cannot rely on users to use correct verification methods. If the "
"fingerprints do not match, the user can still type <literal>yes</literal> , "
"or copy the fingerprint in the message, and complete the connection. A "
"stronger alternative is to use certificate authentication, which provides a "
"global authentication mechanism, and does not require perfect behavior from "
"users (see <xref linkend=\"sec-ssh-certificate-auth\"/> )."
msgstr ""
"これは、ユーザに検証を委ねても、セキュリティという観点では信頼性が低いためで"
"す。なお、指紋が一致していなかった場合でも、再度 <literal>yes</literal> を入"
"力するか、表示された指紋をそのまま貼り付けることで、接続を続行することができ"
"ます。また、より強力な保護として、証明書認証を使用する方法もあります。これは"
"大規模向けの認証機構となるほか、上記のようなユーザへの手間を減らすことにもつ"
"ながります (詳しくは <xref linkend=\"sec-ssh-certificate-auth\"/> をお読みく"
"ださい) 。"

#. Tag: para
#: security_ssh.xml:101
#, no-c-format
msgid ""
"If the public keys of a host have changed, the connection is denied with an "
"alarming warning:"
msgstr ""
"接続先ホストの公開鍵が変更された場合、下記のようにセキュリティ警告を表示して"
"接続が拒否されます:"

#. Tag: screen
#: security_ssh.xml:105
#, no-c-format
msgid ""
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
"@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\n"
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
"IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\n"
"Someone could be eavesdropping on you right now (man-in-the-middle attack)!\n"
"It is also possible that a host key has just been changed.\n"
"The fingerprint for the ECDSA key sent by the remote host is\n"
"SHA256:keNu/rJFWmpQu9B0SjIuo8NLjbeDY/x3Tktpl7oDJqo.\n"
"Please contact your system administrator.\n"
"Add correct host key in /home/geeko/.ssh/known_hosts to get rid of this "
"message.\n"
"Offending ECDSA key in /home/geeko/.ssh/known_hosts:210\n"
"You can use following command to remove the offending key:\n"
"ssh-keygen -R 192.168.121.219 -f /home/geeko/.ssh/known_hosts\n"
"ECDSA host key for 192.168.121.219 has changed and you have requested "
"strict\n"
"checking.\n"
"Host key verification failed."
msgstr ""
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
"@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\n"
"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
"IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\n"
"Someone could be eavesdropping on you right now (man-in-the-middle attack)!\n"
"It is also possible that a host key has just been changed.\n"
"The fingerprint for the ECDSA key sent by the remote host is\n"
"SHA256:keNu/rJFWmpQu9B0SjIuo8NLjbeDY/x3Tktpl7oDJqo.\n"
"Please contact your system administrator.\n"
"Add correct host key in /home/geeko/.ssh/known_hosts to get rid of this "
"message.\n"
"Offending ECDSA key in /home/geeko/.ssh/known_hosts:210\n"
"You can use following command to remove the offending key:\n"
"ssh-keygen -R 192.168.121.219 -f /home/geeko/.ssh/known_hosts\n"
"ECDSA host key for 192.168.121.219 has changed and you have requested "
"strict\n"
"checking.\n"
"Host key verification failed."

#. Tag: para
#: security_ssh.xml:121
#, no-c-format
msgid ""
"The remedy is to delete the offending key from <filename>~/.ssh/known_hosts</"
"filename> with the command given in the warning, then reconnect and accept "
"the new host key. <!-- see TODO and TODO for key management methods that do "
"not require users to verify or accept new host keys -->"
msgstr ""
"このような場合、警告メッセージを表示せずに接続を行わせたい場合は、 "
"<filename>~/.ssh/known_hosts</filename> 内にある古い公開鍵を削除してから再度"
"接続を行ってください。これにより、新しい鍵を受け付けるかどうかの確認が表示さ"
"れるようになります。 <!-- see TODO and TODO for key management methods that "
"do not require users to verify or accept new host keys -->"

#. Tag: para
#: security_ssh.xml:128
#, no-c-format
msgid ""
"The <package>openssh</package> package installs the server, client, file "
"transfer commands, and certain utilities."
msgstr ""
"<package>openssh</package> パッケージにはサーバとクライアントのほか、ファイル"
"転送コマンドといくつかのユーティリティが含まれています。"

#. Tag: para
#: security_ssh.xml:132
#, no-c-format
msgid "OpenSSH supports several different types of authentication:"
msgstr "OpenSSH では下記のような認証方式に対応しています:"

#. Tag: para
#: security_ssh.xml:139
#, no-c-format
msgid ""
"Uses any system login and password on the remote machine. This is the "
"simplest and most flexible authentication because you can open an SSH "
"session from anywhere, on any machine. It is also the least secure, because "
"it is vulnerable to password-cracking and keystroke logging."
msgstr ""
"ユーザ名とパスワードで認証する方式です。この方式は、 SSH のセッションをどのマ"
"シンからでも受け付けることができますので、最も単純で柔軟な認証方式です。ただ"
"し、パスワードクラッキングには弱く、キーロガーなどによる窃取にも弱いため、機"
"密性は低くなります。"

#. Tag: para
#: security_ssh.xml:150
#, no-c-format
msgid ""
"Authenticates with your personal SSH keys, rather than a login and password. "
"This is less flexible than password authentication, because you can open SSH "
"sessions only from a machine that holds your private identity key. It is "
"much stronger because it is not vulnerable to password cracking or keystroke "
"logging; an attacker must possess your private key and know its passphrase."
msgstr ""
"ユーザ名とパスワードではなく、個人単位で鍵を設定して認証を行う方式です。公開"
"鍵に対応する機密鍵を持つホストからしかログインできない仕組みであるため、パス"
"ワード認証に比べると柔軟性が落ちますが、パスワードクラッキングに強く、キーロ"
"ガーなどによる窃取も回避できますので、パスワード認証よりはずっと強力です。"

#. Tag: para
#: security_ssh.xml:158
#, no-c-format
msgid ""
"See <xref linkend=\"sec-ssh-gnome-keyring\"/> to learn how to use "
"<command>gnome-keyring</command> for automated public key authentication in "
"GNOME sessions."
msgstr ""
"GNOME セッション内で公開鍵認証を自動化したい場合は、 <command>gnome-keyring</"
"command> を使用することができます。詳しくは <xref linkend=\"sec-ssh-gnome-"
"keyring\"/> をお読みください。"

#. Tag: para
#: security_ssh.xml:163
#, no-c-format
msgid ""
"See <xref linkend=\"sec-ssh-authentic-agent\"/> to learn how to use "
"<literal>ssh-agent</literal> for automated public key authentication in "
"console sessions."
msgstr ""
"また、コンソールセッション内で公開鍵認証を自動化したい場合は、 <literal>ssh-"
"agent</literal> を使用することができます。詳しくは <xref linkend=\"sec-ssh-"
"authentic-agent\"/> をお読みください。"

#. Tag: para
#: security_ssh.xml:173
#, no-c-format
msgid ""
"Public key authentication, paired with private identity keys that do not "
"have passphrases. This is useful for automated services, like scripts and "
"cron jobs. You must protect private keys, because anyone who gains access to "
"them can easily masquerade as the key owner."
msgstr ""
"機密鍵に対してパスフレーズを設定せずに公開鍵認証を使用する方式です。スクリプ"
"トや cron ジョブなどの自動化されたサービスで便利な方式です。ただし、機密鍵は"
"きちんと保護しておかないと、容易にそのユーザになりすましてログインできてしま"
"うので、注意が必要です。"

#. Tag: term
#: security_ssh.xml:182
#, no-c-format
msgid "Certificate authentication"
msgstr "証明書認証"

#. Tag: para
#: security_ssh.xml:184
#, no-c-format
msgid ""
"OpenSSH supports certification authentication, for easier key management, "
"stronger authentication, and large-scale SSH deployments."
msgstr ""
"OpenSSH では証明書認証にも対応しています。これにより、鍵の管理の手間を省くこ"
"とができるほか、より強力な認証手段となり、かつ大規模な SSH 展開にも対応できる"
"ようになります。"

#. Tag: para
#: security_ssh.xml:192
#, no-c-format
msgid ""
"&productname; installs the OpenSSH package by default, providing the "
"following commands:"
msgstr ""
"&productname; では既定で OpenSSH パッケージをインストールします。パッケージ内"
"には、下記のようなファイルが含まれています:"

#. Tag: term
#: security_ssh.xml:199
#, no-c-format
msgid "<command>ssh</command>"
msgstr "<command>ssh</command>"

#. Tag: para
#: security_ssh.xml:201
#, no-c-format
msgid "The client command for initiating an SSH connection to a remote host."
msgstr ""
"遠隔のホストに対して SSH 接続を開始するためのクライアント側コマンドです。"

#. Tag: term
#: security_ssh.xml:207
#, no-c-format
msgid "<command>scp</command>"
msgstr "<command>scp</command>"

#. Tag: para
#: security_ssh.xml:209
#, no-c-format
msgid "Secure file copy from or to a remote host."
msgstr "遠隔のホストとの間でファイルをやり取りするためのコマンドです。"

#. Tag: term
#: security_ssh.xml:215
#, no-c-format
msgid "<command>sftp</command>"
msgstr "<command>sftp</command>"

#. Tag: para
#: security_ssh.xml:217
#, no-c-format
msgid ""
"Secure file transfer between a client and an SFTP server. (The SFTP protocol "
"(SSH FTP) is not related to FTPS or FTPES (FTP over SSL/TLS), but was "
"written independently.)"
msgstr ""
"クライアントと SFTP サーバとの間でファイルを送受信するためのコマンドです (な"
"お、 SFTP (SSH FTP) プロトコルは FTPS や FTPES (FTP over SSL/TLS) と呼ばれる"
"プロトコルとは異なり、独自に作成されているものです) 。"

#. Tag: term
#: security_ssh.xml:225
#, no-c-format
msgid "<command>ssh-add</command>"
msgstr "<command>ssh-add</command>"

#. Tag: para
#: security_ssh.xml:227
#, no-c-format
msgid ""
"Add private key identities to the authentication agent, <literal>ssh-agent</"
"literal> ."
msgstr ""
"<literal>ssh-agent</literal> コマンドで動作する認証エージェントに対して、機密"
"鍵の情報を追加するためのコマンドです。"

#. Tag: term
#: security_ssh.xml:234
#, no-c-format
msgid "<command>ssh-agent</command>"
msgstr "<command>ssh-agent</command>"

#. Tag: para
#: security_ssh.xml:236
#, no-c-format
msgid ""
"Manages a user's private identity keys and their passphrases, for public key "
"authentication. <literal>ssh-agent</literal> holds the passphrases in memory "
"and applies them as needed, so that users do not have to re-type their "
"passphrases to authenticate."
msgstr ""
"公開鍵認証で使用する、ユーザの機密鍵とパスフレーズを管理するためのエージェン"
"トです。 <literal>ssh-agent</literal> はパスフレーズをメモリ内に保持し、必要"
"に応じてパスフレーズを提供しますので、パスフレーズの再入力を省略することがで"
"きるようになります。"

#. Tag: term
#: security_ssh.xml:245
#, no-c-format
msgid "<command>ssh-copy-id</command>"
msgstr "<command>ssh-copy-id</command>"

#. Tag: para
#: security_ssh.xml:247
#, no-c-format
msgid ""
"Securely transfer a public key to a remote host, to set up public key "
"authentication."
msgstr "公開鍵認証を設定して、公開鍵を遠隔のホストにコピーするコマンドです。"

#. Tag: title
#: security_ssh.xml:257
#, no-c-format
msgid "Server hardening"
msgstr "サーバのセキュリティ強化"

#. Tag: para
#: security_ssh.xml:258
#, no-c-format
msgid ""
"OpenSSH ships with a usable default server configuration, but there are "
"additional steps you can take to secure your server."
msgstr ""
"OpenSSH はインストール当初の状態でそれなりに強固な設定になっていますが、サー"
"バのセキュリティを強化するための追加設定も用意されています。"

#. Tag: title
#: security_ssh.xml:263
#, no-c-format
msgid "Maintaining access to a remote SSH server"
msgstr "リモートの SSH サーバに対するアクセスの管理について"

#. Tag: para
#: security_ssh.xml:264
#, no-c-format
msgid ""
"When you make changes to any SSH server, either have physical access to the "
"machine, or keep an active root SSH session open until you have tested your "
"changes, and everything works correctly. Then you can revert or correct your "
"changes if something goes wrong."
msgstr ""
"SSH サーバに対して何らかの設定変更を行う場合は、その変更が期待通りのものであ"
"ることを確認できるまで、そのマシンに対して物理的なアクセス手段を残しておく"
"か、もしくは root の SSH セッションを開いたままにしておく必要があります。これ"
"により、期待通りの動作で無かった場合、設定をすぐに戻すことができるためです。"

#. Tag: para
#: security_ssh.xml:270
#, no-c-format
msgid ""
"The default server configuration file, <filename>/etc/ssh/sshd_config</"
"filename> , contains the default configuration, and all the defaults are "
"commented out. Override any default item by entering your own configuration "
"item, uncommented, like the following example that sets a different "
"listening port, and specifies the listening IPv4 address on a multi-homed "
"host:"
msgstr ""
"既定のサーバ設定は <filename>/etc/ssh/sshd_config</filename> で、ここには既定"
"で使用される設定が書かれています。また、コメント内には全ての既定値が示されて"
"います。既定値を変更したい場合は、これらのコメント文字を外してから、必要な設"
"定を記述してください。たとえば下記の例では、複数のネットワークインターフェイ"
"スを持つマシンで待ち受けるポートと IPv4 アドレスを指定しています:"

#. Tag: screen
#: security_ssh.xml:277
#, no-c-format
msgid ""
"\n"
"#Port 22\n"
"Port <replaceable>2022</replaceable>\n"
"\n"
"#ListenAddress 0.0.0.0\n"
"ListenAddress <replaceable>192.168.10.100</replaceable>"
msgstr ""
"\n"
"#Port 22\n"
"Port <replaceable>2022</replaceable>\n"
"\n"
"#ListenAddress 0.0.0.0\n"
"ListenAddress <replaceable>192.168.10.100</replaceable>"

#. Tag: title
#: security_ssh.xml:285
#, no-c-format
msgid "Update /etc/services"
msgstr "/etc/services の更新について"

#. Tag: para
#: security_ssh.xml:286
#, no-c-format
msgid ""
"When you use non-standard listening ports, first check the <filename>/etc/"
"services</filename> file for unused ports. Select any unused port above "
"1024. Then document the ports you are using in <filename>/etc/services</"
"filename> ."
msgstr ""
"非標準の待ち受けポートを使用する場合は、 <filename>/etc/services</filename> "
"ファイルを参照して、使用していないポートの中から選択してください。通常は "
"1024 以上の未使用ポートを使用します。設定後は、 <filename>/etc/services</"
"filename> ファイル内にポートが使用中である旨を記録しておくことをお勧めしま"
"す。"

#. Tag: para
#: security_ssh.xml:294
#, no-c-format
msgid ""
"It is a best practice to disallow root logins. Instead, log into the remote "
"machine as an unprivileged user, then use <command>sudo</command> to run "
"commands as root. If you really want to allow root logins, the following "
"server configuration example shows how to configure the server to accept "
"only public-key authentication ( <xref linkend=\"sec-ssh-public-key-auth\"/"
"> ) for the root user with the <literal>PermitRootLogin prohibit-password</"
"literal> and <literal>PasswordAuthentication</literal> options."
msgstr ""
"root のログインは許可しないようにしておくことが最適です。その代わり、一般ユー"
"ザでのログインを行ったあと、 <command>sudo</command> コマンドを利用して root "
"権限が必要な作業を行うようにしてください。どうしても root でのログインが必要"
"な場合は、下記のサーバ設定例 (<xref linkend=\"sec-ssh-public-key-auth\"/>) に"
"ある <literal>PermitRootLogin prohibit-password</literal> と "
"<literal>PasswordAuthentication</literal> のオプションを利用して、公開鍵認証"
"のみを受け付けるように設定してください。"

#. Tag: para
#: security_ssh.xml:304
#, no-c-format
msgid ""
"The following settings for <filename>/etc/ssh/sshd_config</filename> "
"strengthen access controls:"
msgstr ""
"なお、下記の <filename>/etc/ssh/sshd_config</filename> ファイル例は、アクセス"
"制御をより強化した設定例です:"

#. Tag: title
#: security_ssh.xml:309
#, no-c-format
msgid "Example sshd_config"
msgstr "sshd_config の例"

#. Tag: programlisting
#: security_ssh.xml:310
#, no-c-format
msgid ""
"# Check if the file modes and ownership of the user’s files and# home "
"directory are correct before allowing them to loginStrictModes yes# If your "
"machine has more than one IP address, define which address or# addresses it "
"listens onListenAddress <replaceable>192.168.10.100</replaceable> # Allow "
"only members of the listed groups to log inAllowGroups "
"<replaceable>ldapadmins backupadmins</replaceable> # Or, deny certain "
"groups. If you use both, DenyGroups is read firstDenyGroups "
"<replaceable>users</replaceable> # Allow or deny certain users. If you use "
"both, DenyUsers is read firstAllowUsers <replaceable>user1 user2@example.com "
"user3</replaceable> DenyUsers <replaceable>user4 user5@192.168.10.10</"
"replaceable> # Allow root logins only with public key "
"authenticationPermitRootLogin prohibit-password# Disable password "
"authentication and allow only public key authentication# for all "
"usersPasswordAuthentication no# Length of time the server waits for a user "
"to log in and complete the# connection. The default is 120 seconds:"
"LoginGraceTime <replaceable>60</replaceable> # Limit the number of failed "
"connection attempts. The default is 6MaxAuthTries <replaceable>4</"
"replaceable>"
msgstr ""
"# Check if the file modes and ownership of the user’s files and# home "
"directory are correct before allowing them to loginStrictModes yes# If your "
"machine has more than one IP address, define which address or# addresses it "
"listens onListenAddress <replaceable>192.168.10.100</replaceable> # Allow "
"only members of the listed groups to log inAllowGroups "
"<replaceable>ldapadmins backupadmins</replaceable> # Or, deny certain "
"groups. If you use both, DenyGroups is read firstDenyGroups "
"<replaceable>users</replaceable> # Allow or deny certain users. If you use "
"both, DenyUsers is read firstAllowUsers <replaceable>user1 user2@example.com "
"user3</replaceable> DenyUsers <replaceable>user4 user5@192.168.10.10</"
"replaceable> # Allow root logins only with public key "
"authenticationPermitRootLogin prohibit-password# Disable password "
"authentication and allow only public key authentication# for all "
"usersPasswordAuthentication no# Length of time the server waits for a user "
"to log in and complete the# connection. The default is 120 seconds:"
"LoginGraceTime <replaceable>60</replaceable> # Limit the number of failed "
"connection attempts. The default is 6MaxAuthTries <replaceable>4</"
"replaceable>"

#. Tag: para
#: security_ssh.xml:345
#, no-c-format
msgid ""
"After changing <filename>/etc/ssh/sshd_config</filename> , run the syntax "
"checker:"
msgstr ""
"<filename>/etc/ssh/sshd_config</filename> ファイルを変更したあとは、下記のよ"
"うにして文法チェックを行ってください:"

#. Tag: screen
#: security_ssh.xml:349
#, no-c-format
msgid "&prompt.sudo;<command>sshd -t</command>"
msgstr "&prompt.sudo;<command>sshd -t</command>"

#. Tag: para
#: security_ssh.xml:350
#, no-c-format
msgid ""
"The syntax checker only checks for correct syntax, and does not find "
"configuration errors. When you are finished, reload the configuration:"
msgstr ""
"なお、文法チェック機能は文法のみをチェックする仕組みであり、設定の誤りは検出"
"されないことに注意してください。チェック完了後は下記のように入力して実行する"
"ことで、設定を再読み込みさせることができます:"

#. Tag: screen
#: security_ssh.xml:354
#, no-c-format
msgid "&prompt.sudo;<command>systemctl reload sshd.service</command>"
msgstr "&prompt.sudo;<command>systemctl reload sshd.service</command>"

#. Tag: para
#: security_ssh.xml:355
#, no-c-format
msgid "Check the server's key directories for correct permissions."
msgstr ""
"また、サーバの鍵ディレクトリに適切なパーミッションが設定されていることを確認"
"してください。"

#. Tag: para
#: security_ssh.xml:358
#, no-c-format
msgid ""
"<filename>/etc/ssh</filename> should be mode 0755/drwxr-xr-x, owned by root:"
"root."
msgstr ""
"<filename>/etc/ssh</filename> ディレクトリは 0755/drwxr-xr-x のパーミッション"
"で所有者が root:root でなければいけません。"

#. Tag: para
#: security_ssh.xml:362
#, no-c-format
msgid "Private keys should be 0600/-rw-------, owned by root:root."
msgstr ""
"機密鍵は 0600/-rw------- のパーミッションで所有者が root:root でなければいけ"
"ません。"

#. Tag: para
#: security_ssh.xml:365
#, no-c-format
msgid "Public keys should be 0644/-rw-r--r--, owned by root:root."
msgstr ""
"公開鍵は 0644/-rw-r--r-- のパーミッションで所有者が root:root でなければいけ"
"ません。"

#. Tag: title
#: security_ssh.xml:429
#, no-c-format
msgid "Password authentication"
msgstr "パスワード認証"

#. Tag: para
#: security_ssh.xml:430
#, no-c-format
msgid ""
"With password authentication, all you need is the login and password of a "
"user on the remote machine, and <systemitem class=\"daemon\">sshd</"
"systemitem> set up and running on the remote machine. You do not need any "
"personal SSH keys. In the following example, user &exampleuserIII_plain; "
"opens an SSH session to the host &exampleserver;:"
msgstr ""
"パスワード認証を行う場合は、接続先のマシン内にユーザアカウントとパスワードを"
"設定し、 <systemitem class=\"daemon\">sshd</systemitem> を設定してそれを動作"
"させておくだけです。個人用の SSH 鍵を作成する必要はありません。下記は、 "
"&exampleserver; というホストに対して &exampleuserIII_plain; というユーザ名で "
"SSH ログインする場合の例です:"

#. Tag: screen
#: security_ssh.xml:438
#, no-c-format
msgid ""
"&prompt.user;<command>ssh &exampleuserIII_plain;@&exampleserver;</command>\n"
msgstr ""
"&prompt.user;<command>ssh &exampleuserIII_plain;@&exampleserver;</command>\n"

#. Tag: para
#: security_ssh.xml:440
#, no-c-format
msgid ""
"&exampleuserIII_plain; is prompted to enter the remote password. Type "
"<literal>exit</literal> and press <keycap>Enter</keycap> to close an SSH "
"session."
msgstr ""
"接続を行うと、まずは接続先で設定した &exampleuserIII_plain; のパスワード入力"
"を求められます。また、 <literal>exit</literal> と入力して <keycap>Enter</"
"keycap> を押すと、 SSH セッションを終了することができます。"

#. Tag: para
#: security_ssh.xml:445
#, no-c-format
msgid ""
"If the user name is the same on both machines, you can omit it, and then "
"using <command>ssh <replaceable>HOST_NAME</replaceable></command> is "
"sufficient. After a successful authentication, you can work on the command "
"line or use interactive applications, such as &yast; in text mode."
msgstr ""
"両方のマシンでユーザ名が同じであれば、ユーザ名を指定する必要はありません。 "
"<command>ssh <replaceable>ホスト名</replaceable></command> のように入力して実"
"行するだけで済みます。認証が成功すると、相手側のコンピュータのコマンドライン"
"を使用したり、 &yast; のテキストモードのような対話的なアプリケーションを使用"
"したりすることができるようになります。"

#. Tag: para
#: security_ssh.xml:452
#, no-c-format
msgid ""
"You may also run non-interactive commands (log in, run the command, then the "
"session closes all in one command) on remote systems using the <command>ssh "
"<replaceable>USER_NAME HOST COMMAND</replaceable></command> syntax. "
"<replaceable>COMMAND</replaceable> must be properly quoted. Multiple "
"commands can be concatenated as on a local shell:"
msgstr ""
"これらに加えて、 <command>ssh <replaceable>ユーザ名@ホスト コマンド</"
"replaceable></command> の書式を使用することで、対話的でないコマンドを実行する"
"こともできます。この場合、ログインしてコマンドを実行したあと、そのまま接続を"
"終了する動作になります。なお、 <replaceable>コマンド</replaceable> では適切に"
"引用符を指定する必要があります。また、複数のコマンドはローカルのシェルと同じ"
"方法で繋げることができます:"

#. Tag: screen
#: security_ssh.xml:461
#, no-c-format
msgid ""
"&prompt.user;<command>ssh &exampleuserIII_plain;@&exampleserver; \"df -h "
"&amp;&amp; du -sh  /home\"</command>\n"
"&prompt.user;<command>ssh &exampleuserIII_plain;@&exampleserver; \"sudo "
"nano /etc/ssh/sshd_config\"</command>"
msgstr ""
"&prompt.user;<command>ssh &exampleuserIII_plain;@&exampleserver; \"df -h "
"&amp;&amp; du -sh  /home\"</command>\n"
"&prompt.user;<command>ssh &exampleuserIII_plain;@&exampleserver; \"sudo "
"nano /etc/ssh/sshd_config\"</command>"

#. Tag: para
#: security_ssh.xml:464
#, no-c-format
msgid ""
"When you run <command>sudo</command> on the remote machine, you are prompted "
"for the <command>sudo</command> password."
msgstr ""
"リモートのマシンで <command>sudo</command> を実行すると、 <command>sudo</"
"command> でのパスワード入力が求められます。"

#. Tag: title
#: security_ssh.xml:471
#, no-c-format
msgid "Managing user and host encryption keys"
msgstr "ユーザ鍵とホスト鍵の管理"

#. Tag: para
#: security_ssh.xml:472
#, no-c-format
msgid ""
"There are several key types to choose from: DSA, RSA, ECDSA, ECDSA-SK, "
"Ed25519, and Ed25519-SK. DSA was deprecated several years ago, and was "
"disabled in OpenSSH 7.0 and should not be used. RSA is the most universal as "
"it is older, and more widely used. (As of OpenSSH 8.2, RSA is deprecated for "
"host keys. Use ECDSA or Ed25519 for host keys.)"
msgstr ""
"生成できる鍵の種類としては、 DSA, RSA, ECDSA, ECDSA-SK, Ed25519, Ed25519-SK "
"があります。ただし、 DSA は何年も前に廃止予定とされていて、 OpenSSH 7.0 では"
"無効化されていて使用すべきではありません。 RSA は最も一般的に使用されている種"
"類で、古い仕組みではあるものの一般的に使用されています (なお、 OpenSSH 8.2 お"
"よびそれ以降のバージョンでは、 RSA はホスト鍵としては廃止予定になっています。"
"ホスト鍵には ECDSA もしくは Ed25519 をお使いください) 。"

#. Tag: para
#: security_ssh.xml:480
#, no-c-format
msgid ""
"Ed25519 and ECDSA are stronger and faster. Ed25519 is considered to be the "
"strongest. If you must support older clients that do not support Ed25519 or "
"ECDSA, create host keys in all three formats."
msgstr ""
"Ed25519 と ECDSA はより強力で高速な鍵です。 Ed25519 が最も強力な鍵として提供"
"されていますが、 Ed25519 や ECDSA に対応していない古いクライアントを受け付け"
"る必要がある場合は、 3 種類全てのホスト鍵を作成してください。"

#. Tag: title
#: security_ssh.xml:487
#, no-c-format
msgid "Older clients are unsafe"
msgstr "古いクライアントの安全性について"

#. Tag: para
#: security_ssh.xml:488
#, no-c-format
msgid ""
"Some older SSH clients do not support ECDSA and ED25519. ECDSA and ED25519 "
"were released with OpenSSH 6.5 in 2014. It is important to keep security "
"services updated, and, if possible, to not allow unsafe old clients."
msgstr ""
"古い SSH クライアントは ECDSA や ED25519 に対応していませんが、 ECDSA と "
"ED25519 への対応は 2014 年に公開された OpenSSH 6.5 から提供されているもので"
"す。どうしても接続を受け付ける必要がある場合は、必ずセキュリティ更新を適用し"
"ておいてください。また、可能であれば古いクライアントからの接続は許可しないで"
"ください。"

#. Tag: para
#: security_ssh.xml:495
#, no-c-format
msgid ""
"SSH keys serve two purposes: authenticating servers to clients, and "
"authenticating clients to servers (see <xref linkend=\"sec-ssh-public-key-"
"auth\"/> ). Server host keys are stored in <filename>/etc/ssh</filename> . "
"Users' personal keys are stored in <filename>/home/<replaceable>user</"
"replaceable>/.ssh</filename> ."
msgstr ""
"SSH の鍵は 2 種類の目的で使用されます。クライアントがサーバを認証するためのホ"
"スト鍵と、サーバがクライアントを認証するためのクライアント鍵です (詳しくは "
"<xref linkend=\"sec-ssh-public-key-auth\"/> をお読みください) 。サーバのホス"
"ト鍵は <filename>/etc/ssh</filename> ディレクトリ内に保存され、ユーザ鍵はユー"
"ザごとのディレクトリである <filename>/home/<replaceable>ユーザ名</"
"replaceable>/.ssh</filename> ディレクトリ内に保存されます。"

#. Tag: para
#: security_ssh.xml:502
#, no-c-format
msgid ""
"<filename>/home/<replaceable>user</replaceable>/.ssh</filename> is created "
"when the user creates a new SSH key."
msgstr ""
"なお、ユーザ側で新しい SSH 鍵を作成すると、 <filename>/home/<replaceable>ユー"
"ザ名</replaceable>/.ssh</filename> ディレクトリが作成されます。"

#. Tag: para
#: security_ssh.xml:506
#, no-c-format
msgid "Host keys must not have passphrases."
msgstr "また、ホスト鍵にはパスフレーズを設定してはいけません。"

#. Tag: para
#: security_ssh.xml:509
#, no-c-format
msgid "In most cases, private user keys should have strong passphrases."
msgstr "ほとんどの場合、ユーザ鍵には強力なパスフレーズを設定します。"

#. Tag: title
#: security_ssh.xml:514
#, no-c-format
msgid "Creating user SSH key pairs"
msgstr "ユーザ SSH 鍵の生成"

#. Tag: para
#: security_ssh.xml:515
#, no-c-format
msgid ""
"The following procedure shows how to create user OpenSSH encryption keys."
msgstr "下記に示す手順では、 OpenSSH でのユーザ鍵の作成方法を説明しています。"

#. Tag: title
#: security_ssh.xml:520
#, no-c-format
msgid "Creating default and customized keys"
msgstr "既定の鍵と独自の鍵について"

#. Tag: para
#: security_ssh.xml:522
#, no-c-format
msgid ""
"To generate a user key pair with the default parameters (RSA, 3072 bits), "
"use the <command>ssh-keygen</command> command with no options. Protect your "
"private key with a strong passphrase:"
msgstr ""
"既定のパラメータ (RSA, 3072 ビット) でユーザ鍵対を生成するには、オプションを"
"何も指定せず <command>ssh-keygen</command> と入力して実行します。なお、機密鍵"
"を保護するため、強力なパスフレーズを設定しておいてください:"

#. Tag: screen
#: security_ssh.xml:527
#, no-c-format
msgid ""
"<?dbfo keep-together=\"always\"?>&prompt.user;<command>ssh-keygen</command>\n"
"Generating public/private rsa key pair.\n"
"Enter file in which to save the key (/home/tux/.ssh/id_rsa):\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in id_rsa\n"
"Your public key has been saved in id_rsa.pub\n"
"The key fingerprint is:\n"
"SHA256:z0uJIuc7Doy07bFTe1ppZHLVrkD/bWWlBAF/PcHjblU user@host2\n"
"The key's randomart image is:\n"
"+---[RSA 3072]----+\n"
"|          ..o... |\n"
"|           o . +E|\n"
"|        . . o +.=|\n"
"|       . o . o o+|\n"
"|  .   . S . . o +|\n"
"| . =  .= * + . = |\n"
"|  o *.o.= * . +  |\n"
"|   ..Bo+.. . .   |\n"
"|    oo==  .      |\n"
"+----[SHA256]-----+"
msgstr ""
"<?dbfo keep-together=\"always\"?>&prompt.user;<command>ssh-keygen</command>\n"
"Generating public/private rsa key pair.\n"
"Enter file in which to save the key (/home/tux/.ssh/id_rsa):\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in id_rsa\n"
"Your public key has been saved in id_rsa.pub\n"
"The key fingerprint is:\n"
"SHA256:z0uJIuc7Doy07bFTe1ppZHLVrkD/bWWlBAF/PcHjblU user@host2\n"
"The key's randomart image is:\n"
"+---[RSA 3072]----+\n"
"|          ..o... |\n"
"|           o . +E|\n"
"|        . . o +.=|\n"
"|       . o . o o+|\n"
"|  .   . S . . o +|\n"
"| . =  .= * + . = |\n"
"|  o *.o.= * . +  |\n"
"|   ..Bo+.. . .   |\n"
"|    oo==  .      |\n"
"+----[SHA256]-----+"

#. Tag: para
#: security_ssh.xml:550
#, no-c-format
msgid "Create an RSA key pair with a longer bit length:"
msgstr ""
"より長いビット長で RSA 鍵対を作成したい場合は、下記のように入力して実行しま"
"す:"

#. Tag: screen
#: security_ssh.xml:553
#, no-c-format
msgid "&prompt.user;<command>ssh-keygen -b 4096</command>"
msgstr "&prompt.user;<command>ssh-keygen -b 4096</command>"

#. Tag: para
#: security_ssh.xml:554
#, no-c-format
msgid ""
"OpenSSH RSA keys can be a maximum of 16,384 bits. However, longer bit "
"lengths are not necessarily more desirable. See the GnuPG FAQ for more "
"information, <link xlink:href=\"https://www.gnupg.org/faq/gnupg-faq."
"html#no_default_of_rsa4096\"/> ."
msgstr ""
"OpenSSH での RSA 鍵は、最大で 16,384 ビットまでとなっています。しかしながら、"
"ビット長を大きくしても、かかる負荷に見合うだけの効果を得られません。詳しくは "
"GnuPG の FAQ <link xlink:href=\"https://www.gnupg.org/faq/gnupg-faq."
"html#no_default_of_rsa4096\"/> (英語) をお読みください。"

#. Tag: para
#: security_ssh.xml:561
#, no-c-format
msgid ""
"You may create as many user keys as you want, for accessing different "
"servers. Each key pair must have a unique name, and optionally, a comment. "
"These help you remember what each key pair is for. Create an RSA key pair "
"with a custom name and a comment:"
msgstr ""
"ユーザ鍵は必要な数だけ作成することができます。これらを異なるサーバへの接続に"
"使用することができます。鍵対には重複しない名前を指定しなければならないほか、"
"必要であればコメントを含めることもできます。これらは鍵の用途を記しておくのに"
"最適です。たとえば下記のようにして名前とコメントを指定して作成します:"

#. Tag: screen
#: security_ssh.xml:567
#, no-c-format
msgid ""
"&prompt.user;<command>ssh-keygen -f <replaceable>backup-server-key -C "
"\"infrastructure backup server\"</replaceable></command>\n"
"      "
msgstr ""
"&prompt.user;<command>ssh-keygen -f <replaceable>backup-server-key -C "
"\"infrastructure backup server\"</replaceable></command>\n"
"      "

#. Tag: para
#: security_ssh.xml:571
#, no-c-format
msgid "Create an Ed25519 key pair with a custom name and a comment:"
msgstr ""
"独自のファイル名やコメントを指定して Ed25519 鍵対を作成する場合は、下記のよう"
"にします:"

#. Tag: screen
#: security_ssh.xml:574
#, no-c-format
msgid ""
"&prompt.user;<command>ssh-keygen -t ed25519 -f <replaceable>ldap-server-key -"
"C \"Internal LDAP server\"</replaceable></command>\n"
"     "
msgstr ""
"&prompt.user;<command>ssh-keygen -t ed25519 -f <replaceable>ldap-server-key -"
"C \"Internal LDAP server\"</replaceable></command>\n"
"     "

#. Tag: para
#: security_ssh.xml:576
#, no-c-format
msgid ""
"Ed25519 keys are fixed at 256 bits, which is equivalent in cryptographic "
"strength to RSA 4096."
msgstr ""
"Ed25519 の鍵は 256 ビットの固定長です。暗号強度は RSA 4096 ビットと同程度にな"
"ります。"

#. Tag: title
#: security_ssh.xml:585
#, no-c-format
msgid "Creating SSH server host keys"
msgstr "SSH サーバのホスト鍵作成"

#. Tag: para
#: security_ssh.xml:586
#, no-c-format
msgid ""
"Host keys are managed a little differently. A host key must not have a "
"passphrase, and the key pairs are stored in <filename>/etc/ssh</filename> . "
"OpenSSH automatically generates a set of host keys when it is installed, "
"like the following example:"
msgstr ""
"ホスト鍵はクライアント鍵とは違った管理方法になります。ホスト鍵にはパスフレー"
"ズを設定してはならないほか、鍵対は <filename>/etc/ssh</filename> ディレクトリ"
"内に保存します。 OpenSSH では、必要に応じて自動的にホスト鍵を生成します。たと"
"えば下記のようになります:"

#. Tag: screen
#: security_ssh.xml:593
#, no-c-format
msgid ""
"<?dbfo keep-together=\"always\"?>&prompt.user;<command>ls -l /etc/ssh</"
"command>\n"
"total 608\n"
"-rw------- 1 root root 577834 2021-05-06 04:48 moduli\n"
"-rw-r--r-- 1 root root   2403 2021-05-06 04:48 ssh_config\n"
"-rw-r----- 1 root root   3420 2021-05-06 04:48 sshd_config\n"
"-rw------- 1 root root   1381 2022-02-10 06:55 ssh_host_dsa_key\n"
"-rw-r--r-- 1 root root    604 2022-02-10 06:55 ssh_host_dsa_key.pub\n"
"-rw------- 1 root root    505 2022-02-10 06:55 ssh_host_ecdsa_key\n"
"-rw-r--r-- 1 root root    176 2022-02-10 06:55 ssh_host_ecdsa_key.pub\n"
"-rw------- 1 root root    411 2022-02-10 06:55 ssh_host_ed25519_key\n"
"-rw-r--r-- 1 root root     96 2022-02-10 06:55 ssh_host_ed25519_key.pub\n"
"-rw------- 1 root root   2602 2022-02-10 06:55 ssh_host_rsa_key\n"
"-rw-r--r-- 1 root root    568 2022-02-10 06:55 ssh_host_rsa_key.pub"
msgstr ""
"<?dbfo keep-together=\"always\"?>&prompt.user;<command>ls -l /etc/ssh</"
"command>\n"
"total 608\n"
"-rw------- 1 root root 577834  5月  6 2021 moduli\n"
"-rw-r--r-- 1 root root   2403  5月  6 2021 ssh_config\n"
"-rw-r----- 1 root root   3420  5月  6 2021 sshd_config\n"
"-rw------- 1 root root   1381  2月 10 2021 ssh_host_dsa_key\n"
"-rw-r--r-- 1 root root    604  2月 10 2021 ssh_host_dsa_key.pub\n"
"-rw------- 1 root root    505  2月 10 2021 ssh_host_ecdsa_key\n"
"-rw-r--r-- 1 root root    176  2月 10 2021 ssh_host_ecdsa_key.pub\n"
"-rw------- 1 root root    411  2月 10 2021 ssh_host_ed25519_key\n"
"-rw-r--r-- 1 root root     96  2月 10 2021 ssh_host_ed25519_key.pub\n"
"-rw------- 1 root root   2602  2月 10 2021 ssh_host_rsa_key\n"
"-rw-r--r-- 1 root root    568  2月 10 2021 ssh_host_rsa_key.pub"

#. Tag: para
#: security_ssh.xml:607
#, no-c-format
msgid ""
"<command>ssh-keygen</command> has a special option, <option>-A</option> , "
"for creating new host keys. This creates new keys for each of the key types "
"for which host keys do not exist, with the default key file path, an empty "
"passphrase, default bit size for the key type, and an empty comment. The "
"following example creates a complete new set of host keys by first deleting "
"the existing keys, then creating a new set:"
msgstr ""
"なお、 <command>ssh-keygen</command> には新しいホスト鍵を作成するための特別な"
"オプションである <option>-A</option> が用意されています。これはそれぞれの種類"
"のホスト鍵対が存在していなかった場合、それらを自動的に生成することができま"
"す。保存先や空のパスフレーズ設定、鍵の種類ごとのビット長や空のコメントも自動"
"的に設定されます。下記のように入力して実行すると、既存の鍵を削除して新しいホ"
"スト鍵対を生成することができます:"

#. Tag: screen
#: security_ssh.xml:616
#, no-c-format
msgid ""
"&prompt.sudo;<command>rm /etc/ssh/ssh_host*</command>\n"
"&prompt.sudo;<command>ssh-keygen -A</command>"
msgstr ""
"&prompt.sudo;<command>rm /etc/ssh/ssh_host*</command>\n"
"&prompt.sudo;<command>ssh-keygen -A</command>"

#. Tag: para
#: security_ssh.xml:618
#, no-c-format
msgid ""
"You can replace selected key pairs by first deleting only the keys you want "
"to replace, because <command>ssh-keygen -A</command> does not replace "
"existing keys."
msgstr ""
"なお、 <command>ssh-keygen -A</command> では既存の鍵を上書きすることはありま"
"せんので、ホスト鍵を完全に入れ替える場合は、事前に削除しておく必要がありま"
"す。"

#. Tag: title
#: security_ssh.xml:624
#, no-c-format
msgid "Do not use DSA keys"
msgstr "DSA 鍵の使用禁止について"

#. Tag: para
#: security_ssh.xml:625
#, no-c-format
msgid ""
"<command>ssh-keygen -A</command> creates DSA keys, even though they have "
"been deprecated as unsafe for several years. In OpenSSH 7.0 they are still "
"created, but disabled by not being listed in <filename>sshd_config</"
"filename> . You may safely delete DSA keys."
msgstr ""
"<command>ssh-keygen -A</command> を実行すると、既に何年も前から安全性に問題が"
"あると考えられている DSA 鍵も生成されます。 OpenSSH 7.0 の時点でも未だ作成さ"
"れますが、 <filename>sshd_config</filename> 側で使用されないように設定されて"
"います。そのため、生成された DSA 鍵は削除して問題ありません。"

#. Tag: para
#: security_ssh.xml:632
#, no-c-format
msgid ""
"When you want to rotate host keys (see <xref linkend=\"sec-ssh-sshdserver-"
"rotation\"/> ), you must create the new keys individually, because they must "
"exist at the same time as your old host keys. Your users authenticate with "
"the old keys, and then receive the list of new keys. They need unique names, "
"to not conflict with the old keys. The following example creates new RSA and "
"Ed25519 host keys, labeled with the year and month they were created. "
"Remember, the new host keys must not have passphrases:"
msgstr ""
"ホスト鍵の切り替え (詳しくは <xref linkend=\"sec-ssh-sshdserver-rotation\"/> "
"をお読みください) を検討している場合は、新しいホスト鍵を別のファイル名に保存"
"しなければなりません。単純に新しい鍵に入れ替えるだけの作業では、ユーザ側でホ"
"スト鍵の正しさを検証できないためです。ホスト鍵を切り替えるには、サーバ側で古"
"い鍵と新しい鍵の両方を送信するように設定し、古い鍵で新しい鍵を検証できるよう"
"にしてください。そのため、古い鍵とは別のファイル名に保存する必要があります。"
"下記の例では、新しい RSA, Ed25519 のホスト鍵を作成して、年月を指定した新しい"
"ファイル名に保存しています。もちろん新しいホスト鍵にはパスフレーズを設定して"
"はなりません:"

#. Tag: screen
#: security_ssh.xml:642
#, no-c-format
msgid ""
"&prompt.user;<command>cd /etc/ssh</command>\n"
"&prompt.sudo;<command>ssh-keygen -b 4096 -f "
"\"<replaceable>SSH_HOST_RSA_2022_02</replaceable>\"</command>\n"
"&prompt.sudo;<command>ssh-keygen -t ed25519 -f "
"\"<replaceable>SSH_HOST_ED25519_2022_02</replaceable>\"</command>"
msgstr ""
"&prompt.user;<command>cd /etc/ssh</command>\n"
"&prompt.sudo;<command>ssh-keygen -b 4096 -f "
"\"<replaceable>SSH_HOST_RSA_2022_02</replaceable>\"</command>\n"
"&prompt.sudo;<command>ssh-keygen -t ed25519 -f "
"\"<replaceable>SSH_HOST_ED25519_2022_02</replaceable>\"</command>"

#. Tag: para
#: security_ssh.xml:645
#, no-c-format
msgid "You may name your new keys whatever you want."
msgstr "なお、新しい鍵に設定するファイル名は任意のものでかまいません。"

#. Tag: title
#: security_ssh.xml:652
#, no-c-format
msgid "Rotating host keys"
msgstr "ホスト鍵の切り替え"

#. Tag: para
#: security_ssh.xml:653
#, no-c-format
msgid ""
"As of version 6.8, OpenSSH includes a protocol extension that supports host "
"key rotation. SSH server admins must periodically retire old host keys and "
"create new keys, for example if a key has been compromised, or it is time to "
"upgrade to stronger keys. Before OpenSSH 6.8, if "
"<literal>StrictHostKeyChecking</literal> was set to <literal>yes</literal> "
"in <filename>ssh_config</filename> on user machines, users would see a "
"warning that the host key had changed, and were not allowed to connect. Then "
"the users would have to manually delete the server's public key from their "
"<filename>known_hosts</filename> file, reconnect and manually accept the new "
"key. Any automated SSH connections, such as scheduled backups, would fail."
msgstr ""
"OpenSSH バージョン 6.8 およびそれ以降のバージョンでは、ホスト鍵を切り替えなが"
"ら使用することのできるプロトコル拡張が利用できます。 SSH サーバの管理者は、た"
"とえばホスト鍵が漏洩したり、既存の鍵の強度では弱いと判断したりした場合、古い"
"ホスト鍵を廃棄して新しいホスト鍵に切り替えなければならなくなります。バージョ"
"ン 6.8 以前では、ユーザ側のマシンの <filename>ssh_config</filename> で "
"<literal>StrictHostKeyChecking</literal> が <literal>yes</literal> に設定され"
"ていると、ホスト鍵の変更が検出されると警告メッセージを表示して接続が行われな"
"くなっていました。この場合、ユーザ側で対応する公開鍵を "
"<filename>known_hosts</filename> ファイルから手作業で削除して接続し直し、新し"
"い鍵を受け付ける作業が必要になります。 SSH 経由でのスケジュールバックアップな"
"ど、自動化を行っている場合には面倒になってしまいます。"

#. Tag: para
#: security_ssh.xml:667
#, no-c-format
msgid ""
"The new host key rotation scheme provides a method to distribute new keys "
"without service interruptions. When clients connect, the server sends them a "
"list of new keys. Then the next time they log in they are asked if they wish "
"to accept the changes. Give users a few days to connect and receive the new "
"keys, and then you can remove the old keys. The users' "
"<filename>known_hosts</filename> files are automatically updated, with new "
"keys added and the old keys removed."
msgstr ""
"新しいホスト鍵の切り替え方式では、サービスの停止を伴うことなく新しい鍵を配布"
"できる方式を提供しています。クライアントからの接続があると、サーバは手持ちの"
"鍵を一覧で送信しますので、次回以降のログインで新しい鍵を自動的に受け付けるよ"
"うにすることができます。これにより、鍵の移行のための猶予期間を設定することが"
"できますので、しばらく待ってから古い鍵を削除すれば、移行が完了することになり"
"ます。ユーザ側の <filename>known_hosts</filename> ファイルも自動的に更新され"
"ますので、古い鍵から新しい鍵への切り替えも自動でできることになります。"

#. Tag: para
#: security_ssh.xml:676
#, no-c-format
msgid ""
"Setting up host key rotations requires creating new keys on the server, "
"certain changes to <filename>/etc/ssh/sshd_config</filename> on the server, "
"and to <filename>/etc/ssh/ssh_config</filename> on the clients."
msgstr ""
"ホスト鍵の切り替え機能を使用するには、新しい鍵の作成のほか、サーバ側では "
"<filename>/etc/ssh/sshd_config</filename> ファイルの変更を、クライアント側で"
"は <filename>/etc/ssh/ssh_config</filename> ファイルの変更をそれぞれ行う必要"
"があります。"

#. Tag: para
#: security_ssh.xml:681
#, no-c-format
msgid ""
"First, create your new key or keys. The following example creates a new RSA "
"key and a new Ed25519 key, with unique names and comments. A useful "
"convention is to name them with the creation date. Remember, a host key must "
"not have a passphrase:"
msgstr ""
"まずは新しい鍵 (複数可) を作成します。下記の例では、ファイル名とコメントを指"
"定して新しい RSA 鍵と Ed25519 鍵を作成しています。一般的には作成日などを含め"
"ておくとよいでしょう。また、ホスト鍵にはパスフレーズを設定してはいけません:"

#. Tag: screen
#: security_ssh.xml:687
#, no-c-format
msgid ""
"&prompt.root;<command>ssh-keygen -t rsa -f ssh_host_rsa_2022-01 -C \"main "
"server\"</command>\n"
"Generating public/private rsa key pair.\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in ssh_host_rsa_2022-01\n"
"Your public key has been saved in ssh_host_rsa_2022-01.pub\n"
"The key fingerprint is:\n"
"SHA256:F1FIF2aqOz7D3mGdsjzHpH/kjUWZehBN3uG7FM4taAQ main server\n"
"The key's randomart image is:\n"
"+---[RSA 3072]----+\n"
"|         .Eo*.oo |\n"
"|          .B .o.o|\n"
"|          o . .++|\n"
"|         . o ooo=|\n"
"|        S . o +*.|\n"
"|         o o.oooo|\n"
"|       .o ++oo.= |\n"
"|       .+=o+o + .|\n"
"|       .oo++..   |\n"
"+----[SHA256]-----+\n"
"\n"
"&prompt.root;<command>ssh-keygen -t ed25519 -f ssh_host_ed25519_2022-01 -C "
"\"main server\"</command>\n"
"Generating public/private ed25519 key pair.\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in ssh_host_ed25519_2022-01\n"
"Your public key has been saved in ssh_host_ed25519_2022-01.pub\n"
"The key fingerprint is:\n"
"SHA256:2p9K0giXv7WsRnLjwjs4hJ8EFcoX1FWR4nQz6fxnjxg main server\n"
"The key's randomart image is:\n"
"+--[ED25519 256]--+\n"
"|   .+o ...o+     |\n"
"| . .... o *      |\n"
"|  o..  o = o     |\n"
"|  ..   .. o      |\n"
"|   o. o S  .     |\n"
"|  . oo.*+   E o  |\n"
"|   + ++==..  = o |\n"
"|    = +oo= o. . .|\n"
"|     ..=+o=      |\n"
"+----[SHA256]-----+"
msgstr ""
"&prompt.root;<command>ssh-keygen -t rsa -f ssh_host_rsa_2022-01 -C \"main "
"server\"</command>\n"
"Generating public/private rsa key pair.\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in ssh_host_rsa_2022-01\n"
"Your public key has been saved in ssh_host_rsa_2022-01.pub\n"
"The key fingerprint is:\n"
"SHA256:F1FIF2aqOz7D3mGdsjzHpH/kjUWZehBN3uG7FM4taAQ main server\n"
"The key's randomart image is:\n"
"+---[RSA 3072]----+\n"
"|         .Eo*.oo |\n"
"|          .B .o.o|\n"
"|          o . .++|\n"
"|         . o ooo=|\n"
"|        S . o +*.|\n"
"|         o o.oooo|\n"
"|       .o ++oo.= |\n"
"|       .+=o+o + .|\n"
"|       .oo++..   |\n"
"+----[SHA256]-----+\n"
"\n"
"&prompt.root;<command>ssh-keygen -t ed25519 -f ssh_host_ed25519_2022-01 -C "
"\"main server\"</command>\n"
"Generating public/private ed25519 key pair.\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in ssh_host_ed25519_2022-01\n"
"Your public key has been saved in ssh_host_ed25519_2022-01.pub\n"
"The key fingerprint is:\n"
"SHA256:2p9K0giXv7WsRnLjwjs4hJ8EFcoX1FWR4nQz6fxnjxg main server\n"
"The key's randomart image is:\n"
"+--[ED25519 256]--+\n"
"|   .+o ...o+     |\n"
"| . .... o *      |\n"
"|  o..  o = o     |\n"
"|  ..   .. o      |\n"
"|   o. o S  .     |\n"
"|  . oo.*+   E o  |\n"
"|   + ++==..  = o |\n"
"|    = +oo= o. . .|\n"
"|     ..=+o=      |\n"
"+----[SHA256]-----+"

#. Tag: para
#: security_ssh.xml:729
#, no-c-format
msgid "Record the fingerprints, for users to verify the new keys."
msgstr ""
"表示されたフィンガープリント (key fingerprint) を、ユーザ側で鍵を検証する際の"
"確認として記録しておいてください。"

#. Tag: para
#: security_ssh.xml:732
#, no-c-format
msgid ""
"Add the new key names to <filename>/etc/ssh/sshd_config</filename> , and "
"uncomment any existing keys that are in use:"
msgstr ""
"新しい鍵のファイル名を <filename>/etc/ssh/sshd_config</filename> で指定しま"
"す。既存の鍵はコメントアウトせず、そのまま設定しておいてください:"

#. Tag: screen
#: security_ssh.xml:736
#, no-c-format
msgid ""
"## Old keys\n"
"HostKey /etc/ssh/ssh_host_rsa_key\n"
"HostKey /etc/ssh/ssh_host_ed25519_key\n"
"HostKey /etc/ssh/ssh_host_ecdsa_key\n"
"\n"
"## New replacement keys\n"
"HostKey /etc/ssh/ssh_host_rsa_2022-01\n"
"HostKey /etc/ssh/ssh_host_ed25519_2022-01"
msgstr ""
"## 古い鍵\n"
"HostKey /etc/ssh/ssh_host_rsa_key\n"
"HostKey /etc/ssh/ssh_host_ed25519_key\n"
"HostKey /etc/ssh/ssh_host_ecdsa_key\n"
"\n"
"## 新しい鍵\n"
"HostKey /etc/ssh/ssh_host_rsa_2022-01\n"
"HostKey /etc/ssh/ssh_host_ed25519_2022-01"

#. Tag: para
#: security_ssh.xml:745
#, no-c-format
msgid ""
"Save your changes, then restart <systemitem class=\"daemon\">sshd</"
"systemitem> :"
msgstr ""
"ファイルを保存したら、 <systemitem class=\"daemon\">sshd</systemitem> を再起"
"動します:"

#. Tag: screen
#: security_ssh.xml:748
#, no-c-format
msgid ""
"&prompt.root;<command>systemctl restart sshd.service</command>\n"
"    "
msgstr ""
"&prompt.root;<command>systemctl restart sshd.service</command>\n"
"    "

#. Tag: para
#: security_ssh.xml:750
#, no-c-format
msgid ""
"The <filename>/etc/ssh/ssh_config</filename> file on user machines must "
"include the following settings:"
msgstr ""
"なお、ユーザ側の <filename>/etc/ssh/ssh_config</filename> では、下記のような"
"設定をしている必要があります:"

#. Tag: screen
#: security_ssh.xml:754
#, no-c-format
msgid ""
"UpdateHostKeys ask\n"
"StrictHostKeyChecking yes"
msgstr ""
"UpdateHostKeys ask\n"
"StrictHostKeyChecking yes"

#. Tag: para
#: security_ssh.xml:756
#, no-c-format
msgid ""
"Test connecting from a client by opening an SSH session to the server to "
"receive the new keys list. Log out, then log back in. When you log back in "
"you should see something like the following message:"
msgstr ""
"クライアント側からサーバに SSH で接続してテストしてみます。既に接続している場"
"合はいったんログアウトして再接続してみてください。下記のようなメッセージが表"
"示されるはずです:"

#. Tag: screen
#: security_ssh.xml:761
#, no-c-format
msgid ""
"The server has updated its host keys.\n"
"These changes were verified by the server's existing trusted key.\n"
"Deprecating obsolete hostkey: ED25519\n"
"SHA256:V28d3VpHgjsCoV04RBCZpLo5c0kEslCZDVdIUnCvqPI\n"
"Deprecating obsolete hostkey:\n"
"RSA SHA256:+NR4DVdbsUNsqJPIhISzx+eqD4x/awCCwijZ4a9eP8I\n"
"Accept updated hostkeys? (yes/no):yes"
msgstr ""
"The server has updated its host keys.\n"
"These changes were verified by the server's existing trusted key.\n"
"Deprecating obsolete hostkey: ED25519\n"
"SHA256:V28d3VpHgjsCoV04RBCZpLo5c0kEslCZDVdIUnCvqPI\n"
"Deprecating obsolete hostkey:\n"
"RSA SHA256:+NR4DVdbsUNsqJPIhISzx+eqD4x/awCCwijZ4a9eP8I\n"
"Accept updated hostkeys? (yes/no):yes"

#. Tag: para
#: security_ssh.xml:768
#, no-c-format
msgid ""
"You may set <literal>UpdateHostKeys ask</literal> to <literal>UpdateHostKeys "
"yes</literal> to apply the changes automatically, and avoid asking users to "
"approve the changes."
msgstr ""
"<literal>UpdateHostKeys ask</literal> を <literal>UpdateHostKeys yes</"
"literal> に変更することで、変更された鍵を自動的に受け付けるように設定すること"
"もできます。"

#. Tag: para
#: security_ssh.xml:773
#, no-c-format
msgid "For more information:"
msgstr "さらに詳しい情報を知りたい場合は、下記を参照してください:"

#. Tag: para
#: security_ssh.xml:779
#, no-c-format
msgid "<xref linkend=\"sec-ssh-authentic-gen-key\"/>"
msgstr "<xref linkend=\"sec-ssh-authentic-gen-key\"/>"

#. Tag: para
#: security_ssh.xml:784
#, no-c-format
msgid ""
"<link xlink:href=\"http://blog.djm.net.au/2015/02/key-rotation-in-openssh-68."
"html\"/>"
msgstr ""
"<link xlink:href=\"http://blog.djm.net.au/2015/02/key-rotation-in-openssh-68."
"html\"/> (英語)"

#. Tag: para
#: security_ssh.xml:789
#, no-c-format
msgid "man 5 ssh_config, man 5 sshd_config"
msgstr "man 5 ssh_config, man 5 sshd_config"

#. Tag: title
#: security_ssh.xml:797
#, no-c-format
msgid "Public key authentication"
msgstr "公開鍵認証"

#. Tag: para
#: security_ssh.xml:798
#, no-c-format
msgid ""
"Public key authentication uses your own personal identity key to "
"authenticate, rather than a user account password."
msgstr ""
"公開鍵認証は、アカウントに対して設定されたパスワードではなく、ユーザが作成し"
"た個人用の鍵で認証を行う方法です。"

#. Tag: para
#: security_ssh.xml:802
#, no-c-format
msgid ""
"The following example shows how to create a new personal RSA key pair with a "
"comment, so you know what it is for. First change to your <filename>~/.ssh</"
"filename> directory (or create it if it does not exist), then create the new "
"key pair. Give it a strong passphrase, and write the passphrase in a safe "
"place:"
msgstr ""
"下記は、コメント付きで個人用の RSA 鍵を作成する場合の例を示しています。まず"
"は <filename>~/.ssh</filename> ディレクトリに移動 (存在していない場合は作成し"
"て移動) したあと、新しい鍵対を作成します。この場合、パスフレーズはできる限り"
"複雑なものとし、パスフレーズは安全な場所に記録しておいてください:"

#. Tag: screen
#: security_ssh.xml:809
#, no-c-format
msgid ""
"&prompt.user;<command>cd ~/.ssh</command>\n"
"&prompt.user;<command>ssh-keygen -C <replaceable>\"web server1\"</"
"replaceable> -f <replaceable>id-web1</replaceable> -t rsa -b "
"<replaceable>4096</replaceable></command>\n"
msgstr ""
"&prompt.user;<command>cd ~/.ssh</command>\n"
"&prompt.user;<command>ssh-keygen -C <replaceable>\"web server1\"</"
"replaceable> -f <replaceable>id-web1</replaceable> -t rsa -b "
"<replaceable>4096</replaceable></command>\n"

#. Tag: para
#: security_ssh.xml:812
#, no-c-format
msgid ""
"Next, copy your new public key to the machine you want access to. You must "
"already have a user account on this machine, and SSH access to copy it over "
"the network:"
msgstr ""
"あとは作成した鍵対のうち、公開鍵を接続先のホストにコピーします。接続先のマシ"
"ンにユーザアカウントがあれば、 SSH でアクセスして鍵を書き込みます:"

#. Tag: screen
#: security_ssh.xml:817
#, no-c-format
msgid ""
"&prompt.user;<command>ssh-copy-id -i <replaceable>id-web1 user@web1</"
"replaceable></command>"
msgstr ""
"&prompt.user;<command>ssh-copy-id -i <replaceable>id-web1 user@web1</"
"replaceable></command>"

#. Tag: para
#: security_ssh.xml:818
#, no-c-format
msgid "Then try logging in with your new key:"
msgstr "あとは作成した鍵でログインを試してみるだけです:"

#. Tag: screen
#: security_ssh.xml:821
#, no-c-format
msgid ""
"&prompt.user;<command>ssh -i <replaceable>id-web1 user@web1</replaceable></"
"command>\n"
"Enter passphrase for key 'id-web1':\n"
"Last login: Sat Jul 11 11:09:53 2022 from 192.168.10.122\n"
"Have a lot of fun..."
msgstr ""
"&prompt.user;<command>ssh -i <replaceable>id-web1 user@web1</replaceable></"
"command>\n"
"Enter passphrase for key 'id-web1':\n"
"Last login: Sat Jul 11 11:09:53 2022 from 192.168.10.122\n"
"Have a lot of fun..."

#. Tag: para
#: security_ssh.xml:825
#, no-c-format
msgid ""
"You should be asked for your private key passphrase, and not the password "
"for your user account."
msgstr ""
"この場合、パスフレーズの入力を求められますが、接続先のマシンのパスワードでは"
"なく、鍵のパスフレーズを入力する必要があることに注意してください。"

#. Tag: para
#: security_ssh.xml:829
#, no-c-format
msgid ""
"To be effective, public key authentication should be enforced on the remote "
"machine, and password authentication not allowed (see <xref linkend=\"ex-"
"sshd-conf\"/> ). If you do not have public key authentication access on the "
"remote machine already, you cannot copy your new public key with "
"<command>ssh-copy-id</command> , and must use other means, such as manually "
"copying it from a USB stick to the <filename>~/.ssh/authorized_keys</"
"filename> file of the remote user account."
msgstr ""
"なお、安全性を高めたい場合は、接続先のマシンで公開鍵認証を強制して、パスワー"
"ド認証を拒否するように設定することをお勧めします (詳しくは <xref "
"linkend=\"ex-sshd-conf\"/> ) をお読みください) 。この場合、接続先のマシンに個"
"人用の公開鍵を設定していないと、 <command>ssh-copy-id</command> やその他の方"
"法での公開鍵書き込みもまた実行できなくなることに注意してください。このような"
"場合は、 USB メモリなどに公開鍵を書き込んで、接続先のマシンの <filename>~/."
"ssh/authorized_keys</filename> にコピーする作業を実施しなければなりません。"

#. Tag: title
#: security_ssh.xml:842
#, no-c-format
msgid "Passphrase-less public key authentication"
msgstr "パスフレーズ無しの公開鍵認証"

#. Tag: para
#: security_ssh.xml:843
#, no-c-format
msgid ""
"This is public key authentication without a passphrase. Create your new "
"private identity keys without a passphrase, and then use them the same way "
"as passphrase-protected keys. This is useful for automated services, such as "
"scripts and cron jobs. However, anyone who succeeds in stealing the private "
"key can easily masquerade as you, so you need to be protective of a "
"passphrase-less private key."
msgstr ""
"これは機密鍵に対してパスフレーズを設定せずに公開鍵認証を使用する方式です。パ"
"スフレーズを指定せずに新しい鍵を作成したあとは、パスフレーズ付きの鍵と同じ手"
"順で鍵を使用することができます。これは特にスクリプトや cron ジョブなどの自動"
"化されたサービスで便利な方式です。ただし、機密鍵はきちんと保護しておかない"
"と、容易にそのユーザになりすましてログインできてしまうので、注意が必要です。"

#. Tag: para
#: security_ssh.xml:851
#, no-c-format
msgid ""
"An alternative to using keys without passphrases is <literal>gnome-keyring</"
"literal> , which remembers and applies your private keys and passphrases for "
"you. <literal>gnome-keyring</literal> is for GNOME desktop sessions ( <xref "
"linkend=\"sec-ssh-gnome-keyring\"/> )."
msgstr ""
"なお、パスフレーズ無しで鍵を使用するもう 1 つの方法として、 <literal>gnome-"
"keyring</literal> があります。こちらは機密鍵のパスフレーズを記憶して、必要に"
"応じて適用を行うことができます。 <literal>gnome-keyring</literal> は GNOME デ"
"スクトップセッション向けの仕組みです (詳しくは <xref linkend=\"sec-ssh-gnome-"
"keyring\"/> をお読みください) 。"

#. Tag: para
#: security_ssh.xml:858
#, no-c-format
msgid ""
"For console sessions, use <literal>ssh-agent</literal> ( <xref linkend=\"sec-"
"ssh-authentic-agent\"/> )."
msgstr ""
"コンソールセッションの場合は <literal>ssh-agent</literal> を使用することがで"
"きます (詳しくは <xref linkend=\"sec-ssh-authentic-agent\"/> をお読みくださ"
"い) 。"

#. Tag: title
#: security_ssh.xml:865
#, no-c-format
msgid "OpenSSH certificate authentication"
msgstr "OpenSSH での証明書認証"

#. Tag: para
#: security_ssh.xml:866
#, no-c-format
msgid ""
"OpenSSH introduced certificate authentication in OpenSSH 5.4. Certificate "
"authentication is similar to public key authentication, except hosts and "
"users authenticate to each other with digitally signed encryption "
"certificates instead of encryption keys. Certificate authentication provides "
"central management for server and user certificates, eliminating the need to "
"manually copy user public keys to multiple hosts. It increases security by "
"giving more control to administrators, and less to users."
msgstr ""
"OpenSSH 5.4 およびそれ以降のバージョンでは、証明書による認証を行うことができ"
"ます。証明書認証は公開鍵認証と似ていますが、ホストとユーザとの間で認証を行う"
"にあたって、単純な暗号鍵ではなくデジタル署名された証明書を使用します。証明書"
"認証はサーバとユーザとの間の認証を集中管理することができますので、いちいち公"
"開鍵を接続先のホストにコピーするような手間も発生しません。また、管理者側での"
"制御もできるようになりますので、より管理者側に権力を集中させることができま"
"す。"

#. Tag: para
#: security_ssh.xml:876
#, no-c-format
msgid ""
"Certificates consist of a public encryption key, a user-defined identity "
"string, zero or more user names or host names, and other options. User and "
"host public keys are signed by a Certificate Authority (CA) private signing "
"key to create an encryption certificate. Users and hosts trust the public CA "
"key, rather than trusting individual user and host public encryption keys."
msgstr ""
"証明書には公開暗号鍵のほか、ユーザ定義の識別文字列やユーザ名、ホスト名などを"
"必要に応じて含めることができます。ユーザ側とホスト側の公開鍵にはいずれも証明"
"機関 (CA) による署名が付与され、これによって正当性を確認できるようになりま"
"す。つまり、ユーザ側もホスト側も、 CA の公開鍵を信頼しているだけで認証が成立"
"しますので、わざわざユーザやホストごとに信頼を設定する必要もありません。"

#. Tag: para
#: security_ssh.xml:884
#, no-c-format
msgid ""
"Traditional OpenSSH public key authentication requires copying user public "
"keys to every SSH server they need access to (to the appropriate "
"<filename>~/.ssh/authorized_keys</filename> files), and relying on users to "
"verify new SSH server host keys before accepting them (stored in "
"<filename>~/.ssh/known_hosts</filename> ). This is error-prone and "
"complicated to manage. Another disadvantage is OpenSSH keys never expire. "
"When you need to revoke a particular public key, you have to find and remove "
"all its copies on your network."
msgstr ""
"また、 OpenSSH の公開鍵認証の場合、ユーザの公開鍵をそれぞれ接続したい SSH "
"サーバにコピーしていく手間がある (通常は <filename>~/.ssh/authorized_keys</"
"filename> ファイルに保存されます) ほか、ユーザ側でもホスト鍵を受け付ける (通"
"常は <filename>~/.ssh/known_hosts</filename> ファイルに保存されます) 必要があ"
"りました。このような構成では操作ミスを引き起こすことがあるほか、管理上も面倒"
"な存在でした。また、このような公開鍵認証では鍵の有効期限が設定できませんの"
"で、新しい鍵に入れ替えたい場合は、ネットワーク内に存在する鍵を削除していく手"
"間もありました。"

#. Tag: para
#: security_ssh.xml:894
#, no-c-format
msgid ""
"Automating the whole process (for example, with Ansible) is virtually a "
"necessity. Large organizations, such as Meta (see <link xlink:href=\"https://"
"engineering.fb.com/2016/09/12/security/scalable-and-secure-access-with-ssh/"
"\"/> ), automate the process completely, so they can revoke and replace "
"certificates, and even certificate authorities, as often as they want "
"without disrupting operations."
msgstr ""
"大企業では、このような手間を全体的に削減して自動化する仕組み (たとえば "
"Ansible など) が必要でした。たとえば Meta 社 (詳しくは <link xlink:"
"href=\"https://engineering.fb.com/2016/09/12/security/scalable-and-secure-"
"access-with-ssh/\"/> (英語) をお読みください) では、この仕組みを完全に自動化"
"して、証明書を失効させて置き換えることができるようになっているほか、証明機関"
"自身も自動化することで、業務の手間とならない仕組みを構成しています。"

#. Tag: para
#: security_ssh.xml:902
#, no-c-format
msgid ""
"A prerequisite is the ability to open SSH sessions to all hosts on your "
"network, and perform tasks like editing configuration files and restarting "
"<systemitem class=\"daemon\">sshd</systemitem> ."
msgstr ""
"なお、事前に実施しておかなければならない作業として、ネットワーク内に存在する"
"全てのホストに SSH 接続して設定ファイルを編集し、 <systemitem "
"class=\"daemon\">sshd</systemitem> を再起動する必要があります。"

#. Tag: para
#: security_ssh.xml:906
#, no-c-format
msgid ""
"Setting up an OpenSSH certificate authority involves the following steps:"
msgstr "OpenSSH での証明機関構築は、下記のような手順で行います:"

#. Tag: para
#: security_ssh.xml:911
#, no-c-format
msgid ""
"Set up a secure trusted server to host your certificate authority, for "
"signing host and user keys. Create a new key pair for signing keys. The "
"private key signs user and host keys, and the public key is copied to all "
"users who are allowed access to the server."
msgstr ""
"機密の保持できる信頼できるサーバを構築して、そこに証明機関を配置します。まず"
"は証明機関自身の鍵対を作成して、この機密鍵でユーザ鍵やホスト鍵への署名を行う"
"とともに、公開鍵はサーバへのアクセスを許可する全てのユーザに配布します。"

#. Tag: para
#: security_ssh.xml:919
#, no-c-format
msgid ""
"Receive and sign host public keys, then distribute the new host certificates "
"to their respective hosts. Host certificates go in <filename>/etc/ssh</"
"filename> , just like host keys."
msgstr ""
"次にホスト側の公開鍵を集めて、証明機関で署名を実施したあと、作成された証明書"
"をそれぞれのホストに返します。発行されたホストの証明書は、ホスト鍵と同様に "
"<filename>/etc/ssh</filename> 内に配置します。"

#. Tag: para
#: security_ssh.xml:926
#, no-c-format
msgid ""
"Receive and sign user public keys, then distribute the new user certificates "
"to their owners. User certificates go in <filename>~/.ssh</filename> , just "
"like user keys."
msgstr ""
"次にユーザ側の公開鍵を集めて、証明機関で署名を実施したあと、作成された証明書"
"を各ユーザに返します。ユーザ側の証明書は、ユーザ鍵と同様に <filename>~/.ssh</"
"filename> 内に配置します。"

#. Tag: para
#: security_ssh.xml:933
#, no-c-format
msgid ""
"Edit configuration files on servers and users' machines, and stop and start "
"<systemitem class=\"daemon\">sshd</systemitem> on hosts as necessary."
msgstr ""
"サーバ側、ユーザ側の各マシンで設定ファイルを編集して、必要であれば "
"<systemitem class=\"daemon\">sshd</systemitem> を再起動します。"

#. Tag: para
#: security_ssh.xml:940
#, no-c-format
msgid ""
"Revoke certificates as needed, for example when you suspect a certificate "
"has been compromised, a user has left your organization, or a server has "
"been retired. Revoking a certificate is considerably simpler than finding "
"and removing all relevant public key copies."
msgstr ""
"なお、発行した証明書は、機密鍵が漏洩したり、ユーザが組織を脱退したり、サーバ"
"を退役させたりした場合に失効処理を実施します。証明書の失効処理は、ネットワー"
"ク内に配布した公開鍵を削除して回るよりは比較的簡単です。"

#. Tag: para
#: security_ssh.xml:948
#, no-c-format
msgid ""
"Users and server admins create and protect their own OpenSSH keys. It is "
"safe to freely share public keys. It is safe to transfer the new "
"certificates by insecure methods, such as email, because they require their "
"private keys to validate."
msgstr ""
"なお、ユーザ側・サーバ側の管理者とも、それぞれの OpenSSH 鍵はきちんと保護して"
"ください。ただし、公開鍵は自由に公開してかまいません。電子メールなどの機密の"
"保護できない方式で公開鍵を送信しても、機密鍵が保護されている限り問題はありま"
"せん。"

#. Tag: para
#: security_ssh.xml:954
#, no-c-format
msgid ""
"SSH certificates follow the OpenPGP standard, rather than SSL/TLS, and that "
"the certificate format is OpenPGP, not X.509."
msgstr ""
"ただし、 SSH での証明書は SSL/TLS ではなく OpenPGP の標準に従っていることに注"
"意してください。これにより、証明書の形式は X.509 ではなく、 OpenPGP 形式に"
"なっています。"

#. Tag: title
#: security_ssh.xml:960
#, no-c-format
msgid "Setting up a new certificate authority"
msgstr "新しい証明機関の構築"

#. Tag: para
#: security_ssh.xml:961
#, no-c-format
msgid ""
"This section describes how to set up a new certificate authority (CA). Give "
"careful consideration to organizing your CA, to keep it manageable and "
"efficient."
msgstr ""
"本章では、新しい証明機関 (CA) を構築する手順を説明しています。なお、証明機関"
"を構築するにあたっては、管理の容易さや効率性を考えておくことをお勧めします。"

#. Tag: title
#: security_ssh.xml:967
#, no-c-format
msgid "Protect your certificate authority"
msgstr "証明機関自身の保護について"

#. Tag: para
#: security_ssh.xml:968
#, no-c-format
msgid ""
"It is important to protect the machine that hosts your certificate "
"authority. Your CA is literally the key to your entire network. Anyone who "
"gains access to your CA can create their own certificates and freely access "
"your network resources, or even compromise your servers and the CA itself. A "
"common practice is to use a dedicated machine that is started only when you "
"need to sign keys."
msgstr ""
"証明機関を設置するホストに対しては、注意深く構成するようにしてください。これ"
"は、証明機関は組織全体に対する認証の中枢となるためです。もしも証明機関に対し"
"て不正にアクセスできてしまうと、発行した証明書の安全性が損なわれるため、ネッ"
"トワーク内のコンピュータに対して自由にアクセスを許す結果になってしまうばかり"
"か、サーバや証明機関自身を騙して証明書を偽造することもできてしまいます。その"
"ため、証明機関を設置するホストはそれ専用のコンピュータとして配置し、証明書の"
"発行に必要なサービスのみを動作させるようにしてください。"

#. Tag: para
#: security_ssh.xml:978
#, no-c-format
msgid ""
"It is a best practice to create one signing key for servers, and another "
"signing key for clients. If you have a large number of certificates to "
"manage, it can be helpful to create your CAs for hosts and clients on "
"separate machines. If you prefer using a single machine, give each CA its "
"own directory. The examples in this section use <filename>/ca-ssh-hosts</"
"filename> and <filename>/ca-ssh-users</filename> . The example machine is "
"<replaceable>ca.example.com</replaceable> ."
msgstr ""
"また、サーバ向けとその他向けで別々の署名鍵を設定してもかまいません。管理すべ"
"き証明書の数が多い場合は、サーバ向けとクライアント向けで別々の証明機関のマシ"
"ンを構築することもできます。同じマシン内に複数の証明機関を構築する場合は、"
"別々のディレクトリ内でもかまいません。本章の例では、 <filename>/ca-ssh-"
"hosts</filename> と <filename>/ca-ssh-users</filename> というディレクトリ内に"
"それぞれの証明機関を構築しています。また、ホスト名は <replaceable>ca.example."
"com</replaceable> という名前を使用しています。"

#. Tag: para
#: security_ssh.xml:988
#, no-c-format
msgid ""
"If your security policy requires keeping copies of users' and host's public "
"keys, store them in their own subdirectories, for easier tracking and "
"avoiding key name collisions."
msgstr ""
"なお、セキュリティポリシー上の理由から、ユーザやサーバに対する公開鍵のコピー"
"を保持しておく必要がある場合は、それぞれサブディレクトリを作成して保存するよ"
"うにしてください。これにより、追跡が容易にできるほか、名前の衝突を防ぐことに"
"も繋がります。"

#. Tag: title
#: security_ssh.xml:994
#, no-c-format
msgid "RSA signing keys deprecated"
msgstr "RSA 署名鍵の廃止予定について"

#. Tag: para
#: security_ssh.xml:995
#, no-c-format
msgid ""
"OpenSSH 8.2, released February 2020, deprecates RSA signing keys. Use "
"Ed25519 or ECDSA."
msgstr ""
"2020 年 2 月に公開された OpenSSH 8.2 もしくはそれ以降のバージョンでは、 RSA "
"による署名鍵は廃止予定とされています。 Ed25519 もしくは ECDSA をお使いくださ"
"い。"

#. Tag: para
#: security_ssh.xml:1000
#, no-c-format
msgid ""
"The following examples create two signing keys, one for signing host keys, "
"and one for user keys. Give them strong passphrases:"
msgstr ""
"下記の例では、それぞれホスト鍵に署名するための鍵と、ユーザ鍵に署名するための"
"鍵をそれぞれ作成しています。それぞれには強力なパスフレーズを設定してください:"

#. Tag: screen
#: security_ssh.xml:1004
#, no-c-format
msgid ""
"&prompt.sudo;<command>ssh-keygen -t ed25519 -f <replaceable>/ca-ssh-hosts/ca-"
"host-sign-key -C \"signing key for host certificates\"</replaceable></"
"command>\n"
"Generating public/private ed25519 key pair.\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in ca-host-sign-key\n"
"Your public key has been saved in ca-host-sign-key.pub\n"
"The key fingerprint is:\n"
"SHA256:STuQ7HgDrPcEa7ybNIW0n6kPbj28X5HN8GgwllBbAt0\n"
" signing key for host certificates\n"
"The key's randomart image is:\n"
"+--[ED25519 256]--+\n"
"|      o+o..      |\n"
"|   . . o.=E      |\n"
"|    = + B .      |\n"
"|   + O + = B     |\n"
"|  . O * S = +    |\n"
"|   o B + o .     |\n"
"|    =o=   .      |\n"
"|   o.*+  .       |\n"
"|   .=.o+.        |\n"
"+----[SHA256]-----+\n"
msgstr ""
"&prompt.sudo;<command>ssh-keygen -t ed25519 -f <replaceable>/ca-ssh-hosts/ca-"
"host-sign-key -C \"signing key for host certificates\"</replaceable></"
"command>\n"
"Generating public/private ed25519 key pair.\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in ca-host-sign-key\n"
"Your public key has been saved in ca-host-sign-key.pub\n"
"The key fingerprint is:\n"
"SHA256:STuQ7HgDrPcEa7ybNIW0n6kPbj28X5HN8GgwllBbAt0\n"
" signing key for host certificates\n"
"The key's randomart image is:\n"
"+--[ED25519 256]--+\n"
"|      o+o..      |\n"
"|   . . o.=E      |\n"
"|    = + B .      |\n"
"|   + O + = B     |\n"
"|  . O * S = +    |\n"
"|   o B + o .     |\n"
"|    =o=   .      |\n"
"|   o.*+  .       |\n"
"|   .=.o+.        |\n"
"+----[SHA256]-----+\n"

#. Tag: screen
#: security_ssh.xml:1027
#, no-c-format
msgid ""
"&prompt.sudo;<command>ssh-keygen -t ed25519 -f <replaceable>/ca-ssh-users/ca-"
"user-sign-key -C \"signing key for user certificates\"</replaceable></"
"command>\n"
"Generating public/private ed25519 key pair.\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in ca-user-sign-key\n"
"Your public key has been saved in ca-user-sign-key.pub\n"
"The key fingerprint is:\n"
"SHA256:taYj8tTnjkzgfHRvQ6HTj8a37PY6rwv96V1x+GHRjIk signing key for user "
"certificates\n"
"The key's randomart image is:\n"
"+--[ED25519 256]--+\n"
"|                 |\n"
"|             . +.|\n"
"|          . E o.o|\n"
"|         . + . ..|\n"
"|      . S * o .+.|\n"
"|     o + + = +..+|\n"
"|    . = * . O + o|\n"
"|     + = = o =oo+|\n"
"|      . o.o  oOX=|\n"
"+----[SHA256]-----+\n"
" "
msgstr ""
"&prompt.sudo;<command>ssh-keygen -t ed25519 -f <replaceable>/ca-ssh-users/ca-"
"user-sign-key -C \"signing key for user certificates\"</replaceable></"
"command>\n"
"Generating public/private ed25519 key pair.\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in ca-user-sign-key\n"
"Your public key has been saved in ca-user-sign-key.pub\n"
"The key fingerprint is:\n"
"SHA256:taYj8tTnjkzgfHRvQ6HTj8a37PY6rwv96V1x+GHRjIk signing key for user "
"certificates\n"
"The key's randomart image is:\n"
"+--[ED25519 256]--+\n"
"|                 |\n"
"|             . +.|\n"
"|          . E o.o|\n"
"|         . + . ..|\n"
"|      . S * o .+.|\n"
"|     o + + = +..+|\n"
"|    . = * . O + o|\n"
"|     + = = o =oo+|\n"
"|      . o.o  oOX=|\n"
"+----[SHA256]-----+\n"
" "

#. Tag: para
#: security_ssh.xml:1048
#, no-c-format
msgid ""
"Copy your public user signing key (be sure you are copying the PUBLIC key) "
"to <filename>/etc/ssh</filename> on all hosts running SSH servers. Then "
"enter the full path of the public user signing key to <filename>/etc/ssh/"
"sshd_config</filename> on the hosts:"
msgstr ""
"鍵を作成したら、署名鍵 (公開鍵であることをよくお確かめください) を SSH サーバ"
"の動作する全てのホスト内の <filename>/etc/ssh</filename> 内にコピーします。あ"
"とは全てのホスト内の <filename>/etc/ssh/sshd_config</filename> ファイルを編集"
"して、署名鍵を指定しておきます:"

#. Tag: screen
#: security_ssh.xml:1054
#, no-c-format
msgid ""
"TrustedUserCAKeys <replaceable>/etc/ssh/ca-user-sign-key.pub</replaceable>\n"
msgstr ""
"TrustedUserCAKeys <replaceable>/etc/ssh/ca-user-sign-key.pub</replaceable>\n"

#. Tag: para
#: security_ssh.xml:1056
#, no-c-format
msgid "Then restart <systemitem class=\"daemon\">sshd</systemitem> ."
msgstr ""
"ファイルを保存したら、 <systemitem class=\"daemon\">sshd</systemitem> を再起"
"動します。"

#. Tag: title
#: security_ssh.xml:1062
#, no-c-format
msgid "Creating host certificates"
msgstr "サーバ証明書の作成"

#. Tag: para
#: security_ssh.xml:1063
#, no-c-format
msgid ""
"The following example signs a host public key to create a host certificate "
"for a database server:"
msgstr ""
"下記の例では、データベースサーバ (<replaceable>db-server</replaceable>) のホ"
"スト公開鍵に対して、署名を付与しています:"

#. Tag: screen
#: security_ssh.xml:1067
#, no-c-format
msgid ""
"&prompt.sudo;<command>ssh-keygen -s <replaceable>/ca-ssh-hosts/ca-host-sign-"
"key</replaceable></command> \\\n"
"   <command>-n <replaceable>&wsII;,&wsIIname;</replaceable> -I "
"<replaceable>\"db-server host cert\"</replaceable></command> \\\n"
"   <command>-h -V +4w <replaceable>/etc/ssh/ssh_host_ed25519_key.pub</"
"replaceable></command>\n"
"Enter passphrase:\n"
"Signed host key /etc/ssh/ssh_host_ed25519_key-cert.pub: id\n"
"\"db-server host cert\" serial 0 for venus,venus.example.com\n"
"valid from 2022-08-08T14:20:00 to 2022-09-05T15:21:19\n"
"    "
msgstr ""
"&prompt.sudo;<command>ssh-keygen -s <replaceable>/ca-ssh-hosts/ca-host-sign-"
"key</replaceable></command> \\\n"
"   <command>-n <replaceable>&wsII;,&wsIIname;</replaceable> -I "
"<replaceable>\"db-server host cert\"</replaceable></command> \\\n"
"   <command>-h -V +4w <replaceable>/etc/ssh/ssh_host_ed25519_key.pub</"
"replaceable></command>\n"
"Enter passphrase:\n"
"Signed host key /etc/ssh/ssh_host_ed25519_key-cert.pub: id\n"
"\"db-server host cert\" serial 0 for venus,venus.example.com\n"
"valid from 2022-08-08T14:20:00 to 2022-09-05T15:21:19\n"
"    "

#. Tag: para
#: security_ssh.xml:1075
#, no-c-format
msgid "If there is more than one host key on a server, sign them all."
msgstr ""
"サーバ内に複数の鍵が存在する場合は、全ての鍵に対して署名を実施してください。"

#. Tag: para
#: security_ssh.xml:1080
#, no-c-format
msgid "<option>-s</option> is your private signing key."
msgstr "<option>-s</option> では機密鍵を指定しています。"

#. Tag: para
#: security_ssh.xml:1085
#, no-c-format
msgid ""
"<option>-n</option> is your list of principals. For host certificates, the "
"principals are the machine's host name and fully qualified domain name."
msgstr ""
"<option>-n</option> ではプリンシパル名を指定しています。ホスト鍵の場合、ここ"
"には完全修飾ドメイン名によるマシンのホスト名を指定します。"

#. Tag: para
#: security_ssh.xml:1092
#, no-c-format
msgid ""
"<option>-I</option> is the identity string. This is any comment or "
"description you want. The string is logged, to help you quickly find "
"relevant log entries."
msgstr ""
"<option>-I</option> では識別用の文字列を指定しています。ここはコメント欄です"
"ので、わかりやすい説明を記述してください。また、この文字列はログにも記録され"
"ますので、ログ内を検索したい場合にも有用です。"

#. Tag: para
#: security_ssh.xml:1099
#, no-c-format
msgid "<option>-h</option> creates a host certificate."
msgstr "<option>-h</option> ではホスト鍵の証明書であることを指定しています。"

#. Tag: para
#: security_ssh.xml:1104
#, no-c-format
msgid ""
"<option>-V</option> sets the expiration date for the certificate. In the "
"example, the certificate expires in four weeks. (See the \"-V "
"validity_interval\" section of <command>man 1 ssh-keygen</command> for "
"allowed time formats.)"
msgstr ""
"<option>-V</option> では証明書の有効期限を指定しています。この例では、証明書"
"は 4 週間後になっています (指定可能な期間については、 <command>man 1 ssh-"
"keygen</command> 内の \"-V validity_interval\" の章 (英語) をお読みくださ"
"い) 。"

#. Tag: para
#: security_ssh.xml:1112
#, no-c-format
msgid "Verify that your new certificate is built the way you want:"
msgstr "あとは発行された証明書が正しいことを確認します:"

#. Tag: screen
#: security_ssh.xml:1115
#, no-c-format
msgid ""
"&prompt.user;<command>ssh-keygen -Lf /etc/ssh/ssh_host_ed25519_key-cert.pub</"
"command>\n"
" /etc/ssh/ssh_host_ed25519_key-cert.pub:\n"
"        Type: ssh-ed25519-cert-v01@openssh.com host certificate\n"
"        Public key: ED25519-CERT SHA256:/\n"
"         U7C+qABXYyuvueUuhFKzzVINq3d7IULRLwBstvVC+Q\n"
"        Signing CA: ED25519 SHA256:\n"
"         STuQ7HgDrPcEa7ybNIW0n6kPbj28X5HN8GgwllBbAt0 (using ssh-ed25519)\n"
"        Key ID: \"db-server host cert\"\n"
"        Serial: 0\n"
"        Valid: from 2022-08-08T14:20:00 to 2022-09-05T15:21:19\n"
"        Principals:\n"
"                venus\n"
"                venus.example.com\n"
"        Critical Options: (none)\n"
"        Extensions: (none)\n"
"    "
msgstr ""
"&prompt.user;<command>ssh-keygen -Lf /etc/ssh/ssh_host_ed25519_key-cert.pub</"
"command>\n"
" /etc/ssh/ssh_host_ed25519_key-cert.pub:\n"
"        Type: ssh-ed25519-cert-v01@openssh.com host certificate\n"
"        Public key: ED25519-CERT SHA256:/\n"
"         U7C+qABXYyuvueUuhFKzzVINq3d7IULRLwBstvVC+Q\n"
"        Signing CA: ED25519 SHA256:\n"
"         STuQ7HgDrPcEa7ybNIW0n6kPbj28X5HN8GgwllBbAt0 (using ssh-ed25519)\n"
"        Key ID: \"db-server host cert\"\n"
"        Serial: 0\n"
"        Valid: from 2022-08-08T14:20:00 to 2022-09-05T15:21:19\n"
"        Principals:\n"
"                venus\n"
"                venus.example.com\n"
"        Critical Options: (none)\n"
"        Extensions: (none)\n"
"    "

#. Tag: para
#: security_ssh.xml:1131
#, no-c-format
msgid ""
"Add the full path of the new host certificate to <filename>/etc/ssh/"
"sshd_config</filename> , to make it available to clients:"
msgstr ""
"あとは発行された証明書のフルパスを <filename>/etc/ssh/sshd_config</filename> "
"で指定して、クライアント側に送信するようにします:"

#. Tag: screen
#: security_ssh.xml:1136
#, no-c-format
msgid ""
"HostCertificate <replaceable>/etc/ssh/ssh_host_ed25519_key-cert.pub</"
"replaceable>"
msgstr ""
"HostCertificate <replaceable>/etc/ssh/ssh_host_ed25519_key-cert.pub</"
"replaceable>"

#. Tag: para
#: security_ssh.xml:1137
#, no-c-format
msgid ""
"Restart <systemitem class=\"daemon\">sshd</systemitem> to load your changes:"
msgstr ""
"ファイルを保存したら、 <systemitem class=\"daemon\">sshd</systemitem> を再起"
"動します:"

#. Tag: screen
#: security_ssh.xml:1141
#, no-c-format
msgid "&prompt.sudo;<command>systemctl restart sshd.service</command>"
msgstr "&prompt.sudo;<command>systemctl restart sshd.service</command>"

#. Tag: para
#: security_ssh.xml:1142
#, no-c-format
msgid ""
"See <xref linkend=\"sec-ssh-certificate-user-config\"/> to learn how to "
"configure clients to accept host certificates."
msgstr ""
"ホストの証明書をクライアント側で受け付ける方法については、 <xref "
"linkend=\"sec-ssh-certificate-user-config\"/> をお読みください。"

#. Tag: title
#: security_ssh.xml:1150
#, no-c-format
msgid "CA configuration for users"
msgstr "ユーザ向けの CA 設定"

#. Tag: para
#: security_ssh.xml:1151
#, no-c-format
msgid ""
"The following example shows how to configure clients to trust your CA rather "
"than individual keys. The example grants access to a single server. This "
"entry must be on a single unbroken line in your users' <filename>~/.ssh/"
"known_hosts</filename> files. Move the original <filename>~/.ssh/"
"known_hosts</filename> file, and create a new file that contains only the CA "
"configuration. Or, create a global configuration in <filename>/etc/ssh/"
"ssh_known_hosts</filename> , which has the advantage of being un-editable by "
"unprivileged users:"
msgstr ""
"下記の例では、クライアント側で個別の鍵ではなく証明機関で署名された鍵を受け付"
"ける設定を示しています。下記の例では単一のサーバに対してのみアクセスを許可し"
"ています。また、下記の設定は <filename>~/.ssh/known_hosts</filename> 内で改行"
"せず 1 行で記述する必要があることに注意してください。また、既に <filename>~/."
"ssh/known_hosts</filename> ファイルが存在する場合は、ファイル名を変更して残し"
"ておき、下記の証明機関設定のみを含むようにしてください。なお、 <filename>/"
"etc/ssh/ssh_known_hosts</filename> ファイルに証明機関を設定する方法もあります"
"が、こちらを編集するには管理者権限が必要となります:"

#. Tag: screen
#: security_ssh.xml:1161
#, no-c-format
msgid ""
"@cert-authority db,db.example.com ssh-ed25519\n"
" AAAAC3NzaC1lZDI1NTE5AAAAIH1pF6DN4BdsfUKWuyiGt/leCvuZ/fPu\n"
" YxY7+4V68Fz0 signing key for user certificates\n"
"   "
msgstr ""
"@cert-authority db,db.example.com ssh-ed25519\n"
" AAAAC3NzaC1lZDI1NTE5AAAAIH1pF6DN4BdsfUKWuyiGt/leCvuZ/fPu\n"
" YxY7+4V68Fz0 signing key for user certificates\n"
"   "

#. Tag: para
#: security_ssh.xml:1165
#, no-c-format
msgid ""
"List each server the user is allowed to access in a comma-delimited list, "
"for example <literal><replaceable>&wsII;,&wsIIname;,&wsIII;,&wsIIIname;</"
"replaceable></literal> . You may also grant access to all servers in domains "
"with wildcards, for example <literal>*.example.com,*.example2.com</literal> ."
msgstr ""
"サーバを複数指定する場合は、カンマ区切りで指定してください。たとえば "
"<literal><replaceable>&wsII;,&wsIIname;,&wsIII;,&wsIIIname;</replaceable></"
"literal> のようになります。ワイルドカードを利用して <literal>*.example.com,*."
"example2.com</literal> のように指定し、ドメイン内の全てのサーバに対してアクセ"
"スを許可することもできます。"

#. Tag: para
#: security_ssh.xml:1172
#, no-c-format
msgid ""
"Try connecting to the server. You should be prompted for the password of the "
"remote account, without being prompted to verify the host certificate."
msgstr ""
"あとは実際にサーバに接続してみてください。ホスト鍵の受け付けを促すプロンプト"
"が表示されず、そのままパスワード入力を求められれば成功です。"

#. Tag: title
#: security_ssh.xml:1180
#, no-c-format
msgid "Creating user certificates"
msgstr "ユーザ証明書の作成"

#. Tag: para
#: security_ssh.xml:1181
#, no-c-format
msgid "Sign the user's public key:"
msgstr "下記のようにしてユーザの公開鍵に署名を付与します:"

#. Tag: screen
#: security_ssh.xml:1184
#, no-c-format
msgid ""
"&prompt.sudo;<command>ssh-keygen <replaceable>/ca-ssh-hosts/ca-user-sign-key "
"-I \"suzanne's cert\" -n &exampleuserIII_plain; -V +52w user-key.pub</"
"replaceable></command>\n"
" Signed user key .ssh/ed25519key-cert.pub: id \"suzanne's cert\" serial 0\n"
" for suzanne valid from 2022-09-14T12:57:00 to 2023-09-13T12:58:21\n"
msgstr ""
"&prompt.sudo;<command>ssh-keygen <replaceable>/ca-ssh-hosts/ca-user-sign-key "
"-I \"suzanne's cert\" -n &exampleuserIII_plain; -V +52w user-key.pub</"
"replaceable></command>\n"
" Signed user key .ssh/ed25519key-cert.pub: id \"suzanne's cert\" serial 0\n"
" for suzanne valid from 2022-09-14T12:57:00 to 2023-09-13T12:58:21\n"

#. Tag: para
#: security_ssh.xml:1188
#, no-c-format
msgid ""
"The principal on user certificates is always the username. Store the user's "
"certificate in <filename>~/.ssh</filename> on the user's machine."
msgstr ""
"ここで、プリンシパル名は必ずユーザ名でなければならないことに注意してくださ"
"い。また、発行した証明書はユーザ側のマシンの <filename>~/.ssh</filename> 内に"
"保存してください。"

#. Tag: para
#: security_ssh.xml:1192
#, no-c-format
msgid ""
"User certificates replace the <filename>~/.ssh/authorized_keys</filename> "
"files. Remove this file from a user account on the remote machine, then try "
"opening an SSH session to that account. You should be able to log in without "
"being prompted for a password. (Remember, the server should have a "
"<literal>TrustedUserCAKeys /etc/ssh/<replaceable>ca-user-sign-key.pub</"
"replaceable></literal> line in its <filename>/etc/ssh/sshd_config</filename> "
"file, so that the server knows to trust your certificate authority.)"
msgstr ""
"ユーザの証明書を発行すれば、サーバ側の <filename>~/.ssh/authorized_keys</"
"filename> ファイルは不要になります。サーバ側のこのファイルを削除したあと、 "
"SSH で接続しなおしてみてください。パスワード入力を求められることなくログイン"
"できるようになるはずです (なお、サーバ側の <filename>/etc/ssh/sshd_config</"
"filename> ファイルで、 <literal>TrustedUserCAKeys /etc/ssh/<replaceable>ca-"
"user-sign-key.pub</replaceable></literal> を設定していることをご確認くださ"
"い。この設定で、信頼すべき証明機関を設定しています) 。"

#. Tag: para
#: security_ssh.xml:1202
#, no-c-format
msgid ""
"Additionally, look for <literal>Accepted publickey for "
"<replaceable>&exampleuserIII_plain;</replaceable></literal> messages in your "
"log files."
msgstr ""
"また、サーバ内のログファイルに <literal>Accepted publickey for "
"<replaceable>&exampleuserIII_plain;</replaceable></literal> が記録されている"
"ことも確認しておくとよいでしょう。"

#. Tag: title
#: security_ssh.xml:1210
#, no-c-format
msgid "Revoking host keys"
msgstr "ホスト鍵の失効処理"

#. Tag: para
#: security_ssh.xml:1211
#, no-c-format
msgid ""
"When you need to revoke a certificate because a server has been compromised "
"or retired, add the certificate's corresponding public key to a file on "
"every client, for example <filename>/etc/ssh/revoked_keys</filename> :"
msgstr ""
"サーバが不正侵入を受けたり退役したりした場合は、証明書の失効処理を実施してホ"
"スト鍵の利用を停止する必要があります。このような場合は、各クライアント側の "
"<filename>/etc/ssh/revoked_keys</filename> ファイルなどに対応する公開鍵を指定"
"します:"

#. Tag: screen
#: security_ssh.xml:1217
#, no-c-format
msgid ""
"ssh-ed25519-cert-v01@openssh.com\n"
"    AAAAIHNzaC1lZDI1NTE5LWNlcnQtdjAxQG9wZW5zc2guY29tAAAAIK6hyvFAhFI+0hkKehF/\n"
"    506fD1VdcW29ykfFJn1CPK9lAAAAIAawaXbbEFiQOAe5LGclrCHSLWbEeUauK5+CAuhTJyz0\n"
"    AAAAAAAAAAAAAAACAAAAE2RiLXNlcnZlciBob3N0IGNlcnQAAAAeAAAABXZlbnVzAAAAEXZl\n"
"    bnVzLmV4YW1wbGUuY29tAAAAAGMabhQAAAAAYz9YgQAAAAAAAAAAAAAAAAAAADMAAAALc3No\n"
"    LWVkMjU1MTkAAAAgfWkXoM3gF2x9Qpa7KIa3+V4K+5n98+5jFjv7hXrwXPQAAABTAAAAC3Nz\n"
"    aC1lZDI1NTE5AAAAQI+mbJsQjt/9bLiURse8DF3yTa6Yk3HpoE2uf9FW/\n"
"    KeLsw2wPeDv0d6jv49Wgr5T3xHYPf+VPJQW35ntFiHTlQg= root@db\n"
"   "
msgstr ""
"ssh-ed25519-cert-v01@openssh.com\n"
"    AAAAIHNzaC1lZDI1NTE5LWNlcnQtdjAxQG9wZW5zc2guY29tAAAAIK6hyvFAhFI+0hkKehF/\n"
"    506fD1VdcW29ykfFJn1CPK9lAAAAIAawaXbbEFiQOAe5LGclrCHSLWbEeUauK5+CAuhTJyz0\n"
"    AAAAAAAAAAAAAAACAAAAE2RiLXNlcnZlciBob3N0IGNlcnQAAAAeAAAABXZlbnVzAAAAEXZl\n"
"    bnVzLmV4YW1wbGUuY29tAAAAAGMabhQAAAAAYz9YgQAAAAAAAAAAAAAAAAAAADMAAAALc3No\n"
"    LWVkMjU1MTkAAAAgfWkXoM3gF2x9Qpa7KIa3+V4K+5n98+5jFjv7hXrwXPQAAABTAAAAC3Nz\n"
"    aC1lZDI1NTE5AAAAQI+mbJsQjt/9bLiURse8DF3yTa6Yk3HpoE2uf9FW/\n"
"    KeLsw2wPeDv0d6jv49Wgr5T3xHYPf+VPJQW35ntFiHTlQg= root@db\n"
"   "

#. Tag: para
#: security_ssh.xml:1226
#, no-c-format
msgid "This file must be named in <filename>/etc/ssh/sshd_config</filename> :"
msgstr ""
"上記で作成したファイルは、 <filename>/etc/ssh/sshd_config</filename> 内で下記"
"のようにして指定します:"

#. Tag: screen
#: security_ssh.xml:1229
#, no-c-format
msgid "RevokedKeys /etc/ssh/revoked_keys"
msgstr "RevokedKeys /etc/ssh/revoked_keys"

#. Tag: title
#: security_ssh.xml:1234
#, no-c-format
msgid "Automated public key logins with gnome-keyring"
msgstr "gnome-keyring を利用した公開鍵ログインの自動化"

#. Tag: para
#: security_ssh.xml:1235
#, no-c-format
msgid ""
"The <package>gnome-keyring</package> package is installed and enabled by "
"default when the GNOME desktop environment is installed. <literal>gnome-"
"keyring</literal> is integrated with your system login, automatically "
"unlocking your secrets storage at login. When you change your login "
"password, <literal>gnome-keyring</literal> automatically updates itself with "
"your new password."
msgstr ""
"GNOME デスクトップ環境をインストールすると、 <package>gnome-keyring</"
"package> パッケージも自動的にインストールされ、有効化されます。 "
"<package>gnome-keyring</package> はシステムのログインに統合され動作する仕組み"
"であるため、ログイン時に自動的に機密記憶領域の保護が解除されます。ログイン時"
"のパスワードを変更しても、 <literal>gnome-keyring</literal> はそれを自動的に"
"認識して更新処理を行います。"

#. Tag: para
#: security_ssh.xml:1243
#, no-c-format
msgid ""
"<literal>gnome-keyring</literal> automatically loads all key pairs in "
"<filename>~/.ssh</filename> , for each pair that has a <filename>*.pub</"
"filename> file. You may manually load other keys with the <command>ssh-add</"
"command> command, for example:"
msgstr ""
"<literal>gnome-keyring</literal> は <filename>~/.ssh</filename> ディレクトリ"
"内にある全ての鍵対 (<filename>*.pub</filename> の形式の公開鍵があるもの) を自"
"動的に読み込みます。その他のディレクトリ内にあるファイルを読み込みたい場合"
"は、 <command>ssh-add</command> コマンドで読み込みを行ってください。たとえば"
"下記のようになります:"

#. Tag: screen
#: security_ssh.xml:1249
#, no-c-format
msgid ""
"&prompt.user;<command>ssh-add <replaceable>~/.otherkeys/my_key</"
"replaceable></command>\n"
"   "
msgstr ""
"&prompt.user;<command>ssh-add <replaceable>~/.otherkeys/my_key</"
"replaceable></command>\n"
"   "

#. Tag: para
#: security_ssh.xml:1251
#, no-c-format
msgid "List all loaded keys:"
msgstr "読み込まれた全ての鍵を表示するには、下記のコマンドを実行します:"

#. Tag: screen
#: security_ssh.xml:1254
#, no-c-format
msgid "&prompt.user;<command>ssh-add -L</command>"
msgstr "&prompt.user;<command>ssh-add -L</command>"

#. Tag: para
#: security_ssh.xml:1255
#, no-c-format
msgid ""
"When you start up your system and then open an SSH session, you are prompted "
"for your private key passphrase."
msgstr ""
"システムを起動して SSH セッションを開くと、機密鍵のパスフレーズの入力を促され"
"ます。"

#. Tag: para
#: security_ssh.xml:1259
#, no-c-format
msgid ""
"<literal>gnome-keyring</literal> remembers the passphrase for the rest of "
"your session. You do not have to re-enter the passphrase until after a "
"system restart."
msgstr ""
"<literal>gnome-keyring</literal> はセッションを終了するまでの間パスフレーズを"
"記憶します。そのため、システムを再起動しない限り、パスフレーズを再度入力する"
"必要がなくなります。"

#. Tag: title
#: security_ssh.xml:1267
#, no-c-format
msgid "Automated public key logins with ssh-agent"
msgstr "ssh-agent を利用した公開鍵ログインの自動化"

#. Tag: para
#: security_ssh.xml:1268
#, no-c-format
msgid ""
"The <package>openssh</package> package provides the <command>ssh-agent</"
"command> utility, which retains your private keys and passphrases, and "
"automatically applies your passphrases for you during the current session."
msgstr ""
"<package>openssh</package> パッケージには <command>ssh-agent</command> という"
"ユーティリティが付属しています。このユーティリティは、セッションが終了するま"
"での間だけ機密鍵とパスフレーズを記憶して、必要なときに自動的にそれを適用する"
"ことができます。"

#. Tag: para
#: security_ssh.xml:1274
#, no-c-format
msgid ""
"Configure <command>ssh-agent</command> to start automatically and load your "
"keys by entering the following lines in your <filename>~/.profile</filename> "
"file:"
msgstr ""
"<command>ssh-agent</command> をログイン時に自動的に起動して鍵を読み込むように"
"設定したい場合は、 <filename>~/.profile</filename> ファイル内に下記のような行"
"を記述します:"

#. Tag: screen
#: security_ssh.xml:1279
#, no-c-format
msgid ""
"eval \"$(ssh-agent)\"\n"
"ssh-add"
msgstr ""
"eval \"$(ssh-agent)\"\n"
"ssh-add"

#. Tag: para
#: security_ssh.xml:1281
#, no-c-format
msgid ""
"The first line starts <command>ssh-agent</command> , and the second line "
"loads all the keys in your <filename>~/.ssh</filename> folder. When you open "
"an SSH session that requires public key authentication, you are prompted for "
"the passphrase. After the passphrase has been provided once, you do not have "
"to enter it again, until after you restart your system."
msgstr ""
"上記の行のうち、最初の行は <command>ssh-agent</command> を起動するコマンド"
"で、次の行は <filename>~/.ssh</filename> ディレクトリ内にある全ての鍵を読み込"
"むコマンドです。このように起動を行うことで、公開鍵認証が必要な SSH セッション"
"を開始すると、最初の 1 回だけはパスフレーズの入力を求められます。その後はシス"
"テムを再起動するまでパスフレーズを記憶しますので、再入力を行う必要が無くなり"
"ます。"

#. Tag: para
#: security_ssh.xml:1289
#, no-c-format
msgid ""
"You may configure <filename>~/.profile</filename> to load only specific "
"keys, like the following example that loads <filename>id_rsa</filename> and "
"<filename>id_ed25519</filename> :"
msgstr ""
"なお、特定の鍵のみを読み込むように設定したい場合は、下記のように "
"<filename>~/.profile</filename> 内で <filename>id_rsa</filename> や "
"<filename>id_ed25519</filename> のファイルを指定してください:"

#. Tag: screen
#: security_ssh.xml:1294
#, no-c-format
msgid "&prompt.user;ssh-add <replaceable>id_rsa id_ed25519</replaceable>"
msgstr "&prompt.user;ssh-add <replaceable>id_rsa id_ed25519</replaceable>"

#. Tag: title
#: security_ssh.xml:1297
#, no-c-format
msgid "Using <command>ssh-agent</command> in an X session"
msgstr "<command>ssh-agent</command> の X セッション内での利用"

#. Tag: para
#: security_ssh.xml:1298
#, no-c-format
msgid ""
"On &productname;, <command>ssh-agent</command> is automatically started by "
"the &gnome; display manager. To also invoke <command>ssh-add</command> to "
"add your keys to the agent at the beginning of an X session, do the "
"following:"
msgstr ""
"&productname; では、 &gnome; ディスプレイマネージャを起動すると <command>ssh-"
"agent</command> が自動的に開始されます。 X セッションの開始時に <command>ssh-"
"add</command> で鍵を自動的に読み込むようにしたい場合は、下記のように実施しま"
"す:"

#. Tag: para
#: security_ssh.xml:1306
#, no-c-format
msgid ""
"Log in as the desired user and check whether the file <filename>~/.xinitrc</"
"filename> exists."
msgstr ""
"まずは対象のユーザでログインし、 <filename>~/.xinitrc</filename> ファイルが存"
"在しているかどうかを確認します。"

#. Tag: para
#: security_ssh.xml:1312
#, no-c-format
msgid ""
"If it does not exist, use an existing template or copy it from <filename>/"
"etc/skel</filename> :"
msgstr ""
"ファイルが存在していない場合、既存のテンプレートを使用するか、 <filename>/"
"etc/skel</filename> 内にあるファイルをそのままコピーします:"

#. Tag: screen
#: security_ssh.xml:1316
#, no-c-format
msgid ""
"if [ -f ~/.xinitrc.template ]; then mv ~/.xinitrc.template ~/.xinitrc; \\\n"
"else cp /etc/skel/.xinitrc.template ~/.xinitrc; fi"
msgstr ""
"if [ -f ~/.xinitrc.template ]; then mv ~/.xinitrc.template ~/.xinitrc; \\\n"
"else cp /etc/skel/.xinitrc.template ~/.xinitrc; fi"

#. Tag: para
#: security_ssh.xml:1320
#, no-c-format
msgid ""
"If you have copied the template, search for the following lines and "
"uncomment them. If <filename>~/.xinitrc</filename> already existed, add the "
"following lines (without comment signs)."
msgstr ""
"テンプレートをコピーした場合は、下記のような行を探してコメント文字を削除しま"
"す。 <filename>~/.xinitrc</filename> ファイルが既に存在していた場合は、下記の"
"内容を追記します (コメント文字は削除してください)。"

#. Tag: screen
#: security_ssh.xml:1325
#, no-c-format
msgid ""
"# if test -S \"$SSH_AUTH_SOCK\" -a -x \"$SSH_ASKPASS\"; then\n"
"#       ssh-add &lt; /dev/null\n"
"# fi"
msgstr ""
"# if test -S \"$SSH_AUTH_SOCK\" -a -x \"$SSH_ASKPASS\"; then\n"
"#       ssh-add &lt; /dev/null\n"
"# fi"

#. Tag: para
#: security_ssh.xml:1330
#, no-c-format
msgid ""
"When starting a new X session, you are prompted for your SSH passphrase."
msgstr ""
"あとは新しく X セッションを開始すると、 SSH のパスフレーズ入力を求められるよ"
"うになります。"

#. Tag: title
#: security_ssh.xml:1340
#, no-c-format
msgid "Changing an SSH private key passphrase"
msgstr "SSH 機密鍵のパスフレーズ変更"

#. Tag: para
#: security_ssh.xml:1341
#, no-c-format
msgid ""
"You may change or remove the passphrase from a private key with <command>ssh-"
"keygen</command> :"
msgstr ""
"機密鍵に設定したパスフレーズを変更したり、パスフレーズを削除したりしたい場合"
"は、 <command>ssh-keygen</command> コマンドを使用します:"

#. Tag: screen
#: security_ssh.xml:1345
#, no-c-format
msgid ""
"&prompt.user;<command>ssh-keygen -pf ~/.ssh/<replaceable>server1</"
"replaceable></command>\n"
"Enter old passphrase:\n"
"Key has comment 'shared videos server1'\n"
"Enter new passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved with the new passphrase."
msgstr ""
"&prompt.user;<command>ssh-keygen -pf ~/.ssh/<replaceable>server1</"
"replaceable></command>\n"
"Enter old passphrase:\n"
"Key has comment 'shared videos server1'\n"
"Enter new passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved with the new passphrase."

#. Tag: title
#: security_ssh.xml:1354
#, no-c-format
msgid "Retrieving a key fingerprint"
msgstr "鍵の指紋 (fingerprint) の取得"

#. Tag: para
#: security_ssh.xml:1355
#, no-c-format
msgid ""
"Use the <command>ssh-keygen</command> to display the public key fingerprint. "
"The following example prints the SHA256 hash for a ED25519 key:"
msgstr ""
"<command>ssh-keygen</command> コマンドを使用することで、公開鍵の指紋を表示す"
"ることができます。下記の例では、 ED25519 鍵に対して SHA256 形式の指紋を表示し"
"ています:"

#. Tag: screen
#: security_ssh.xml:1360
#, no-c-format
msgid ""
"&prompt.user;<command>ssh-keygen -lf <replaceable>ldap-server</replaceable></"
"command>\n"
"256 SHA256:W45lbmj24ZoASbrqW0q9+NhF04muvfKZ+FkRa2cCiqo comment (ED25519)"
msgstr ""
"&prompt.user;<command>ssh-keygen -lf <replaceable>ldap-server</replaceable></"
"command>\n"
"256 SHA256:W45lbmj24ZoASbrqW0q9+NhF04muvfKZ+FkRa2cCiqo comment (ED25519)"

#. Tag: para
#: security_ssh.xml:1362
#, no-c-format
msgid ""
"Add the <command>-v</command> flag to display the ASCII art representation "
"of the key:"
msgstr ""
"<command>-v</command> フラグを指定すると、 ASCII アート形式での鍵表示を行うこ"
"ともできます:"

#. Tag: screen
#: security_ssh.xml:1366
#, no-c-format
msgid ""
"&prompt.user;<command>ssh-keygen -lvf <replaceable>ldap-server</"
"replaceable></command>\n"
"256 SHA256:W45lbmj24ZoASbrqW0q9+NhF04muvfKZ+FkRa2cCiqo comment (ED25519)\n"
"+--[ED25519 256]--+\n"
"|                 |\n"
"|                 |\n"
"|    .. .         |\n"
"|  .o..+ +        |\n"
"| ...o+ BSo+      |\n"
"|. ..o.o =X       |\n"
"|...o o..* =      |\n"
"|o.*.* =+ = .     |\n"
"|E*o*+O. o.o      |\n"
"+----[SHA256]-----+"
msgstr ""
"&prompt.user;<command>ssh-keygen -lvf <replaceable>ldap-server</"
"replaceable></command>\n"
"256 SHA256:W45lbmj24ZoASbrqW0q9+NhF04muvfKZ+FkRa2cCiqo comment (ED25519)\n"
"+--[ED25519 256]--+\n"
"|                 |\n"
"|                 |\n"
"|    .. .         |\n"
"|  .o..+ +        |\n"
"| ...o+ BSo+      |\n"
"|. ..o.o =X       |\n"
"|...o o..* =      |\n"
"|o.*.* =+ = .     |\n"
"|E*o*+O. o.o      |\n"
"+----[SHA256]-----+"

#. Tag: title
#: security_ssh.xml:1382
#, no-c-format
msgid "Starting X11 applications on a remote host"
msgstr "ネットワーク上の離れたホストでの X11 アプリケーションの起動"

#. Tag: para
#: security_ssh.xml:1383
#, no-c-format
msgid ""
"You can run graphical applications that are installed on a remote machine on "
"your local computer. <literal>X11Forwarding Yes</literal> must be set in the "
"<filename>/etc/ssh/sshd_config</filename> file on the remote machine. Then, "
"when you run <command>ssh</command> with the <option>-X</option> option, the "
"<envar>DISPLAY</envar> variable is automatically set on the remote machine, "
"and all X output is exported to the local machine over the SSH connection. "
"At the same time, X applications started remotely cannot be intercepted by "
"unauthorized users."
msgstr ""
"SSH では、ネットワーク上離れた場所にある X アプリケーションも簡単に使用するこ"
"とができます。接続先のマシンの <filename>/etc/ssh/sshd_config</filename> で "
"<literal>X11Forwarding Yes</literal> を設定しておかなければなりませんが、 "
"<command>ssh</command> コマンドに <option>-X</option> オプションを付けること"
"で、接続先の <envar>DISPLAY</envar> 変数が自動的に設定され、全ての X 出力が "
"SSH の接続を介してローカルマシンに表示されるようになります。それと同時に接続"
"先で起動された X アプリケーションは、不正に傍受されたりできないようになりま"
"す。"

#. Tag: para
#: security_ssh.xml:1394
#, no-c-format
msgid ""
"A quick test is to run a simple game from the remote machine, such as GNOME "
"Mines:"
msgstr ""
"たとえば下記のように実行することで、リモートのマシンでシンプルなゲームである "
"GNOME Mines を動かすことができます:"

#. Tag: screen
#: security_ssh.xml:1398
#, no-c-format
msgid ""
"&prompt.user;<command>ssh &exampleuserII_plain;@&exampleserver;</command>\n"
"Password:\n"
"Last login: Tue May 10 11:29:06 2022 from 192.168.163.13\n"
"Have a lot of fun...\n"
"\n"
"&exampleuserII_plain;@&exampleserver;&prompt.user; <command>gnome-mines</"
"command>"
msgstr ""
"&prompt.user;<command>ssh &exampleuserII_plain;@&exampleserver;</command>\n"
"Password:\n"
"Last login: Tue May 10 11:29:06 2022 from 192.168.163.13\n"
"Have a lot of fun...\n"
"\n"
"&exampleuserII_plain;@&exampleserver;&prompt.user; <command>gnome-mines</"
"command>"

#. Tag: para
#: security_ssh.xml:1404
#, no-c-format
msgid ""
"The remote application should appear on your local machine just as though it "
"were installed locally. (Network lag affects performance.) Close the remote "
"application in the usual way, such as clicking the close button. This closes "
"only the application, and your SSH session remains open."
msgstr ""
"起動したアプリケーションはローカルにインストールされているかのように、ローカ"
"ル側に表示されるはずです (ただしネットワーク側の遅延があると、その分だけ性能"
"に影響があります) 。アプリケーションの終了も通常と同じで、閉じるボタンを押す"
"だけです。ただし、アプリケーションを閉じても SSH のセッションは終了せず、その"
"まま動作し続けます。"

#. Tag: title
#: security_ssh.xml:1413
#, no-c-format
msgid "X11 forwarding does not work on Wayland"
msgstr "Wayland では X11 転送機能が使用できない問題について"

#. Tag: para
#: security_ssh.xml:1414
#, no-c-format
msgid ""
"X11 forwarding requires the X Window System running on the remote host. The "
"X Window System has built-in networking, while Wayland does not. Therefore "
"Wayland does not support X11 forwarding."
msgstr ""
"X11 転送機能を利用するには、接続先で X Window System が動作している必要があり"
"ます。これは、 X Window System にはネットワーク機能が内蔵されているものの、 "
"Wayland にはそのような機能が内蔵されていないことによるものです。"

#. Tag: para
#: security_ssh.xml:1419
#, no-c-format
msgid "Use the following command to learn if your system runs X or Wayland:"
msgstr ""
"X Window System で動作しているのか、それとも Wayland で動作しているかを確認す"
"るには、下記のように入力して実行します:"

#. Tag: screen
#: security_ssh.xml:1422
#, no-c-format
msgid ""
"&prompt.user;<command>echo $XDG_SESSION_TYPE</command>\n"
"x11"
msgstr ""
"&prompt.user;<command>echo $XDG_SESSION_TYPE</command>\n"
"x11"

#. Tag: para
#: security_ssh.xml:1424
#, no-c-format
msgid "If Wayland is in use, it looks like the following example:"
msgstr "Wayland で動作している場合は、下記のような出力になります:"

#. Tag: screen
#: security_ssh.xml:1427
#, no-c-format
msgid ""
"&prompt.user;<command>echo $XDG_SESSION_TYPE</command>\n"
"wayland"
msgstr ""
"&prompt.user;<command>echo $XDG_SESSION_TYPE</command>\n"
"wayland"

#. Tag: para
#: security_ssh.xml:1429
#, no-c-format
msgid "The systemd way is to query with <command>loginctl</command> :"
msgstr ""
"systemd を利用して判断したい場合は、 <command>loginctl</command> コマンドを使"
"用します:"

#. Tag: screen
#: security_ssh.xml:1432
#, no-c-format
msgid ""
"&prompt.user;<command>loginctl show-session \"$XDG_SESSION_ID\" -p Type</"
"command>\n"
"Type=x11\n"
"\n"
"&prompt.user;<command>loginctl show-session \"$XDG_SESSION_ID\" -p Type</"
"command>\n"
"Type=wayland"
msgstr ""
"&prompt.user;<command>loginctl show-session \"$XDG_SESSION_ID\" -p Type</"
"command>\n"
"Type=x11\n"
"\n"
"&prompt.user;<command>loginctl show-session \"$XDG_SESSION_ID\" -p Type</"
"command>\n"
"Type=wayland"

#. Tag: title
#: security_ssh.xml:1442
#, no-c-format
msgid "Agent forwarding"
msgstr "エージェント転送"

#. Tag: para
#: security_ssh.xml:1443
#, no-c-format
msgid ""
"By adding the <option>-A</option> option, the ssh-agent authentication "
"mechanism is carried over to the next machine. This way, you can work from "
"different machines without having to enter a password, but only if you have "
"distributed your public key to the destination hosts and properly saved it "
"there. (Refer to <xref linkend=\"sec-ssh-public-key-auth\"/> to learn how to "
"copy your public keys to other hosts.)"
msgstr ""
"<option>-A</option> オプションを追加することで、 ssh-agent 認証の仕組みが接続"
"先のマシンに引き継がれます。このオプションを使用することで、公開鍵を様々なホ"
"ストに登録して適切な場所に保存しておくだけで、それらのホストにパスワード無し"
"でログインできるようになります (詳しくは <xref linkend=\"sec-ssh-public-key-"
"auth\"/> をお読みください) 。"

#. Tag: para
#: security_ssh.xml:1452
#, no-c-format
msgid ""
"<literal>AllowAgentForwarding yes</literal> is the default in <filename>/etc/"
"ssh/sshd_config</filename> . Change it to <literal>No</literal> to disable "
"it."
msgstr ""
"<filename>/etc/ssh/sshd_config</filename> では、既定で "
"<literal>AllowAgentForwarding yes</literal> が設定されています。無効化したい"
"場合は <literal>No</literal> に変更してください。"

#. Tag: title
#: security_ssh.xml:1460
#, no-c-format
msgid "<command>scp</command> &mdash;secure copy"
msgstr "<command>scp</command> - 機密を確保したファイルのコピー"

#. Tag: para
#: security_ssh.xml:1461
#, no-c-format
msgid ""
"<command>scp</command> copies files to or from a remote machine. If the user "
"name on &wsI; is different than the user name on &exampleserver;, specify "
"the latter using the <option><replaceable>USER_NAME</replaceable>&amp;host</"
"option> format. If the file should be copied into a directory other than the "
"remote user's home directory, specify it as &exampleserver;: "
"<replaceable>DIRECTORY</replaceable> . The following examples show how to "
"copy a file from a local to a remote machine and vice versa."
msgstr ""
"<command>scp</command> は、指定したファイルをリモートのマシンとの間でコピーす"
"るプログラムです。 &wsI; 内でのユーザ名と &exampleserver; 内でのユーザ名が異"
"なる場合は、 <option><replaceable>ユーザ名</replaceable>@<replaceable>ホスト"
"名</replaceable></option> の形式で指定してください。また、ホームディレクトリ"
"以外のディレクトリにファイルをコピーしたい場合は、 &exampleserver;: "
"<replaceable>ディレクトリ</replaceable> の形式で指定してください。下記の例で"
"は、ローカルから接続先に、および接続先からローカルにそれぞれファイルをコピー"
"しています。"

#. Tag: screen
#: security_ssh.xml:1473
#, no-c-format
msgid ""
"&prompt.user;scp ~/MyLetter.tex &exampleuser_plain;@&exampleserver;:/tmp <co "
"xml:id=\"co-scp-local-remote\"/>\n"
"&prompt.user;scp &exampleuser_plain;@&exampleserver;:/tmp/MyLetter.tex ~ <co "
"xml:id=\"co-scp-remote-local\"/>"
msgstr ""
"&prompt.user;scp ~/MyLetter.tex &exampleuser_plain;@&exampleserver;:/tmp <co "
"xml:id=\"co-scp-local-remote\"/>\n"
"&prompt.user;scp &exampleuser_plain;@&exampleserver;:/tmp/MyLetter.tex ~ <co "
"xml:id=\"co-scp-remote-local\"/>"

#. Tag: para
#: security_ssh.xml:1477
#, no-c-format
msgid "local to remote"
msgstr "ローカルから接続先に"

#. Tag: para
#: security_ssh.xml:1480
#, no-c-format
msgid "remote to local"
msgstr "接続先からローカルに"

#. Tag: title
#: security_ssh.xml:1484
#, no-c-format
msgid "The <option>-l</option> option"
msgstr "<option>-l</option> オプションについて"

#. Tag: para
#: security_ssh.xml:1485
#, no-c-format
msgid ""
"With the <command>ssh</command> command, the option <option>-l</option> can "
"be used to specify a remote user (as an alternative to the "
"<option><replaceable>USER_NAME</replaceable>&amp;host</option> format). With "
"<command>scp</command> the option <option>-l</option> is used to limit the "
"bandwidth consumed by <command>scp</command> ."
msgstr ""
"<command>ssh</command> コマンドでは、 <option>-l</option> オプションを指定す"
"ることで、接続先のコンピュータ内でのユーザを指定することができます "
"(<option><replaceable>ユーザ名</replaceable>@<replaceable>ホスト名</"
"replaceable></option> と同じ意味になります) 。 <command>scp</command> コマン"
"ドの場合、 <option>-l</option> は <command>scp</command> が消費する帯域を制限"
"するためのオプションを意味しています。"

#. Tag: para
#: security_ssh.xml:1495
#, no-c-format
msgid ""
"After the correct password is entered, <command>scp</command> starts the "
"data transfer. It displays a progress bar and the time remaining for each "
"file that is copied. Suppress all output with the <option>-q</option> option."
msgstr ""
"正しいパスワードの入力が行われると、 <command>scp</command> はデータ転送を開"
"始します。進捗表示バーと、各ファイルの転送にかかる残り時間が表示されます。 "
"<option>-q</option> オプションを指定すると、それらの出力を省略することができ"
"ます。"

#. Tag: para
#: security_ssh.xml:1502
#, no-c-format
msgid ""
"<command>scp</command> also provides a recursive copying feature for entire "
"directories. The command"
msgstr ""
"<command>scp</command> はディレクトリ全体を再帰的にコピーする用途でも使用する"
"ことができます:"

#. Tag: screen
#: security_ssh.xml:1507
#, no-c-format
msgid "&prompt.user;scp -r src/ sun:backup/"
msgstr "&prompt.user;scp -r src/ sun:backup/"

#. Tag: para
#: security_ssh.xml:1509
#, no-c-format
msgid ""
"copies the entire contents of the directory <filename>src</filename> "
"including all subdirectories to the <filename>~/backup</filename> directory "
"on the host &exampleserver;. If this subdirectory does not exist, it is "
"created automatically."
msgstr ""
"上記のコマンドを実行すると、 <filename>src</filename> ディレクトリ内にある全"
"てのファイルとサブディレクトリを、 &exampleserver; 内の <filename>~/backup</"
"filename> ディレクトリにコピーします。サブディレクトリが存在していない場合"
"は、それらは自動的に作成されます。"

#. Tag: para
#: security_ssh.xml:1516
#, no-c-format
msgid ""
"The <option>-p</option> option tells <command>scp</command> to leave the "
"time stamp of files unchanged. <option>-C</option> compresses the data "
"transfer. This minimizes the data volume to transfer, but creates a heavier "
"burden on the processors of both machines."
msgstr ""
"<option>-p</option> オプションは、 <command>scp</command> に対してファイルの"
"タイムスタンプを変更しないようにするオプションです。 <option>-C</option> は"
"データ転送を圧縮するよう指示するオプションです。これにより転送の際のデータ量"
"を減らすことができますが、送信側・受信側両方のホストでプロセッサにかかる負荷"
"が上昇します。"

#. Tag: title
#: security_ssh.xml:1525
#, no-c-format
msgid "<command>sftp</command> &mdash;secure file transfer"
msgstr "<command>sftp</command> - 機密を保持したファイルの転送"

#. Tag: title
#: security_ssh.xml:1528
#, no-c-format
msgid "Using <command>sftp</command>"
msgstr "<command>sftp</command> の使用"

#. Tag: para
#: security_ssh.xml:1529
#, no-c-format
msgid ""
"To copy several files from or to different locations, <command>sftp</"
"command> is a convenient alternative to <command>scp</command> . It opens a "
"shell with a set of commands similar to a regular FTP shell. Type "
"<command>help</command> at the sftp-prompt to get a list of available "
"commands. More details are available from the <command>sftp</command> man "
"page."
msgstr ""
"複数のファイルをコピーしたい場合や、異なる場所からコピーを行いたい場合は、 "
"<command>scp</command> の代わりに <command>sftp</command> を利用したほうが便"
"利になることがあります。このコマンドは、通常の FTP プロトコルと同様に、様々な"
"コマンドを実行できるシェルを開くことができます。利用可能なコマンドの一覧を取"
"得したい場合は、 sftp のプロンプトで <command>help</command> と入力してくださ"
"い。より詳しい詳細は、 <command>sftp</command> のマニュアルページに書かれてい"
"ます。"

#. Tag: screen
#: security_ssh.xml:1538
#, no-c-format
msgid ""
"&prompt.user;sftp &exampleserver;\n"
"Enter passphrase for key '/home/&exampleuser_plain;/.ssh/id_rsa':\n"
"Connected to &exampleserver;.\n"
"sftp&gt; help\n"
"Available commands:\n"
"bye                                Quit sftp\n"
"cd path                            Change remote directory to 'path'\n"
"[...]"
msgstr ""
"&prompt.user;sftp &exampleserver;\n"
"Enter passphrase for key '/home/&exampleuser_plain;/.ssh/id_rsa':\n"
"Connected to &exampleserver;.\n"
"sftp&gt; help\n"
"Available commands:\n"
"bye                                Quit sftp\n"
"cd path                            Change remote directory to 'path'\n"
"[...]"

#. Tag: title
#: security_ssh.xml:1548
#, no-c-format
msgid "Setting permissions for file uploads"
msgstr "ファイルアップロードのパーミッション設定"

#. Tag: para
#: security_ssh.xml:1549
#, no-c-format
msgid ""
"As with a regular FTP server, a user can download and upload files to a "
"remote machine running an SFTP server by using the <command>put</command> "
"command. By default the files are uploaded to the remote host with the same "
"permissions as on the local host. There are two options to automatically "
"alter these permissions:"
msgstr ""
"通常の FTP サーバと同様に、ユーザは SFTP を利用することで、ダウンロードやアッ"
"プロードを行うことができます。コマンドも通常の FTP サーバと同じで、 たとえば"
"アップロードであれば <command>put</command> コマンドを利用します。既定では、"
"アップロードしたファイルのパーミッションは、ローカル側のパーミッションと同じ"
"に設定されます。ただし、自動的に設定されるパーミッションを変更したい場合は、"
"下記のいずれかを実施してください:"

#. Tag: term
#: security_ssh.xml:1559
#, no-c-format
msgid "Setting a umask"
msgstr "umask の設定"

#. Tag: para
#: security_ssh.xml:1561
#, no-c-format
msgid ""
"A umask works as a filter against the permissions of the original file on "
"the local host. It can only withdraw permissions:"
msgstr ""
"umask はパーミッションに対するフィルタとして動作する仕組みで、元々のファイル"
"とアップロード先のファイルとの間で、引き継いで欲しくないビットを 1 にします。"
"なお、アクセス許可を追加することはできません。取り消すことのみ実現できます:"

#. Tag: para
#: security_ssh.xml:1573
#, no-c-format
msgid "permissions original"
msgstr "元々のパーミッション"

#. Tag: para
#: security_ssh.xml:1578
#, no-c-format
msgid "umask"
msgstr "umask の値"

#. Tag: para
#: security_ssh.xml:1583
#, no-c-format
msgid "permissions uploaded"
msgstr "アップロードされたファイルのパーミッション"

#. Tag: para
#: security_ssh.xml:1592
#, no-c-format
msgid "0666"
msgstr "0666"

#. Tag: para
#: security_ssh.xml:1602
#, no-c-format
msgid "0664"
msgstr "0664"

#. Tag: para
#: security_ssh.xml:1614
#, no-c-format
msgid "0002"
msgstr "0002"

#. Tag: para
#: security_ssh.xml:1619
#, no-c-format
msgid "0600"
msgstr "0600"

#. Tag: para
#: security_ssh.xml:1626
#, no-c-format
msgid "0775"
msgstr "0775"

#. Tag: para
#: security_ssh.xml:1631
#, no-c-format
msgid "0025"
msgstr "0025"

#. Tag: para
#: security_ssh.xml:1636
#, no-c-format
msgid "0750"
msgstr "0750"

#. Tag: para
#: security_ssh.xml:1644
#, no-c-format
msgid ""
"To apply a umask on an SFTP server, edit the file <filename>/etc/ssh/"
"sshd_configuration</filename> . Search for the line beginning with "
"<literal>Subsystem sftp</literal> and add the <option>-u</option> parameter "
"with the desired setting, for example:"
msgstr ""
"SFTP サーバ側で umask を適用するには、 <!-- NOTE: sshd_config (not "
"sshd_configuration? --><filename>/etc/ssh/sshd_configuration</filename> ファ"
"イルを編集します。まずは <literal>Subsystem sftp</literal> で始まる行を探し、"
"行の末尾に <option>-u</option> オプションを追加して、必要な値を指定してくださ"
"い。たとえば下記のようになります:"

#. Tag: screen
#: security_ssh.xml:1650
#, no-c-format
msgid "Subsystem sftp /usr/lib/ssh/sftp-server -u 0002"
msgstr "Subsystem sftp /usr/lib/ssh/sftp-server -u 0002"

#. Tag: term
#: security_ssh.xml:1654
#, no-c-format
msgid "Explicitly setting the permissions"
msgstr "明示的なパーミッションの指定"

#. Tag: para
#: security_ssh.xml:1656
#, no-c-format
msgid ""
"Explicitly setting the permissions sets the same permissions for all files "
"uploaded via SFTP. Specify a three-digit pattern such as <literal>600</"
"literal> , <literal>644</literal> , or <literal>755</literal> with <option>-"
"u</option> . When both <option>-m</option> and <option>-u</option> are "
"specified, <literal>-u</literal> is ignored."
msgstr ""
"SFTP 経由でアップロードされた全てのファイルに対して、同じパーミッションを設定"
"するように指定する方法です。 <option>-u</option> オプションと同様に、 "
"<literal>600</literal> , <literal>644</literal> , <literal>755</literal> のよ"
"うな 3 桁のパーミッション値を指定してください。 <option>-m</option> と "
"<option>-u</option> の両方が指定された場合、 <literal>-u</literal> は無視され"
"ます。"

#. Tag: para
#: security_ssh.xml:1664
#, no-c-format
msgid ""
"To apply explicit permissions for uploaded files on an SFTP server, edit the "
"file <filename>/etc/ssh/sshd_config</filename> . Search for the line "
"beginning with <literal>Subsystem sftp</literal> and add the <option>-m</"
"option> parameter with the desired setting, for example:"
msgstr ""
"SFTP サーバ側で明示的にパーミッションを指定するには、  <filename>/etc/ssh/"
"sshd_config</filename> ファイルを編集します。まずは <literal>Subsystem sftp</"
"literal> で始まる行を探し、行の末尾に <option>-m</option> オプションを追加し"
"て、必要な値を指定してください。たとえば下記のようになります:"

#. Tag: screen
#: security_ssh.xml:1671
#, no-c-format
msgid "Subsystem sftp /usr/lib/ssh/sftp-server -m 600"
msgstr "Subsystem sftp /usr/lib/ssh/sftp-server -m 600"

#. Tag: title
#: security_ssh.xml:1677
#, no-c-format
msgid "Viewing the SSH daemon log file"
msgstr "SSH デーモンのログファイル表示"

#. Tag: para
#: security_ssh.xml:1678
#, no-c-format
msgid ""
"To watch the log entries from the <systemitem class=\"daemon\">sshd</"
"systemitem> use the following command:"
msgstr ""
"<systemitem class=\"daemon\">sshd</systemitem> が出力したログを表示したい場合"
"は、下記のコマンドを実行します:"

#. Tag: screen
#: security_ssh.xml:1681
#, no-c-format
msgid "&prompt.sudo;journalctl -u sshd"
msgstr "&prompt.sudo;journalctl -u sshd"

#. Tag: title
#: security_ssh.xml:1687
#, no-c-format
msgid "Port forwarding (SSH tunneling)"
msgstr "ポート転送 (SSH トンネリング)"

#. Tag: para
#: security_ssh.xml:1689
#, no-c-format
msgid ""
"<command>ssh</command> can also be used to redirect TCP/IP connections. This "
"feature, also called <literal>SSH tunneling</literal> , redirects TCP "
"connections to a certain port to another machine via an encrypted channel."
msgstr ""
"<command>ssh</command> は TCP/IP 接続を転送するような用途でも使用することがで"
"きます。この機能は <literal>SSH トンネリング</literal> とも呼ばれ、暗号化され"
"た通信を介して TCP の接続を別のマシン内にある特定のポートに転送することができ"
"ます。"

#. Tag: para
#: security_ssh.xml:1696
#, no-c-format
msgid ""
"With the following command, any connection directed to &wsI; port 25 (SMTP) "
"is redirected to the SMTP port on &exampleserver;. This is especially useful "
"for those using SMTP servers without SMTP-AUTH or POP-before-SMTP features. "
"From any arbitrary location connected to a network, e-mail can be "
"transferred to the <quote>home</quote> mail server for delivery."
msgstr ""
"下記のコマンドを実行することで、 <!-- NOTE: wrong explanation? --> ローカル"
"の TCP ポート 25 (SMTP) への接続を行うと、 &wsI; への暗号化接続を介して "
"&exampleserver; の TCP ポート 25 (SMTP) に接続するようになります。これは特"
"に、 SMTP-AUTH や POP-before-SMTP のような機能を持たない SMTP サーバを使用す"
"るような場合に有用です。 <!-- NOTE: bind adress must be set to \"0.0.0.0\" "
"in order to be connected from network, i.e. \"-L 0.0.0.0:25:"
"&exampleserver;:25\" -->このようにポート転送を行うことで、電子メールを "
"<quote>自宅の</quote> メールサーバに配送するような構成を構築することができま"
"す。"

#. Tag: screen
#: security_ssh.xml:1705
#, no-c-format
msgid "&prompt.root;ssh -L 25:&exampleserver;:25 &wsI;"
msgstr "&prompt.root;ssh -L 25:&exampleserver;:25 &wsI;"

#. Tag: para
#: security_ssh.xml:1707
#, no-c-format
msgid ""
"Similarly, all POP3 requests (port&nbsp;110) on &wsI; can be forwarded to "
"the POP3 port of &exampleserver; with this command:"
msgstr ""
"上記と同様に、全ての POP3 接続 (ポート 110) を &exampleserver; に転送したい場"
"合は、下記のように実行します:"

#. Tag: screen
#: security_ssh.xml:1712
#, no-c-format
msgid "&prompt.root;ssh -L 110:&exampleserver;:110 &wsI;"
msgstr "&prompt.root;ssh -L 110:&exampleserver;:110 &wsI;"

#. Tag: para
#: security_ssh.xml:1714
#, no-c-format
msgid ""
"Both commands must be executed as &rootuser;, because the connection is made "
"to privileged local ports. E-mail is sent and retrieved by normal users in "
"an existing SSH connection. The SMTP and POP3 host must be set to "
"<literal>localhost</literal> for this to work. Additional information can be "
"found in the manual pages for each of the programs described above and in "
"the OpenSSH package documentation under <filename>/usr/share/doc/packages/"
"openssh</filename> ."
msgstr ""
"いずれのコマンドも特権ポートを使用していることから、 &rootuser; で実行しなけ"
"ればなりません。いったんコマンドを実行すれば、一般ユーザからもそのポートを使"
"用して電子メールを送受信できるようになります。この場合、電子メールソフトウエ"
"ア側のサーバ設定は <literal>localhost</literal> を指定します。上記で説明した"
"それぞれのプログラムのオプションに関する説明は、 <filename>/usr/share/doc/"
"packages/openssh</filename> 内にある OpenSSH のパッケージドキュメンテーション"
"内にあります。"

#. Tag: title
#: security_ssh.xml:1727
#, no-c-format
msgid "More information"
msgstr "さらなる情報"

#. Tag: term
#: security_ssh.xml:1733
#, no-c-format
msgid "<link xlink:href=\"https://www.openssh.com\"/>"
msgstr "<link xlink:href=\"https://www.openssh.com\"/>"

#. Tag: para
#: security_ssh.xml:1736
#, no-c-format
msgid "The home page of OpenSSH"
msgstr "OpenSSH の Web ページ"

#. Tag: term
#: security_ssh.xml:1742
#, no-c-format
msgid "<link xlink:href=\"https://en.wikibooks.org/wiki/OpenSSH\"/>"
msgstr "<link xlink:href=\"https://en.wikibooks.org/wiki/OpenSSH\"/>"

#. Tag: para
#: security_ssh.xml:1745
#, no-c-format
msgid "The OpenSSH Wikibook"
msgstr "OpenSSH Wikibook (英語)"

#. Tag: term
#: security_ssh.xml:1751
#, no-c-format
msgid "<command>man sshd</command>"
msgstr "<command>man sshd</command>"

#. Tag: para
#: security_ssh.xml:1754
#, no-c-format
msgid "The man page of the OpenSSH daemon"
msgstr "OpenSSH デーモンのマニュアルページ"

#. Tag: term
#: security_ssh.xml:1760
#, no-c-format
msgid "<command>man ssh_config</command>"
msgstr "<command>man ssh_config</command>"

#. Tag: para
#: security_ssh.xml:1763
#, no-c-format
msgid "The man page of the OpenSSH SSH client configuration files"
msgstr "OpenSSH のクライアント側設定ファイルのマニュアルページ"

#. Tag: term
#: security_ssh.xml:1769
#, no-c-format
msgid "<command>man scp</command>"
msgstr "<command>man scp</command>"

#. Tag: term
#: security_ssh.xml:1771
#, no-c-format
msgid "<command>man sftp</command>"
msgstr "<command>man sftp</command>"

#. Tag: term
#: security_ssh.xml:1773
#, no-c-format
msgid "<command>man ssh</command>"
msgstr "<command>man ssh</command>"

#. Tag: term
#: security_ssh.xml:1775
#, no-c-format
msgid "<command>man ssh-add</command>"
msgstr "<command>man ssh-add</command>"

#. Tag: term
#: security_ssh.xml:1777
#, no-c-format
msgid "<command>man ssh-copy-id</command>"
msgstr "<command>man ssh-copy-id</command>"

#. Tag: term
#: security_ssh.xml:1779
#, no-c-format
msgid "<command>man ssh-keygen</command>"
msgstr "<command>man ssh-keygen</command>"

#. Tag: para
#: security_ssh.xml:1782
#, no-c-format
msgid ""
"Man pages of several binary files to securely copy files ( <command>scp</"
"command> , <command>sftp</command> ), to log in ( <command>slogin</"
"command> , <command>ssh</command> ), and to manage keys."
msgstr ""
"ファイルコピー ( <command>scp</command> , <command>sftp</command> ) やログイ"
"ン ( <command>slogin</command> , <command>ssh</command> ) 、鍵管理などのコマ"
"ンドに対するマニュアルページ。"

#. Tag: term
#: security_ssh.xml:1791
#, no-c-format
msgid "<filename>/usr/share/doc/packages/openssh-common/README.SUSE</filename>"
msgstr ""
"<filename>/usr/share/doc/packages/openssh-common/README.SUSE</filename>"

#. Tag: term
#: security_ssh.xml:1794
#, no-c-format
msgid "<filename>/usr/share/doc/packages/openssh-common/README.FIPS</filename>"
msgstr ""
"<filename>/usr/share/doc/packages/openssh-common/README.FIPS</filename>"

#. Tag: para
#: security_ssh.xml:1798
#, no-c-format
msgid ""
"&suse; package specific documentation; changes in defaults with respect to "
"upstream <phrase os=\"sles;sled;slemicro\">, notes on FIPS mode</phrase> etc."
msgstr ""
"&suse; 固有のパッケージドキュメンテーション; <phrase os=\"sles;sled;"
"slemicro\">FIPS モードなど、</phrase> 提供元からの既定値の変更点などを説明し"
"ています。"

#. Tag: title
#: security_ssh.xml:1807
#, no-c-format
msgid "Stopping SSH brute force attacks with Fail2Ban"
msgstr "fail2ban による SSH ブルートフォース攻撃の抑止"

#. Tag: para
#: security_ssh.xml:1808
#, no-c-format
msgid ""
"An SSH brute force attack involves repeated trials of user name and password "
"combinations until the attacker gains access to the remote server. The "
"attacker uses automated tools that test various user name and password "
"combinations to compromise a server."
msgstr ""
"SSH ブルートフォース攻撃とは、様々なユーザ名とパスワードの組み合わせでログイ"
"ンを試すことにより、ネットワーク経由でサーバへの不正侵入を試みるものです。攻"
"撃者は自動化されたツールを利用して侵入を試みるため、膨大な数のユーザ名とパス"
"ワードの組み合わせを試すことができてしまいます。"

#. Tag: para
#: security_ssh.xml:1813
#, no-c-format
msgid ""
"You can use Fail2Ban software to limit intrusion attempts. Fail2Ban scans "
"the system logs to detect attacks and trigger an action, such as blocking "
"the IPs via the firewall. Fail2Ban is used only to protect services that "
"require a user name and password authentication."
msgstr ""
"このような不正侵入を防ぐには、 fail2ban と呼ばれるソフトウエアを使用します。 "
"fail2ban は定期的にシステムログを検索して攻撃を検知し、ファイアウオールで接続"
"元の IP アドレスからのアクセスを禁止するなど、その攻撃内容に応じた処理を実施"
"します。なお fail2ban は、ユーザ名とパスワードを使用するサービスを保護するた"
"めだけに使用することができます。"

#. Tag: title
#: security_ssh.xml:1818
#, no-c-format
msgid "What is Fail2Ban?"
msgstr "fail2ban とは？"

#. Tag: para
#: security_ssh.xml:1819
#, no-c-format
msgid ""
"Fail2Ban scans the log files in <filename>/var/log/apache/error_log</"
"filename> and bans IPs that indicate malicious signs, such as too many "
"password attempts, etc. You can then use Fail2Ban to update firewall rules "
"to reject the IP addresses for a specified amount of time."
msgstr ""
"fail2ban は <filename>/var/log/apache/error_log</filename> 等のログファイルを"
"定期的に検索し、繰り返し何度もログインを試しているような不正アクセスの端緒を"
"検出し、 IP アドレス単位でのアクセス禁止を設定することができます。 fail2ban "
"ではファイアウオールルールを設定して、一定時間のアクセス禁止を実現していま"
"す。"

#. Tag: para
#: security_ssh.xml:1823
#, no-c-format
msgid ""
"Fail2Ban comes with filters for various services, such as Apache, SSH, "
"Courier, etc. You can use Fail2Ban to minimize the rate of incorrect "
"authentication attempts."
msgstr ""
"fail2ban は Apache, SSH, Courier など、様々なサービスに対応するフィルタが提供"
"されています。 fail2ban を利用することで、不正アクセスを未然に防ぐことができ"
"るようになります。"

#. Tag: para
#: security_ssh.xml:1828
#, no-c-format
msgid ""
"You can install and configure Fail2Ban to protect the server against SSH "
"brute force attacks."
msgstr ""
"fail2ban をインストールして設定しておくことで、 SSH ブルートフォース攻撃から"
"サーバを保護することができます。"

#. Tag: title
#: security_ssh.xml:1832
#, no-c-format
msgid "Using Fail2Ban to stop an SSH brute force attack"
msgstr "SSH ブルートフォース攻撃を抑止するための fail2ban の使用"

#. Tag: para
#: security_ssh.xml:1833
#, no-c-format
msgid "To install Fail2Ban, execute:"
msgstr ""
"fail2ban をインストールするには、下記のようなコマンドを入力して実行します:"

#. Tag: screen
#: security_ssh.xml:1834
#, no-c-format
msgid "&prompt.root;sudo zypper -n in fail2ban firewalld"
msgstr "&prompt.root;sudo zypper -n in fail2ban firewalld"

#. Tag: para
#: security_ssh.xml:1836
#, no-c-format
msgid ""
"When you install Fail2Ban, a default configuration file <filename>jail.conf</"
"filename> is also installed. This file gets overwritten when you upgrade "
"Fail2Ban. To retain any customizations you make to the file, you can add the "
"modifications to a file called <emphasis>jail.local</emphasis> . Fail2Ban "
"automatically reads both files."
msgstr ""
"fail2ban をインストールすると、既定の設定ファイルである <filename>jail.conf</"
"filename> がインストールされますが、このファイルは fail2ban パッケージの更新"
"で上書きされてしまう仕組みであることから、このファイルに直接設定を記述しては"
"なりません。その代わりに、 <emphasis>jail.local</emphasis> というファイルを作"
"成して設定してください。 fail2ban では両方のファイルを読み込むようになってい"
"ます。"

#. Tag: screen
#: security_ssh.xml:1842
#, no-c-format
msgid "&prompt.root;cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local"
msgstr "&prompt.root;cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local"

#. Tag: para
#: security_ssh.xml:1844
#, no-c-format
msgid "Open the file in your editor."
msgstr "まずはエディタでファイルを開きます。"

#. Tag: screen
#: security_ssh.xml:1846
#, no-c-format
msgid "vi /etc/fail2ban/jail.local"
msgstr "vi /etc/fail2ban/jail.local"

#. Tag: para
#: security_ssh.xml:1848
#, no-c-format
msgid "Take a look at the four settings that you need to know about."
msgstr "設定項目のうち、知っておかなければならない項目は 4 種類になります。"

#. Tag: title
#: security_ssh.xml:1851
#, no-c-format
msgid "<emphasis>jail.local </emphasis> file settings"
msgstr "<emphasis>jail.local </emphasis> ファイルの設定"

#. Tag: textobject
#: security_ssh.xml:1859
#, no-c-format
msgid "<phrase>Fail2Ban settings</phrase>"
msgstr "<phrase>fail2ban の設定</phrase>"

#. Tag: term
#: security_ssh.xml:1864
#, no-c-format
msgid "<emphasis>ignoreip</emphasis>"
msgstr "<emphasis>ignoreip</emphasis>"

#. Tag: para
#: security_ssh.xml:1865
#, no-c-format
msgid ""
"A list of whitelisted IPs that are never banned. The local host IP address "
"<emphasis>127.0.0.1</emphasis> is in the list by default, along with the "
"IPv6 equivalent <emphasis>::1</emphasis> . You can use this setting to add a "
"list of IP addresses that you know should not be banned."
msgstr ""
"アクセスを禁止したくない IP アドレスの一覧を指定します。既定では IPv4 アドレ"
"スの <emphasis>127.0.0.1</emphasis> と IPv6 アドレスの <emphasis>::1</"
"emphasis> (いずれも自分自身を表すアドレスです) が設定されています。それ以外に"
"もアクセスを禁止したくないアドレスがある場合は、ここに追加してください。"

#. Tag: term
#: security_ssh.xml:1871
#, no-c-format
msgid "<emphasis>bantime</emphasis>"
msgstr "<emphasis>bantime</emphasis>"

#. Tag: para
#: security_ssh.xml:1872
#, no-c-format
msgid ""
"The duration in minutes for which an IP address is banned. When you do not "
"enter a value ending in <emphasis>m</emphasis> or <emphasis>h</emphasis> , "
"it is treated as seconds. If you enter a value of <emphasis>-1</emphasis> , "
"an IP address is permanently banned."
msgstr ""
"特定の IP アドレスからのアクセスを禁止する際、その禁止期間を指定します。設定"
"値が <emphasis>m</emphasis> (分) または <emphasis>h</emphasis> (時間) で終"
"わっていない場合、禁止期間は秒単位であるものとして解釈されます。また、 "
"<emphasis>-1</emphasis> を設定すると、恒久的にアクセスを禁止することになりま"
"す。"

#. Tag: term
#: security_ssh.xml:1877
#, no-c-format
msgid "<emphasis>findtime</emphasis>"
msgstr "<emphasis>findtime</emphasis>"

#. Tag: para
#: security_ssh.xml:1878
#, no-c-format
msgid ""
"The period of time within which too many failed connection attempts result "
"in an IP being banned."
msgstr ""
"特定の IP アドレスからのアクセスを禁止するにあたっての持続時間を指定します。"

#. Tag: term
#: security_ssh.xml:1882
#, no-c-format
msgid "<emphasis>maxretry</emphasis>"
msgstr "<emphasis>maxretry</emphasis>"

#. Tag: para
#: security_ssh.xml:1883
#, no-c-format
msgid "The limit for the number of failed attempts."
msgstr "試行失敗の上限回数を指定します。"

#. Tag: para
#: security_ssh.xml:1888
#, no-c-format
msgid ""
"If a connection from the same IP address makes <emphasis>maxretry</emphasis> "
"failed connection attempts within the <emphasis>findtime</emphasis> period, "
"they are banned for the duration of the <emphasis>bantime</emphasis> . The "
"only exceptions are the IP addresses in the <emphasis>ignoreip</emphasis> "
"list."
msgstr ""
"同じ IP アドレスからのアクセスが <emphasis>findtime</emphasis> で指定した時間"
"内に <emphasis>maxretry</emphasis> で指定した回数以上実施された場合、 "
"<emphasis>bantime</emphasis> で指定した時間だけアクセスを禁止することになりま"
"す。なお、 <emphasis>ignoreip</emphasis> に含まれる IP アドレスについては除外"
"されます。"

#. Tag: para
#: security_ssh.xml:1893
#, no-c-format
msgid ""
"Fail2Ban supports different types of jails, and each jail has different "
"settings for the connection types."
msgstr ""
"fail2ban では様々な種類の jail に対応しています。 jail とは設定の単位で、それ"
"ぞれが様々な種類の接続に対応しています。"

#. Tag: para
#: security_ssh.xml:1896
#, no-c-format
msgid "You can use the Fail2Ban service with the following:"
msgstr "fail2ban サービスを有効化や起動は、下記のようにして行います:"

#. Tag: para
#: security_ssh.xml:1897
#, no-c-format
msgid "To enable:"
msgstr "サービスを有効化するには:"

#. Tag: screen
#: security_ssh.xml:1898
#, no-c-format
msgid "&prompt.root; systemctl enable fail2ban"
msgstr "&prompt.root; systemctl enable fail2ban"

#. Tag: para
#: security_ssh.xml:1899
#, no-c-format
msgid "To start:"
msgstr "起動するには:"

#. Tag: screen
#: security_ssh.xml:1900
#, no-c-format
msgid "&prompt.root; systemctl start fail2ban"
msgstr "&prompt.root; systemctl start fail2ban"

#. Tag: para
#: security_ssh.xml:1901
#, no-c-format
msgid "To check the service status:"
msgstr "サービスの状態を確認するには:"

#. Tag: screen
#: security_ssh.xml:1902
#, no-c-format
msgid "&prompt.root; systemctl status fail2ban.service"
msgstr "&prompt.root; systemctl status fail2ban.service"

#. Tag: para
#: security_ssh.xml:1903
#, no-c-format
msgid "You must restart Fail2Ban each time you make a configuration change."
msgstr ""
"なお、設定を変更した場合は fail2ban の再起動を実施しなければならないことに注"
"意してください。"
