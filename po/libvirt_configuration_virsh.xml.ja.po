# translation of libvirt_configuration_virsh.xml.po to Japanese
# Japanese translations for PACKAGE package
# PACKAGE パッケージに対する英訳.
#
# Automatically generated, 2019.
# Yasuhiko Kamata <belphegor@belbel.or.jp>, 2019.
msgid ""
msgstr ""
"Project-Id-Version: libvirt_configuration_virsh.xml\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2019-04-08 02:03+0000\n"
"PO-Revision-Date: 2019-04-18 16:33+0900\n"
"Last-Translator: Yasuhiko Kamata <belphegor@belbel.or.jp>\n"
"Language-Team: Japanese <opensuse-ja@opensuse.org>\n"
"Language: ja\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: KBabel 1.11.4\n"

#. Tag: title
#: libvirt_configuration_virsh.xml:8
#, no-c-format
msgid "Configuring Virtual Machines with virsh"
msgstr "virsh を利用した仮想マシンの設定"

#. Tag: para
#: libvirt_configuration_virsh.xml:11
#, no-c-format
msgid ""
"You can use <command>virsh</command> to configure the &vmguest; in addition "
"to using the Virtual Machine Manager. <command>virsh</command> is a command "
"line tool that manages virtual machines created by VM software, such as KVM, "
"Xen, VMWare, and LXC. With <command>virsh</command> , you can control the "
"state of a VM, edit the configuration of a VM or even migrate a VM to "
"another host. The following section shows the management of a VM with virsh. "
"Examples include modifying memory allocation, input devices, CPU settings, "
"and video configuration."
msgstr ""
"&vmguest; を設定するにあたっては、仮想マシンマネージャだけでなく <command>virsh"
"</command> も使用することができます。 <command>virsh</command> は KVM や Xen, "
"VMWare, LXC などの仮想化ソフトウエアで作成された仮想マシンを、管理するためのコマンド"
"ラインツールです。 <command>virsh</command> を利用することで、 VM の制御や設定の"
"変更、他のホストへの移行などを行なうことができます。下記の章では、 virsh を利用した"
"管理の方法について説明しています。作業例としては、メモリの割当量の変更や入力デバイス"
"の変更、 CPU やビデオの設定などを行なっています。"

#. Tag: title
#: libvirt_configuration_virsh.xml:27
#, no-c-format
msgid "Editing the VM Configuration"
msgstr "VM の設定変更"

#. Tag: para
#: libvirt_configuration_virsh.xml:29
#, no-c-format
msgid ""
"The configuration of a VM is stored in a XML file in <filename>/etc/libvirtd/"
"qemu/</filename> and looks like this:"
msgstr ""
"仮想マシンの設定ファイルは <filename>/etc/libvirtd/qemu/</filename> 内に保存されていて、"
"下記のような内容になっているはずです:"

#. Tag: title
#: libvirt_configuration_virsh.xml:35
#, no-c-format
msgid "Example XML Configuration file"
msgstr "XML 設定ファイルの例"

#. Tag: screen
#: libvirt_configuration_virsh.xml:36
#, no-c-format
msgid ""
"\n"
"    &lt;domain type='kvm'&gt;\n"
"      &lt;name&gt;sles15&lt;/name&gt;\n"
"      &lt;uuid&gt;ab953e2f-9d16-4955-bb43-1178230ee625&lt;/uuid&gt;\n"
"      &lt;memory unit='KiB'&gt;2097152&lt;/memory&gt;\n"
"      &lt;currentMemory unit='KiB'&gt;2097152&lt;/currentMemory&gt;\n"
"      &lt;vcpu placement='static'&gt;2&lt;/vcpu&gt;\n"
"      &lt;os&gt;\n"
"        &lt;type arch='x86_64' machine='pc-i440fx-2.11'&gt;hvm&lt;/type&gt;\n"
"      &lt;/os&gt;\n"
"      &lt;features&gt;...&lt;/features&gt;\n"
"      &lt;cpu mode='custom' match='exact' check='partial'&gt;\n"
"        &lt;model fallback='allow'&gt;Skylake-Client-IBRS&lt;/model&gt;\n"
"      &lt;/cpu&gt;\n"
"      &lt;clock&gt;...&lt;/clock&gt;\n"
"      &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;\n"
"      &lt;on_reboot&gt;restart&lt;/on_reboot&gt;\n"
"      &lt;on_crash&gt;destroy&lt;/on_crash&gt;\n"
"      &lt;pm&gt;\n"
"        &lt;suspend-to-mem enabled='no'/&gt;\n"
"        &lt;suspend-to-disk enabled='no'/&gt;\n"
"      &lt;/pm&gt;\n"
"      &lt;devices&gt;\n"
"        &lt;emulator&gt;/usr/bin/qemu-system-x86_64&lt;/emulator&gt;\n"
"        &lt;disk type='file' device='disk'&gt;...&lt;/disk&gt;\n"
"      &lt;/devices&gt;\n"
"      ...\n"
"    &lt;/domain&gt;\n"
"    "
msgstr ""
"\n"
"    &lt;domain type='kvm'&gt;\n"
"      &lt;name&gt;sles15&lt;/name&gt;\n"
"      &lt;uuid&gt;ab953e2f-9d16-4955-bb43-1178230ee625&lt;/uuid&gt;\n"
"      &lt;memory unit='KiB'&gt;2097152&lt;/memory&gt;\n"
"      &lt;currentMemory unit='KiB'&gt;2097152&lt;/currentMemory&gt;\n"
"      &lt;vcpu placement='static'&gt;2&lt;/vcpu&gt;\n"
"      &lt;os&gt;\n"
"        &lt;type arch='x86_64' machine='pc-i440fx-2.11'&gt;hvm&lt;/type&gt;\n"
"      &lt;/os&gt;\n"
"      &lt;features&gt;...&lt;/features&gt;\n"
"      &lt;cpu mode='custom' match='exact' check='partial'&gt;\n"
"        &lt;model fallback='allow'&gt;Skylake-Client-IBRS&lt;/model&gt;\n"
"      &lt;/cpu&gt;\n"
"      &lt;clock&gt;...&lt;/clock&gt;\n"
"      &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;\n"
"      &lt;on_reboot&gt;restart&lt;/on_reboot&gt;\n"
"      &lt;on_crash&gt;destroy&lt;/on_crash&gt;\n"
"      &lt;pm&gt;\n"
"        &lt;suspend-to-mem enabled='no'/&gt;\n"
"        &lt;suspend-to-disk enabled='no'/&gt;\n"
"      &lt;/pm&gt;\n"
"      &lt;devices&gt;\n"
"        &lt;emulator&gt;/usr/bin/qemu-system-x86_64&lt;/emulator&gt;\n"
"        &lt;disk type='file' device='disk'&gt;...&lt;/disk&gt;\n"
"      &lt;/devices&gt;\n"
"      ...\n"
"    &lt;/domain&gt;\n"
"    "

#. Tag: para
#: libvirt_configuration_virsh.xml:67
#, no-c-format
msgid ""
"If you want to edit the configuration of the &vmguest;, check if the guest "
"is offline:"
msgstr "&vmguest; の設定を変更する場合は、まずシャットオフ状態になっているかどうかを確認します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:72
#, no-c-format
msgid "&prompt.sudo;<command>virsh list --inactive</command>"
msgstr "&prompt.sudo;<command>virsh list --inactive</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:74
#, no-c-format
msgid ""
"If your &vmguest; is in this list, you can safely edit its configuration "
"with:"
msgstr ""
"上記のコマンドの実行結果に編集対象の &vmguest; が現われている場合は、そのまま設定を"
"変更してかまいません:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:79
#, no-c-format
msgid ""
"&prompt.sudo;<command>virsh edit <replaceable>NAME_OF_VM_GUEST</"
"replaceable></command>\n"
"    "
msgstr ""
"&prompt.sudo;<command>virsh edit <replaceable>VM_名</replaceable></command>\n"
"    "

#. Tag: para
#: libvirt_configuration_virsh.xml:82
#, no-c-format
msgid ""
"Before saving the changes, <command>virsh</command> validates your input "
"against a RelaxNG schema."
msgstr ""
"なお設定の保存時には、 <command>virsh</command> が RelaxNG スキーマを利用して"
"設定内容のチェックを行ないます。"

#. Tag: title
#: libvirt_configuration_virsh.xml:88
#, no-c-format
msgid "Changing the Machine Type"
msgstr "マシンの種類の変更"

#. Tag: para
#: libvirt_configuration_virsh.xml:90
#, no-c-format
msgid ""
"When installing with the <command>virt-install</command> tool, the machine "
"type for a &vmguest; is <emphasis>pc-i440fx</emphasis> by default. The "
"machine type is stored in the &vmguest;'s configuration file in the "
"<tag>type</tag> element:"
msgstr ""
"<command>virt-install</command> ツールを利用してインストールを行なった場合、"
" &vmguest; のマシンの種類は、既定で <emphasis>pc-i440fx</emphasis> になります。"
"マシンの種類も &vmguest; の設定ファイル内に含まれていて、 <tag>type</tag> "
"というタグ要素内に書かれています:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:98
#, no-c-format
msgid "&lt;type arch='x86_64' machine='pc-i440fx-2.3'&gt;hvm&lt;/type&gt;"
msgstr "&lt;type arch='x86_64' machine='pc-i440fx-2.3'&gt;hvm&lt;/type&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:100
#, no-c-format
msgid ""
"As an example, the following procedure shows how to change this value to the "
"machine type <literal>q35</literal> . The value <literal>q35</literal> is an "
"Intel* chipset and includes <xref linkend=\"gloss.vt.acronym.pcie\"/> , "
"supports up to 12 USB ports, and has support for <xref linkend=\"gloss.vt."
"acronym.sata\"/> and <xref linkend=\"gloss.vt.acronym.iommu\"/> . <!-- IRQ "
"routing has also been improved. -->"
msgstr ""
"下記の手順では、例としてマシンの種類を <literal>q35</literal> に変更します。"
" <literal>q35</literal> という値は Intel* 社のチップセットを表わす文字列で、"
" <xref linkend=\"gloss.vt.acronym.pcie\"/> が含まれているほか、最大で 12 個までの"
" USB ポートに対応し、 <xref linkend=\"gloss.vt.acronym.sata\"/> や <xref linkend="
"\"gloss.vt.acronym.iommu\"/> にも対応しています。 <!-- IRQ "
"routing has also been improved. -->"

#. Tag: title
#: libvirt_configuration_virsh.xml:112
#, no-c-format
msgid "Changing Machine Type"
msgstr "マシンの種類の変更"

#. Tag: para
#: libvirt_configuration_virsh.xml:123
#, no-c-format
msgid "Edit the configuration for this &vmguest;:"
msgstr "この &vmguest; に対する設定を編集します:"

#. Tag: para
#: libvirt_configuration_virsh.xml:129
#, no-c-format
msgid ""
"Replace the value of the <tag class=\"attribute\">machine</tag> attribute "
"with <tag class=\"attvalue\">pc-q35-2.0</tag> :"
msgstr ""
"タグ内の <tag class=\"attribute\">machine</tag> という属性の値を、"
" <tag class=\"attvalue\">pc-q35-2.0</tag> に変更します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:136
#, no-c-format
msgid "&lt;type arch='x86_64' machine='pc-q35-2.0'&gt;hvm&lt;/type&gt;"
msgstr "&lt;type arch='x86_64' machine='pc-q35-2.0'&gt;hvm&lt;/type&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:145
#, no-c-format
msgid ""
"Check if the machine type has changed. Log in to the &vmguest; and run the "
"following command:"
msgstr ""
"マシンの種類が変更されていることを確認します。 &vmguest; を起動してログインし、"
"下記のコマンドを実行します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:149
#, no-c-format
msgid ""
"&prompt.sudo;<command>dmidecode | grep Product</command>\n"
"Product Name: Standard PC (Q35 + ICH9, 2009)"
msgstr ""
"&prompt.sudo;<command>dmidecode | grep Product</command>\n"
"Product Name: Standard PC (Q35 + ICH9, 2009)"

#. Tag: title
#: libvirt_configuration_virsh.xml:155
#, no-c-format
msgid "Machine Type Update Recommendations"
msgstr "マシンの種類を更新した際の推奨事項について"

#. Tag: para
#: libvirt_configuration_virsh.xml:156
#, no-c-format
msgid ""
"Whenever the QEMU version on the host system is upgraded (for example, when "
"upgrading the &vmhost; to a new service pack), upgrade the machine type of "
"the &vmguest;s to the latest available version. To check, use the command "
"<command>qemu-system-x86_64 -M help</command> on the &vmhost;."
msgstr ""
"ホストシステム側の QEMU のバージョンをアップグレードした場合 (たとえば &vmhost; "
"のディストリビューションのバージョンをアップグレードした場合など) 、 &vmguest; "
"側のマシンの種類についても、利用可能な最新版にアップグレードするようにしてください。"
"どのような種類を指定できるのかを知りたい場合は、 &vmhost; 側で <command>qemu-system-"
"x86_64 -M help</command> を実行してください。"

#. Tag: para
#: libvirt_configuration_virsh.xml:162
#, no-c-format
msgid ""
"The default machine type <literal>pc-i440fx</literal> , for example, is "
"regularly updated. If your &vmguest; still runs with a machine type of "
"<literal>pc-i440fx-1.<replaceable>X</replaceable></literal> , we strongly "
"recommend an update to <literal>pc-i440fx-2.<replaceable>X</replaceable></"
"literal> . This allows taking advantage of the most recent updates and "
"corrections in machine definitions, and ensures better future compatibility."
msgstr ""
"また、既定で使用されるマシン種類 (<literal>pc-i440fx</literal>) なども、定期的に"
"更新が行なわれます。お使いの &vmguest; が今も <literal>pc-i440fx-1.<replaceable>X"
"</replaceable></literal> のマシン種類で動作している場合は、 <literal>pc-i440fx-2."
"<replaceable>X</replaceable></literal> にアップグレードすることを強くお勧めします。"
"これにより、最新の更新内容を受けることができることになり、不具合の修正や将来の互換性"
"維持に役立つことになります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:174
#, no-c-format
msgid "Configuring CPU Allocation"
msgstr "CPU 割り当ての設定"

#. Tag: para
#: libvirt_configuration_virsh.xml:176
#, no-c-format
msgid ""
"The number of allocated CPUs is stored in the &vmguest;'s XML configuration "
"file in <filename>/etc/libvirt/qemu/</filename> in the <tag class=\"attribute"
"\">vcpu</tag> element:"
msgstr ""
"&vmguest; の CPU の割り当て数は、 <filename>/etc/libvirt/qemu/</filename> にある"
" XML 設定ファイル内の <tag class=\"attribute\">vcpu</tag> タグ内に書かれています:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:183
#, no-c-format
msgid "&lt;vcpu placement='static'&gt;1&lt;/vcpu&gt;"
msgstr "&lt;vcpu placement='static'&gt;1&lt;/vcpu&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:185
#, no-c-format
msgid ""
"In this example, the &vmguest; has only one allocated CPU. The following "
"procedure shows how to change the number of allocated CPUs for the &vmguest;:"
msgstr ""
"上記の例では、 &vmguest; 側には CPU を 1 つだけ割り当てていることになります。"
"下記の手順では、 &vmguest; 側への CPU の割り当て数の変更方法を説明しています:"

#. Tag: para
#: libvirt_configuration_virsh.xml:192
#, no-c-format
msgid "Check whether your &vmguest; is inactive:"
msgstr "まずは &vmguest; が停止していることを確認します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:195
#, no-c-format
msgid ""
"&prompt.sudo;<command>virsh list --inactive</command>\n"
"Id    Name                           State\n"
"----------------------------------------------------\n"
"-     sles15                         shut off"
msgstr ""
"&prompt.sudo;<command>virsh list --inactive</command>\n"
"Id    名前                           状態\n"
"----------------------------------------------------\n"
"-     sles15                         シャットオフ"

#. Tag: para
#: libvirt_configuration_virsh.xml:207
#, no-c-format
msgid "Change the number of allocated CPUs:"
msgstr "CPU の割り当て数を変更して保存します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:210
#, no-c-format
msgid "&lt;vcpu placement='static'&gt;2&lt;/vcpu&gt;"
msgstr "&lt;vcpu placement='static'&gt;2&lt;/vcpu&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:213
#, no-c-format
msgid "Restart the &vmguest;:"
msgstr "&vmguest; を起動し直します:"

#. Tag: para
#: libvirt_configuration_virsh.xml:219
#, no-c-format
msgid "Check if the number of the CPUs in the VM has changed."
msgstr "仮想マシンに対して割り当てられている CPU 数が変更されていることを確認します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:222
#, no-c-format
msgid ""
"\n"
"&prompt.sudo;<command>virsh vcpuinfo sled15</command>\n"
"VCPU:           0\n"
"CPU:            N/A\n"
"State:          N/A\n"
"CPU time        N/A\n"
"CPU Affinity:   yy\n"
"\n"
"VCPU:           1\n"
"CPU:            N/A\n"
"State:          N/A\n"
"CPU time        N/A\n"
"CPU Affinity:   yy\n"
"      "
msgstr ""
"\n"
"&prompt.sudo;<command>virsh vcpuinfo sled15</command>\n"
"VCPU:           0\n"
"CPU:            N/A\n"
"State:          N/A\n"
"CPU time        N/A\n"
"CPU Affinity:   yy\n"
"\n"
"VCPU:           1\n"
"CPU:            N/A\n"
"State:          N/A\n"
"CPU time        N/A\n"
"CPU Affinity:   yy\n"
"      "

#. Tag: title
#: libvirt_configuration_virsh.xml:240
#, no-c-format
msgid "Changing Boot Options"
msgstr "起動オプションの変更"

#. Tag: para
#: libvirt_configuration_virsh.xml:242
#, no-c-format
msgid ""
"The boot menu of the &vmguest; can be found in the <tag>os</tag> element and "
"usually looks like this:"
msgstr ""
"&vmguest; の起動メニューの設定は <tag>os</tag> タグ内に含まれ、下記のような内容に"
"なっています:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:248
#, no-c-format
msgid ""
"&lt;os&gt;\n"
"  &lt;type&gt;hvm&lt;/type&gt;\n"
"  &lt;loader&gt;readonly='yes' secure='no' type='rom'/&gt;/usr/lib/xen/boot/"
"hvmloader&lt;/loader&gt;\n"
"  &lt;nvram template='/usr/share/OVMF/OVMF_VARS.fd'/&gt;/var/lib/libvirt/"
"nvram/guest_VARS.fd&lt;/nvram&gt;\n"
"  &lt;boot dev='hd'/&gt;\n"
"  &lt;boot dev='cdrom'/&gt;\n"
"  &lt;bootmenu enable='yes' timeout='3000'/&gt;\n"
"  &lt;smbios mode='sysinfo'/&gt;\n"
"  &lt;bios useserial='yes' rebootTimeout='0'/&gt;\n"
"  &lt;/os&gt;"
msgstr ""
"&lt;os&gt;\n"
"  &lt;type&gt;hvm&lt;/type&gt;\n"
"  &lt;loader&gt;readonly='yes' secure='no' type='rom'/&gt;/usr/lib/xen/boot/"
"hvmloader&lt;/loader&gt;\n"
"  &lt;nvram template='/usr/share/OVMF/OVMF_VARS.fd'/&gt;/var/lib/libvirt/"
"nvram/guest_VARS.fd&lt;/nvram&gt;\n"
"  &lt;boot dev='hd'/&gt;\n"
"  &lt;boot dev='cdrom'/&gt;\n"
"  &lt;bootmenu enable='yes' timeout='3000'/&gt;\n"
"  &lt;smbios mode='sysinfo'/&gt;\n"
"  &lt;bios useserial='yes' rebootTimeout='0'/&gt;\n"
"  &lt;/os&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:259
#, no-c-format
msgid ""
"In this example, two devices are available, <tag class=\"attvalue\">hd</tag> "
"and <tag class=\"attvalue\">cdrom</tag> . The configuration also reflects "
"the actual boot order, so the <tag class=\"attvalue\">cdrom</tag> comes "
"before the <tag class=\"attvalue\">hd</tag> ."
msgstr ""
"上記の例では、 <tag class=\"attvalue\">hd</tag> と <tag class=\"attvalue\">cdrom</tag> "
"という 2 つのデバイスが有効化されています。設定内容は実際の起動順序にも影響し、上記の例では"
" <tag class=\"attvalue\">hd</tag> よりも前に <tag class=\"attvalue\">cdrom</tag> の"
"起動が試されることになります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:272
#, no-c-format
msgid "Changing Boot Order"
msgstr "起動順序の変更"

#. Tag: para
#: libvirt_configuration_virsh.xml:273
#, no-c-format
msgid ""
"The &vmguest;'s boot order is represented through the order of devices in "
"the XML configuration file. As the devices are interchangeable, it is "
"possible to change the boot order of the &vmguest;."
msgstr ""
"&vmguest; の起動順序は、 XML 設定ファイル内での出現順序で表わされます。つまり、"
"デバイスのタグを入れ替えることで起動順序を変更できることになります。"

#. Tag: para
#: libvirt_configuration_virsh.xml:280
#, no-c-format
msgid "Open the &vmguest;'s XML configuration."
msgstr "&vmguest; の XML 設定ファイルを開きます。"

#. Tag: para
#: libvirt_configuration_virsh.xml:286
#, no-c-format
msgid "Change the sequence of the bootable devices."
msgstr "デバイスの順序を入れ替えます。"

#. Tag: screen
#: libvirt_configuration_virsh.xml:289
#, no-c-format
msgid ""
"\n"
"...\n"
"&lt;boot dev='cdrom'/&gt;\n"
"&lt;boot dev='hd'/&gt;\n"
"...\n"
"      "
msgstr ""
"\n"
"...\n"
"&lt;boot dev='cdrom'/&gt;\n"
"&lt;boot dev='hd'/&gt;\n"
"...\n"
"      "

#. Tag: para
#: libvirt_configuration_virsh.xml:297
#, no-c-format
msgid ""
"Check if the boot order was changed successfully by looking at the boot menu "
"in the BIOS of the &vmguest;."
msgstr ""
"&vmguest; の BIOS 設定内の起動メニューを確認して、起動順序が変更されていることを"
"確認します。"

#. Tag: title
#: libvirt_configuration_virsh.xml:306
#, no-c-format
msgid "Using Direct Kernel Boot"
msgstr "直接カーネル起動の使用"

#. Tag: para
#: libvirt_configuration_virsh.xml:307
#, no-c-format
msgid ""
"Direct Kernel Boot allows you to boot from a kernel and initrd stored on the "
"host. Set the path to both files in the <tag>kernel</tag> and <tag>initrd</"
"tag> elements:"
msgstr ""
"直接カーネル起動を使用することで、ホスト内に保存されているカーネルと initrd を利用して"
"起動を行なうことができます。この場合は、 <tag>kernel</tag> と <tag>initrd</tag> "
"のタグを追加してファイルを指定します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:315
#, no-c-format
msgid ""
"&lt;os&gt;\n"
"    ...\n"
"  &lt;kernel&gt;/root/f8-i386-vmlinuz&lt;/kernel&gt;\n"
"  &lt;initrd&gt;/root/f8-i386-initrd&lt;/initrd&gt;\n"
"    ...\n"
"&lt;os&gt;"
msgstr ""
"&lt;os&gt;\n"
"    ...\n"
"  &lt;kernel&gt;/root/f8-i386-vmlinuz&lt;/kernel&gt;\n"
"  &lt;initrd&gt;/root/f8-i386-initrd&lt;/initrd&gt;\n"
"    ...\n"
"&lt;os&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:321
#, no-c-format
msgid "To enable Direct Kernel Boot:"
msgstr "直接カーネル起動を有効化するには、下記の手順を実施します:"

#. Tag: para
#: libvirt_configuration_virsh.xml:332
#, no-c-format
msgid ""
"Inside the <tag>os</tag> element, add a <tag>kernel</tag> element and the "
"path to the kernel file on the host:"
msgstr ""
"<tag>os</tag> タグ内に <tag>kernel</tag> タグを追加し、ホスト側でのカーネル"
"ファイルのパスを指定します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:339
#, no-c-format
msgid ""
"...\n"
"&lt;kernel&gt;/root/f8-i386-vmlinuz&lt;/kernel&gt;\n"
"..."
msgstr ""
"...\n"
"&lt;kernel&gt;/root/f8-i386-vmlinuz&lt;/kernel&gt;\n"
"..."

#. Tag: para
#: libvirt_configuration_virsh.xml:344
#, no-c-format
msgid "Add an <tag>initrd</tag> element and the path to the initrd file on the host."
msgstr "同様に <tag>initrd</tag> タグを追加し、ホスト側での initrd ファイルのパスを指定します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:349
#, no-c-format
msgid ""
"...\n"
"&lt;initrd&gt;/root/f8-i386-initrd&lt;/initrd&gt;\n"
"..."
msgstr ""
"...\n"
"&lt;initrd&gt;/root/f8-i386-initrd&lt;/initrd&gt;\n"
"..."

#. Tag: para
#: libvirt_configuration_virsh.xml:354
#, no-c-format
msgid "Start your VM to boot from the new kernel."
msgstr "あとは仮想マシンを起動すると、新しいカーネルでの起動が行なわれます。"

#. Tag: title
#: libvirt_configuration_virsh.xml:363
#, no-c-format
msgid "Configuring Memory Allocation"
msgstr "メモリ割り当ての設定"

#. Tag: para
#: libvirt_configuration_virsh.xml:365
#, no-c-format
msgid ""
"The amount of memory allocated for the &vmguest; can also be configured with "
"virsh. It is stored in the <tag>memory</tag> element. Follow these steps:"
msgstr ""
"&vmguest; に対するメモリ割り当て量は、 virsh でも変更することができます。設定は"
" <tag>memory</tag> タグ内に書かれています。変更を行なうには、下記の手順を実施します:"

#. Tag: para
#: libvirt_configuration_virsh.xml:374
#, no-c-format
msgid "Open the &vmguest;'s XML configuration:"
msgstr "&vmguest; の XML 設定を開きます:"

#. Tag: para
#: libvirt_configuration_virsh.xml:380
#, no-c-format
msgid "Search for the <tag>memory</tag> element and set the amount of allocated RAM:"
msgstr "<tag>memory</tag> タグを検索して、メモリの割り当て量を変更します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:385
#, no-c-format
msgid ""
"...\n"
"&lt;memory unit='KiB'&gt;524288&lt;/memory&gt;\n"
"..."
msgstr ""
"...\n"
"&lt;memory unit='KiB'&gt;524288&lt;/memory&gt;\n"
"..."

#. Tag: para
#: libvirt_configuration_virsh.xml:390
#, no-c-format
msgid "Check the amount of allocated RAM in your VM by running:"
msgstr "あとは仮想マシン内で、割り当てられているメモリ量を確認します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:393
#, no-c-format
msgid "&prompt.user;<command>cat /proc/meminfo</command>"
msgstr "&prompt.user;<command>cat /proc/meminfo</command>"

#. Tag: title
#: libvirt_configuration_virsh.xml:398
#, no-c-format
msgid "Adding a PCI Device"
msgstr "PCI デバイスの追加"

#. Tag: para
#: libvirt_configuration_virsh.xml:400
#, no-c-format
msgid ""
"To assign a PCI device to &vmguest; with <command>virsh</command> , follow "
"these steps:"
msgstr ""
"<command>virsh</command> を利用して &vmguest; に対して PCI デバイスを追加するには、"
"下記の手順を実施します:"

#. Tag: para
#: libvirt_configuration_virsh.xml:407
#, no-c-format
msgid ""
"Identify the host PCI device to assign to the &vmguest;. In the following "
"example, we are assigning a DEC network card to the guest:"
msgstr ""
"まずは &vmguest; に割り当てるホスト側の PCI デバイスを識別します。下記の例では、"
" DEC 社のネットワークカードをゲストに割り当てようとしています:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:411
#, no-c-format
msgid ""
"&prompt.sudo;<command>lspci -nn</command>\n"
"[...]\n"
"<emphasis role=\"bold\">03:07.0</emphasis> Ethernet controller [0200]: "
"Digital Equipment Corporation DECchip \\\n"
"21140 [FasterNet] [1011:0009] (rev 22)\n"
"[...]"
msgstr ""
"&prompt.sudo;<command>lspci -nn</command>\n"
"[...]\n"
"<emphasis role=\"bold\">03:07.0</emphasis> Ethernet controller [0200]: "
"Digital Equipment Corporation DECchip \\\n"
"21140 [FasterNet] [1011:0009] (rev 22)\n"
"[...]"

#. Tag: para
#: libvirt_configuration_virsh.xml:416
#, no-c-format
msgid "Write down the device ID ( <literal>03:07.0</literal> in this case)."
msgstr "デバイス ID (上記の例では <literal>03:07.0</literal>) をメモしておきます。"

#. Tag: para
#: libvirt_configuration_virsh.xml:421
#, no-c-format
msgid ""
"Gather detailed information about the device using <command>virsh nodedev-"
"dumpxml <replaceable>ID</replaceable></command> . To get the "
"<replaceable>ID</replaceable> , replace the colon and the period in the "
"device ID ( <literal>03:07.0</literal> ) with underscores. Prefix the result "
"with <quote>pci_0000_</quote> : <literal>pci_0000_03_07_0</literal> ."
msgstr ""
"<command>virsh nodedev-dumpxml <replaceable>ID</replaceable></command> を実行して、"
"デバイスに関する詳細情報を取得します。ここで <replaceable>ID</replaceable> には"
"デバイス ID (この例では <literal>03:07.0</literal> ) を指定しますが、コロン (:) と"
"ピリオド (.) をアンダースコア (_) に置き換え、かつ <quote>pci_0000_</quote> "
"という前置きを置いた値 (この例では <literal>pci_0000_03_07_0</literal> になります) "
"を指定して実行します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:428
#, no-c-format
msgid ""
"&prompt.sudo;<command>virsh nodedev-dumpxml pci_0000_03_07_0</command>\n"
"&lt;device&gt;\n"
"  &lt;name&gt;pci_0000_03_07_0&lt;/name&gt;\n"
"  &lt;path&gt;/sys/devices/pci0000:00/0000:00:14.4/0000:03:07.0&lt;/"
"path&gt;\n"
"  &lt;parent&gt;pci_0000_00_14_4&lt;/parent&gt;\n"
"  &lt;driver&gt;\n"
"    &lt;name&gt;tulip&lt;/name&gt;\n"
"  &lt;/driver&gt;\n"
"  &lt;capability type='pci'&gt;\n"
"    <emphasis role=\"bold\">&lt;domain&gt;0&lt;/domain&gt;\n"
"    &lt;bus&gt;3&lt;/bus&gt;\n"
"    &lt;slot&gt;7&lt;/slot&gt;\n"
"    &lt;function&gt;0&lt;/function&gt;</emphasis>\n"
"    &lt;product id='0x0009'&gt;DECchip 21140 [FasterNet]&lt;/product&gt;\n"
"    &lt;vendor id='0x1011'&gt;Digital Equipment Corporation&lt;/vendor&gt;\n"
"    &lt;numa node='0'/&gt;\n"
"  &lt;/capability&gt;\n"
"&lt;/device&gt;"
msgstr ""
"&prompt.sudo;<command>virsh nodedev-dumpxml pci_0000_03_07_0</command>\n"
"&lt;device&gt;\n"
"  &lt;name&gt;pci_0000_03_07_0&lt;/name&gt;\n"
"  &lt;path&gt;/sys/devices/pci0000:00/0000:00:14.4/0000:03:07.0&lt;/"
"path&gt;\n"
"  &lt;parent&gt;pci_0000_00_14_4&lt;/parent&gt;\n"
"  &lt;driver&gt;\n"
"    &lt;name&gt;tulip&lt;/name&gt;\n"
"  &lt;/driver&gt;\n"
"  &lt;capability type='pci'&gt;\n"
"    <emphasis role=\"bold\">&lt;domain&gt;0&lt;/domain&gt;\n"
"    &lt;bus&gt;3&lt;/bus&gt;\n"
"    &lt;slot&gt;7&lt;/slot&gt;\n"
"    &lt;function&gt;0&lt;/function&gt;</emphasis>\n"
"    &lt;product id='0x0009'&gt;DECchip 21140 [FasterNet]&lt;/product&gt;\n"
"    &lt;vendor id='0x1011'&gt;Digital Equipment Corporation&lt;/vendor&gt;\n"
"    &lt;numa node='0'/&gt;\n"
"  &lt;/capability&gt;\n"
"&lt;/device&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:446
#, no-c-format
msgid ""
"Write down the values for domain, bus, and function (see the previous XML "
"code printed in bold)."
msgstr ""
"出力された値の中から、 <tag>domain</tag>, <tag>bus</tag>, <!-- NOTE: slot? --> "
"<tag>slot</tag>, <tag>function</tag> の値 (上記太字部分) をメモしておきます。"

#. Tag: para
#: libvirt_configuration_virsh.xml:452
#, no-c-format
msgid ""
"Detach the device from the host system prior to attaching it to the "
"&vmguest;:"
msgstr "&vmguest; に対して割り当てを行なう前に、 &vmhost; 側からの切り離しを行ないます:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:456
#, no-c-format
msgid ""
"&prompt.sudo;<command>virsh nodedev-detach pci_0000_03_07_0</command>\n"
"  Device pci_0000_03_07_0 detached"
msgstr ""
"&prompt.sudo;<command>virsh nodedev-detach pci_0000_03_07_0</command>\n"
"  Device pci_0000_03_07_0 detached"

#. Tag: title
#: libvirt_configuration_virsh.xml:459
#, no-c-format
msgid "Multi-Function PCI Devices"
msgstr "多機能型 PCI デバイスについて"

#. Tag: para
#: libvirt_configuration_virsh.xml:460
#, no-c-format
msgid ""
"When using a multi-function PCI device that does not support FLR (function "
"level reset) or PM (power management) reset, you need to detach all its "
"functions from the &vmhost;. The whole device must be reset for security "
"reasons. <systemitem>libvirt</systemitem> will refuse to assign the device "
"if one of its functions is still in use by the &vmhost; or another &vmguest;."
msgstr ""
"FLR (Function Level Reset; 機能レベルリセット) や PM (Power Management; 電源管理) "
"リセットに対応していない多機能型の PCI デバイスを使用している場合、 &vmguest; 側に"
"割り当てるには、 &vmhost; 側で全ての機能を切り離す必要があります。また、セキュリティ"
"上の理由から、デバイス全体をリセットする必要があります。 <systemitem>libvirt</systemitem> "
"では、 &vmhost; 側もしくは他の &vmguest; 側で機能の一部が使用されている場合、その"
"割り当てを拒否するようになっています。"

#. Tag: para
#: libvirt_configuration_virsh.xml:471
#, no-c-format
msgid ""
"Convert the domain, bus, slot, and function value from decimal to "
"hexadecimal. In our example, domain = 0, bus = 3, slot = 7, and function = "
"0. Ensure that the values are inserted in the right order:"
msgstr ""
"domain, bus, slot, function の各値を 16 進数に変換します。上記の例では、 domain = 0, "
"bus = 3, slot = 7, function = 0 ですので、下記のようなコマンドを実行して変換を"
"行ないます。なお、指定の順序を間違えないようにしてください:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:476
#, no-c-format
msgid ""
"&prompt.user;<command>printf \"&lt;address domain='0x%x' bus='0x%x' slot='0x"
"%x' function='0x%x'/&gt;\\n\" 0 3 7 0</command>"
msgstr ""
"&prompt.user;<command>printf \"&lt;address domain='0x%x' bus='0x%x' slot='0x"
"%x' function='0x%x'/&gt;\\n\" 0 3 7 0</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:477
#, no-c-format
msgid "This results in:"
msgstr "上記を実行すると、下記のように出力されるはずです:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:480
#, no-c-format
msgid "&lt;address domain='0x0' bus='0x3' slot='0x7' function='0x0'/&gt;"
msgstr "&lt;address domain='0x0' bus='0x3' slot='0x7' function='0x0'/&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:483
#, no-c-format
msgid ""
"Run <command>virsh edit</command> on your domain, and add the following "
"device entry in the <literal>&lt;devices&gt;</literal> section using the "
"result from the previous step:"
msgstr ""
"あとは対象の &vmguest; の設定ファイルを <command>virsh edit</command> で編集して、"
"上記の手順の出力結果を <literal>&lt;devices&gt;</literal> タグ内に貼り付けます:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:488
#, no-c-format
msgid ""
"&lt;hostdev mode='subsystem' type='pci' managed='yes'&gt;\n"
"  &lt;source&gt;\n"
"    &lt;address domain='0x0' bus='0x03' slot='0x07' function='0x0'/&gt;\n"
"  &lt;/source&gt;\n"
"&lt;/hostdev&gt;"
msgstr ""
"&lt;hostdev mode='subsystem' type='pci' managed='yes'&gt;\n"
"  &lt;source&gt;\n"
"    &lt;address domain='0x0' bus='0x03' slot='0x07' function='0x0'/&gt;\n"
"  &lt;/source&gt;\n"
"&lt;/hostdev&gt;"

#. Tag: title
#: libvirt_configuration_virsh.xml:494
#, no-c-format
msgid "<literal>managed</literal> Compared to <literal>unmanaged</literal>"
msgstr "<literal>managed</literal> と <literal>unmanaged</literal> の違いについて"

#. Tag: para
#: libvirt_configuration_virsh.xml:495
#, no-c-format
msgid ""
"<systemitem>libvirt</systemitem> recognizes two modes for handling PCI "
"devices: they can be either <literal>managed</literal> or "
"<literal>unmanaged</literal> . In the managed case, <systemitem>libvirt</"
"systemitem> handles all details of unbinding the device from the existing "
"driver if needed, resetting the device, binding it to <systemitem>vfio-pci</"
"systemitem> before starting the domain, etc. When the domain is terminated "
"or the device is removed from the domain, <systemitem>libvirt</systemitem> "
"unbinds from <systemitem>vfio-pci</systemitem> and rebinds to the original "
"driver in the case of a managed device. If the device is unmanaged, the user "
"must ensure all of these management aspects of the device are done before "
"assigning it to a domain, and after the device is no longer used by the "
"domain."
msgstr ""
"<systemitem>libvirt</systemitem> では、 PCI デバイスの処理方法を 2 種類 (<literal>"
"managed</literal> と <literal>unmanaged</literal>) 用意しています。 <literal>"
"managed</literal> の場合、 <systemitem>libvirt</systemitem> は必要に応じて既存の"
"ドライバからデバイスを切り離す処理からデバイスのリセット、仮想マシンを起動する前の"
" <systemitem>vfio-pci</systemitem> への接続など、全ての詳細処理を制御するように"
"なります。また、仮想マシンが終了した場合や仮想マシンからデバイスを切り離した場合、"
" <systemitem>libvirt</systemitem> は <systemitem>vfio-pci</systemitem> への"
"接続を解除して元のドライバに再接続する処理までを行なうようになります。逆に"
" <literal>unmanaged</literal> の場合、 <systemitem>libvirt</systemitem> は"
"それらの処理を行なわず、仮想マシンにハードウエアを割り当てる際と、仮想マシンから"
"ハードウエアを切り離す際には、それらの処理をユーザ側で行なわなければなりません。"

#. Tag: para
#: libvirt_configuration_virsh.xml:511
#, no-c-format
msgid ""
"In the example above, the <literal>managed='yes'</literal> option means that "
"the device is managed. To switch the device mode to unmanaged, set "
"<literal>managed='no'</literal> in the listing above. If you do so, you need "
"to take care of the related driver with the <command>virsh nodedev-detach</"
"command> and <command>virsh nodedev-reattach</command> commands. Prior to "
"starting the &vmguest; you need to detach the device from the host by "
"running <command>virsh nodedev-detach pci_0000_03_07_0</command> . In case "
"the &vmguest; is not running, you can make the device available for the host "
"by running <command>virsh nodedev-reattach pci_0000_03_07_0</command> ."
msgstr ""
"上記の例では <literal>managed='yes'</literal> を指定しているため、 <literal>"
"managed</literal> を選択していることになります。 <literal>unmanaged</literal> "
"に切り替えたい場合は、これを <literal>managed='no'</literal> に変更してください。"
"なお、この場合は <command>virsh nodedev-detach</command> や <command>virsh "
"nodedev-reattach</command> のコマンドを利用して、対応するドライバに対する処理を"
"行なう必要があります。具体的には、 &vmguest; を起動する前に <command>virsh nodedev-"
"detach pci_0000_03_07_0</command> を実行してホスト側から切り離し、終了後には"
" <command>virsh nodedev-reattach pci_0000_03_07_0</command> を実行して、ホスト側で"
"認識できるように再設定する必要があります。"

#. Tag: para
#: libvirt_configuration_virsh.xml:525
#, no-c-format
msgid "Shut down the &vmguest; and disable &selnx; if it is running on the host."
msgstr "ホスト側で &selnx; が動作している場合は、 &vmguest; をシャットダウンして &selnx; を無効化します。"

#. Tag: para
#: libvirt_configuration_virsh.xml:531
#, no-c-format
msgid "Start your &vmguest; to make the assigned PCI device available."
msgstr "&vmguest; を起動すると、 &vmguest; から割り当てられた PCI デバイスにアクセスできるようになります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:539
#, no-c-format
msgid "Adding a USB Device"
msgstr "USB デバイスの追加"

#. Tag: para
#: libvirt_configuration_virsh.xml:541
#, no-c-format
msgid ""
"To assign a USB device to &vmguest; using <command>virsh</command> , follow "
"these steps:"
msgstr ""
"USB デバイスを &vmguest; に割り当てるには、 <command>virsh</command> を使用して"
"下記のように実施します:"

#. Tag: para
#: libvirt_configuration_virsh.xml:548
#, no-c-format
msgid "Identify the host USB device to assign to the &vmguest;:"
msgstr "&vmguest; に接続されている USB デバイスを識別します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:551
#, no-c-format
msgid ""
"&prompt.sudo;<command>lsusb</command>\n"
"[...]\n"
"Bus 001 Device 003: ID <emphasis role=\"bold\">0557:2221</emphasis> ATEN "
"International Co., Ltd Winbond Hermon\n"
"[...]"
msgstr ""
"&prompt.sudo;<command>lsusb</command>\n"
"[...]\n"
"Bus 001 Device 003: ID <emphasis role=\"bold\">0557:2221</emphasis> ATEN "
"International Co., Ltd Winbond Hermon\n"
"[...]"

#. Tag: para
#: libvirt_configuration_virsh.xml:555
#, no-c-format
msgid ""
"Write down the vendor and product IDs. In our example, the vendor ID is "
"<literal>0557</literal> and the product ID is <literal>2221</literal> ."
msgstr ""
"出力された ID をメモしておきます。上記の例では、製造元 ID が <literal>0557</literal> 、"
"製品 ID が <literal>2221</literal> となります。"

#. Tag: para
#: libvirt_configuration_virsh.xml:561
#, no-c-format
msgid ""
"Run <command>virsh edit</command> on your domain, and add the following "
"device entry in the <literal>&lt;devices&gt;</literal> section using the "
"values from the previous step:"
msgstr ""
"仮想マシンに対して <command>virsh edit</command> を実行し、下記の内容を"
" <literal>&lt;devices&gt;</literal> タグ内に追加します。このとき、 vendor と"
" product の箇所にそれぞれメモした値を指定します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:566
#, no-c-format
msgid ""
"&lt;hostdev mode='subsystem' type='usb'&gt;\n"
"  &lt;source startupPolicy='optional'&gt;\n"
"   <emphasis role=\"bold\">&lt;vendor id='0557'/&gt;\n"
"   &lt;product id='2221'/&gt;</emphasis>\n"
"  &lt;/source&gt;\n"
"&lt;/hostdev&gt;"
msgstr ""
"&lt;hostdev mode='subsystem' type='usb'&gt;\n"
"  &lt;source startupPolicy='optional'&gt;\n"
"   <emphasis role=\"bold\">&lt;vendor id='0557'/&gt;\n"
"   &lt;product id='2221'/&gt;</emphasis>\n"
"  &lt;/source&gt;\n"
"&lt;/hostdev&gt;"

#. Tag: title
#: libvirt_configuration_virsh.xml:573
#, no-c-format
msgid "Vendor/Product or Device's Address"
msgstr "製造元 (vendor) と製品 (product) の指定ではなく、デバイスのアドレス (address) を設定する方法について"

#. Tag: para
#: libvirt_configuration_virsh.xml:574
#, no-c-format
msgid ""
"Instead of defining the host device with <tag class=\"emptytag\">vendor</"
"tag> and <tag class=\"emptytag\">product</tag> IDs, you can use the <tag "
"class=\"emptytag\">address</tag> element as described for host PCI devices "
"in <xref linkend=\"sec.libvirt.config.pci.virsh\"/> ."
msgstr ""
"<tag class=\"emptytag\">vendor</tag> および <tag class=\"emptytag\">product</tag> "
"の ID を指定する方法のほかにも、 <xref linkend=\"sec.libvirt.config.pci.virsh\"/> で"
" PCI デバイスを割り当てる際の説明と同様に、 <tag class=\"emptytag\">address</tag> "
"タグを利用して割り当てる方法もあります。"

#. Tag: para
#: libvirt_configuration_virsh.xml:587
#, no-c-format
msgid ""
"Shut down the &vmguest; and disable &selnx; if it is running on the host. "
"available."
msgstr "ホスト側で &selnx; が動作している場合は、 &vmguest; をシャットダウンして &selnx; を無効化します。"

#. Tag: screen
#: libvirt_configuration_virsh.xml:591
#, no-c-format
msgid "&prompt.sudo;<command>setsebool -P virt_use_sysfs 1</command>"
msgstr "&prompt.sudo;<command>setsebool -P virt_use_sysfs 1</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:594
#, no-c-format
msgid "Start your &vmguest; to make the assigned PCI device available"
msgstr "&vmguest; を起動すると、 &vmguest; から割り当てられた <!-- NOTE: \"USB\"? --> デバイスにアクセスできるようになります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:602
#, no-c-format
msgid "Adding SR-IOV Devices"
msgstr "SR-IOV デバイスの追加"

#. Tag: para
#: libvirt_configuration_virsh.xml:604
#, no-c-format
msgid ""
"Single Root I/O Virtualization ( <xref linkend=\"vt.io.sriov\"/> ) capable "
"<xref linkend=\"gloss.vt.acronym.pcie\"/> devices can replicate their "
"resources, so they appear to be multiple devices. Each of these "
"<quote>pseudo-devices</quote> can be assigned to a &vmguest;."
msgstr ""
"Single Root I/O Virtualization ( <xref linkend=\"vt.io.sriov\"/> ) に対応した"
" <xref linkend=\"gloss.vt.acronym.pcie\"/> デバイスは、リソースを複製することが"
"できるため、複数のデバイスとして振る舞うことができます。複製されたリソースは"
" <quote>擬似デバイス</quote> として、 &vmguest; への割り当てを行なうことができます。"

#. Tag: para
#: libvirt_configuration_virsh.xml:611
#, no-c-format
msgid ""
"<xref linkend=\"vt.io.sriov\"/> is an industry specification that was "
"created by the Peripheral Component Interconnect Special Interest Group (PCI-"
"SIG) consortium. It introduces physical functions (PF) and virtual functions "
"(VF). PFs are full <xref linkend=\"gloss.vt.acronym.pcie\"/> functions used "
"to manage and configure the device. PFs also can move data. VFs lack the "
"configuration and management part—they only can move data and a reduced set "
"of configuration functions. As VFs do not have all <xref linkend=\"gloss.vt."
"acronym.pcie\"/> functions, the host operating system or the <xref linkend="
"\"gloss.vt.hypervisor\"/> must support <xref linkend=\"vt.io.sriov\"/> to be "
"able to access and initialize VFs. The theoretical maximum for VFs is 256 "
"per device (consequently the maximum for a dual-port Ethernet card would be "
"512). In practice this maximum is much lower, since each VF consumes "
"resources."
msgstr ""
"<xref linkend=\"vt.io.sriov\"/> は Peripheral Component Interconnect Special "
"Interest Group (PCI-SIG) が作成した工業仕様で、物理機能 (Physical Functions (PF)) "
"と仮想機能 (Virtual Functions (VF)) を提供しています。 PF はデバイスを管理したり設定"
"したりするための完全な <xref linkend=\"gloss.vt.acronym.pcie\"/> 機能で、データの"
"移動も行なうことができます。それに対して VF 側には管理部分が提供されておらず、"
"データの移動と設定機能の一部のみが提供されています。 VF は全ての <xref linkend=\"gloss.vt."
"acronym.pcie\"/> 機能を持っているわけではないので、ホスト側のオペレーティングシステム"
"もしくは <xref linkend=\"gloss.vt.hypervisor\"/> が <xref linkend=\"vt.io.sriov\"/> "
"に対応し、 VF へのアクセスと初期化を行なわなければなりません。論理上の VF の最大数は、"
" 1 デバイスあたり 256 個まで (たとえば 2 ポートのイーサネットカードであれば 512 個) "
"になります。実際には各 VF がリソースを消費してしまうことから、この最大値はもっとずっと"
"小さくなります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:628
#, no-c-format
msgid "Requirements"
msgstr "要件"

#. Tag: para
#: libvirt_configuration_virsh.xml:629
#, no-c-format
msgid ""
"The following requirements must be met to use <xref linkend=\"vt.io.sriov\"/"
"> :"
msgstr "<xref linkend=\"vt.io.sriov\"/> を使用するには、下記の要件を全て満たさなければなりません:"

#. Tag: para
#: libvirt_configuration_virsh.xml:635
#, no-c-format
msgid ""
"An <xref linkend=\"vt.io.sriov\"/> -capable network card (as of <phrase role="
"\"productname\"><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase></"
"phrase> <phrase role=\"productnumber\"><phrase os=\"sles;sled\">15</phrase></"
"phrase> , only network cards support <xref linkend=\"vt.io.sriov\"/> )"
msgstr ""
"<xref linkend=\"vt.io.sriov\"/> に対応したネットワークカードを用意すること ("
"&productname; ではネットワークカードのみに対応しています) 。"

#. Tag: para
#: libvirt_configuration_virsh.xml:644
#, no-c-format
msgid ""
"An AMD64/Intel 64 host supporting hardware virtualization (AMD-V or Intel VT-"
"x) <phrase os=\"sles;sled\">, see <xref linkend=\"sec.kvm.requires.hardware"
"\"/> for more information</phrase>"
msgstr ""
"AMD64/Intel 64 でハードウエア仮想化 (AMD-V もしくは Intel VT-x) に対応していること。"
" <phrase os=\"sles;sled\">詳しくは <xref linkend=\"sec.kvm.requires.hardware"
"\"/> をお読みください。</phrase>"

#. Tag: para
#: libvirt_configuration_virsh.xml:651
#, no-c-format
msgid ""
"A chipset that supports device assignment (AMD-Vi or Intel <xref linkend="
"\"gloss.vt.acronym.vtd\"/> )"
msgstr ""
"デバイスの割り当て (AMD-Vi もしくは Intel <xref linkend=\"gloss.vt.acronym.vtd\"/>) "
"に対応したチップセットであること。"

#. Tag: para
#: libvirt_configuration_virsh.xml:657
#, no-c-format
msgid "&libvirt; 0.9.10 or better"
msgstr "&libvirt; 0.9.10 もしくはそれ以降が存在すること。"

#. Tag: para
#: libvirt_configuration_virsh.xml:662
#, no-c-format
msgid ""
"<xref linkend=\"vt.io.sriov\"/> drivers must be loaded and configured on the "
"host system"
msgstr "ホストシステム内で <xref linkend=\"vt.io.sriov\"/> ドライバが読み込まれ、設定されていること。"

#. Tag: para
#: libvirt_configuration_virsh.xml:668
#, no-c-format
msgid ""
"A host configuration that meets the requirements listed at <xref linkend="
"\"ann.vt.io.require\"/>"
msgstr "ホスト側の設定が <xref linkend=\"ann.vt.io.require\"/> に示されている要件を満たしていること。"

#. Tag: para
#: libvirt_configuration_virsh.xml:674
#, no-c-format
msgid "A list of the PCI addresses of the VF(s) that will be assigned to &vmguest;s"
msgstr "&vmguest; に割り当てる予定の VF の PCI アドレスの一覧を用意していること。"

#. Tag: title
#: libvirt_configuration_virsh.xml:681
#, no-c-format
msgid "Checking if a Device is SR-IOV-Capable"
msgstr "デバイスが SR-IOV に対応しているかどうかの確認方法"

#. Tag: para
#: libvirt_configuration_virsh.xml:682
#, no-c-format
msgid ""
"The information whether a device is SR-IOV-capable can be obtained from its "
"PCI descriptor by running <command>lspci</command> . A device that supports "
"<xref linkend=\"vt.io.sriov\"/> reports a capability similar to the "
"following:"
msgstr ""
"デバイスが <xref linkend=\"vt.io.sriov\"/> に対応しているかどうかは、 <command>"
"lspci <!-- NOTE: \"-v\" is required? -->-v</command> を実行して表示される情報"
"から判断することができます。 <xref linkend=\"vt.io.sriov\"/> に対応するデバイス"
"である場合、下記のような表示が現われるはずです:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:688
#, no-c-format
msgid ""
"Capabilities: [160 v1] Single Root I/O Virtualization (<xref linkend=\"vt.io."
"sriov\"/>)"
msgstr ""
"Capabilities: [160 v1] Single Root I/O Virtualization (<xref linkend=\"vt.io."
"sriov\"/>)"

#. Tag: title
#: libvirt_configuration_virsh.xml:691
#, no-c-format
msgid "Adding an SR-IOV Device at &vmguest; Creation"
msgstr "&vmguest; の作成時における SR-IOV デバイスの追加について"

#. Tag: para
#: libvirt_configuration_virsh.xml:692
#, no-c-format
msgid ""
"Before adding an SR-IOV device to a &vmguest; when initially setting it up, "
"the &vmhost; already needs to be configured as described in <xref linkend="
"\"sec.libvirt.config.io.config\"/> ."
msgstr ""
"初期設定時に &vmguest; に SR-IOV デバイスを追加する場合は、あらかじめ <xref linkend="
"\"sec.libvirt.config.io.config\"/> で説明している手順で設定を済ませておく必要があります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:701
#, no-c-format
msgid "Loading and Configuring the SR-IOV Host Drivers"
msgstr "SR-IOV ホストドライバの読み込みと設定"

#. Tag: para
#: libvirt_configuration_virsh.xml:702
#, no-c-format
msgid ""
"To access and initialize VFs, an SR-IOV-capable driver needs to be loaded on "
"the host system."
msgstr ""
"VF にアクセスして準備を行なうには、 SR-IOV 対応のドライバをホスト側のシステムに読み込んで"
"おく必要があります。"

#. Tag: para
#: libvirt_configuration_virsh.xml:708
#, no-c-format
msgid ""
"Before loading the driver, make sure the card is properly detected by "
"running <command>lspci</command> . The following example shows the "
"<command>lspci</command> output for the dual-port Intel 82576NS network card:"
msgstr ""
"ドライバを読み込む前に、まずは <command>lspci</command> を実行して、カードが正しく"
"検出されていることを確認します。下記の例では、 <command>lspci</command> が"
"デュアルポートの Intel 82576NS ネットワークカードを検出しています:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:714
#, no-c-format
msgid ""
"&prompt.sudo;<command>/sbin/lspci | grep 82576</command>\n"
"01:00.0 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"01:00.1 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"04:00.0 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"04:00.1 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)"
msgstr ""
"&prompt.sudo;<command>/sbin/lspci | grep 82576</command>\n"
"01:00.0 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"01:00.1 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"04:00.0 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"04:00.1 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)"

#. Tag: para
#: libvirt_configuration_virsh.xml:719
#, no-c-format
msgid ""
"In case the card is not detected, it is likely that the hardware "
"virtualization support in the BIOS/EFI has not been enabled. To check if "
"hardware virtualization support is enabled, look at the settings in the "
"host's BIOS."
msgstr ""
"カードが検出されていない場合、 BIOS/EFI の設定でハードウエア仮想化の設定が"
"有効化されていないことが考えられます。ハードウエア仮想化機能が有効化されている"
"か同化を調べるには、ホスト側の BIOS 設定をご確認ください。"

#. Tag: para
#: libvirt_configuration_virsh.xml:727
#, no-c-format
msgid ""
"Check whether the <xref linkend=\"vt.io.sriov\"/> driver is already loaded "
"by running <command>lsmod</command> . In the following example a check for "
"the igb driver (for the Intel 82576NS network card) returns a result. That "
"means the driver is already loaded. If the command returns nothing, the "
"driver is not loaded."
msgstr ""
"次に <command>lsmod</command> を実行して、 <xref linkend=\"vt.io.sriov\"/> "
"ドライバが読み込まれているかどうかを確認します。下記の例では igb ドライバ"
" (Intel 82576NS ネットワークカード向けのドライバです) が読み込まれているかどうか"
"の確認になります。下記のように表示されれば、ドライバが既に読み込まれていることに"
"なります。何も出力を返さない場合は、ドライバが読み込まれていないことになります。"

#. Tag: screen
#: libvirt_configuration_virsh.xml:734
#, no-c-format
msgid ""
"&prompt.sudo;<command>/sbin/lsmod | egrep \"^igb \"</command>\n"
"igb                   185649  0"
msgstr ""
"&prompt.sudo;<command>/sbin/lsmod | egrep \"^igb \"</command>\n"
"igb                   185649  0"

#. Tag: para
#: libvirt_configuration_virsh.xml:738
#, no-c-format
msgid ""
"Skip the following step if the driver is already loaded. If the <xref "
"linkend=\"vt.io.sriov\"/> driver is not yet loaded, the non- <xref linkend="
"\"vt.io.sriov\"/> driver needs to be removed first, before loading the new "
"driver. Use <command>rmmod</command> to unload a driver. The following "
"example unloads the non- <xref linkend=\"vt.io.sriov\"/> driver for the "
"Intel 82576NS network card:"
msgstr ""
"ドライバが既に読み込まれている場合は、この手順を飛ばしてください。 <xref "
"linkend=\"vt.io.sriov\"/> ドライバが読み込まれていない場合は、あらかじめ"
" <xref linkend=\"vt.io.sriov\"/> 非対応のドライバの読み込みを解除する必要が"
"あります。読み込みを解除するには、 <command>rmmod</command> コマンドをお使い"
"ください。下記の例では、 Intel 82576NS ネットワークカード向けの <xref linkend=\""
"vt.io.sriov\"/> 非対応ドライバの読み込みを解除しています:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:747
#, no-c-format
msgid "&prompt.sudo;<command>/sbin/rmmod igbvf</command>"
msgstr "&prompt.sudo;<command>/sbin/rmmod igbvf</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:750
#, no-c-format
msgid ""
"Load the <xref linkend=\"vt.io.sriov\"/> driver subsequently using the "
"<command>modprobe</command> command—the VF parameter ( <literal>max_vfs</"
"literal> ) is mandatory:"
msgstr ""
"あとは <command>modprobe</command> を利用して、 <xref linkend=\"vt.io.sriov\"/> "
"対応のドライバを読み込みます。このとき、 VF パラメータ ( <literal>max_vfs</"
"literal> ) を必ず指定してください:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:755
#, no-c-format
msgid "&prompt.sudo;<command>/sbin/modprobe igb max_vfs=8</command>"
msgstr "&prompt.sudo;<command>/sbin/modprobe igb max_vfs=8</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:759
#, no-c-format
msgid "As an alternative, you can also load the driver via SYSFS:"
msgstr "代わりの方法として、 SYSFS を介してドライバを読み込む方法もあります:"

#. Tag: para
#: libvirt_configuration_virsh.xml:764
#, no-c-format
msgid "Find the PCI ID of the physical NIC by listing Ethernet devices:"
msgstr "イーサネットデバイスの一覧を表示して、物理 NIC の PCI ID を確認します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:767
#, no-c-format
msgid ""
"&prompt.sudo;<command>lspci | grep Eth</command>\n"
"06:00.0 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)\n"
"06:00.1 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)"
msgstr ""
"&prompt.sudo;<command>lspci | grep Eth</command>\n"
"06:00.0 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)\n"
"06:00.1 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)"

#. Tag: para
#: libvirt_configuration_virsh.xml:772
#, no-c-format
msgid ""
"To enable VFs, echo the number of desired VFs to load to the "
"<literal>sriov_numvfs</literal> parameter:"
msgstr ""
"VF を有効化するには、 <literal>sriov_numvfs</literal> パラメータに対して"
"必要な VF 数を書き込みます:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:776
#, no-c-format
msgid ""
"&prompt.sudo;<command>echo 1 &gt; /sys/bus/pci/devices/0000:06:00.1/"
"sriov_numvfs</command>"
msgstr ""
"&prompt.sudo;<command>echo 1 &gt; /sys/bus/pci/devices/0000:06:00.1/"
"sriov_numvfs</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:779
#, no-c-format
msgid "Verify that the VF NIC was loaded:"
msgstr "VF NIC が読み込まれたことを確認します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:782
#, no-c-format
msgid ""
"&prompt.sudo;<command>lspci | grep Eth</command>\n"
"06:00.0 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)\n"
"06:00.1 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)\n"
"06:08.0 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)"
msgstr ""
"&prompt.sudo;<command>lspci | grep Eth</command>\n"
"06:00.0 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)\n"
"06:00.1 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)\n"
"06:08.0 Ethernet controller: Emulex Corporation OneConnect NIC (Skyhawk) "
"(rev 10)"

#. Tag: para
#: libvirt_configuration_virsh.xml:788
#, no-c-format
msgid "Obtain the maximum number of VFs available:"
msgstr "設定可能な VF の最大数を知りたい場合は、下記のようなコマンドを入力して実行します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:791
#, no-c-format
msgid ""
"&prompt.sudo;<command>lspci -vvv -s 06:00.1 | grep 'Initial VFs'</command>\n"
"                       Initial VFs: 32, Total VFs: 32, Number of VFs: 0,\n"
"Function Dependency Link: 01"
msgstr ""
"&prompt.sudo;<command>lspci -vvv -s 06:00.1 | grep 'Initial VFs'</command>\n"
"                       Initial VFs: 32, Total VFs: 32, Number of VFs: 0,\n"
"Function Dependency Link: 01"

#. Tag: para
#: libvirt_configuration_virsh.xml:796
#, no-c-format
msgid ""
"Create a <filename>/etc/systemd/system/before.service</filename> file which "
"loads VF via SYSFS on boot:"
msgstr ""
"<filename>/etc/systemd/system/before.service</filename> ファイルを作成して、"
"システムの起動時に SYSFS 経由で VF を自動設定するように設定します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:800
#, no-c-format
msgid ""
"[Unit]\n"
"Before=\n"
"[Service]\n"
"Type=oneshot\n"
"RemainAfterExit=true\n"
"ExecStart=/bin/bash -c \"echo 1 &gt; /sys/bus/pci/devices/0000:06:00.1/"
"sriov_numvfs\"\n"
"# beware, executable is run directly, not through a shell, check the man "
"pages\n"
"# systemd.service and systemd.unit for full syntax\n"
"[Install]\n"
"# target in which to start the service\n"
"WantedBy=multi-user.target\n"
"#WantedBy=graphical.target"
msgstr ""
"[Unit]\n"
"Before=\n"
"[Service]\n"
"Type=oneshot\n"
"RemainAfterExit=true\n"
"ExecStart=/bin/bash -c \"echo 1 &gt; /sys/bus/pci/devices/0000:06:00.1/sriov_numvfs\"\n"
"# 注意: 実行ファイルはシェル経由ではなく、直接実行されます。詳しい書式については、\n"
"# systemd.service と systemd.unit のマニュアルページをお読みください\n"
"[Install]\n"
"# このサービスを開始するターゲットの指定\n"
"WantedBy=multi-user.target\n"
"#WantedBy=graphical.target"

#. Tag: para
#: libvirt_configuration_virsh.xml:814
#, no-c-format
msgid ""
"Prior to starting the VM, it is required to create another service file "
"( <filename>after-local.service</filename> ) pointing to <filename>/etc/init."
"d/after.local</filename> script that detaches the NIC. Otherwise the VM "
"would fail to start:"
msgstr ""
"また仮想マシンを起動する前に、もう 1 つのサービスファイル ( <filename>after-local."
"service</filename> ) を作成し、 NIC の切り離しを行なうスクリプト <filename>/etc/init."
"d/after.local</filename> を実行するように設定します。これを行なわないと、 VM の"
"起動が失敗するようになってしまいます:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:820
#, no-c-format
msgid ""
"[Unit]\n"
"Description=/etc/init.d/after.local Compatibility\n"
"After=libvirtd.service\n"
"Requires=libvirtd.service\n"
"[Service]\n"
"Type=oneshot\n"
"ExecStart=/etc/init.d/after.local\n"
"RemainAfterExit=true\n"
"\n"
"[Install]\n"
"WantedBy=multi-user.target"
msgstr ""
"[Unit]\n"
"Description=/etc/init.d/after.local Compatibility\n"
"After=libvirtd.service\n"
"Requires=libvirtd.service\n"
"[Service]\n"
"Type=oneshot\n"
"ExecStart=/etc/init.d/after.local\n"
"RemainAfterExit=true\n"
"\n"
"[Install]\n"
"WantedBy=multi-user.target"

#. Tag: para
#: libvirt_configuration_virsh.xml:833
#, no-c-format
msgid "Copy it to <filename>/etc/systemd/system</filename> ."
msgstr "上記の内容を <filename>/etc/systemd/system</filename> にコピーします。"

#. Tag: screen
#: libvirt_configuration_virsh.xml:836
#, no-c-format
msgid ""
"#! /bin/sh\n"
"# ...\n"
"virsh nodedev-detach pci_0000_06_08_0"
msgstr ""
"#! /bin/sh\n"
"# ...\n"
"virsh nodedev-detach pci_0000_06_08_0"

#. Tag: para
#: libvirt_configuration_virsh.xml:839
#, no-c-format
msgid "Save it as <filename>/etc/init.d/after.local</filename> ."
msgstr "上記の内容を <filename>/etc/init.d/after.local</filename> に保存します。"

#. Tag: para
#: libvirt_configuration_virsh.xml:844
#, no-c-format
msgid ""
"Reboot the machine and check if the SR-IOV driver is loaded by re-running "
"the <command>lspci</command> command from the first step of this procedure. "
"If the SR-IOV driver was loaded successfully you should see additional lines "
"for the VFs:"
msgstr ""
"マシンを再起動したあと、手順の冒頭で実行した <command>lspci</command> コマンドを"
"実行しなおし、 SR-IOV ドライバが読み込まれていることを確認します。 SR-IOV ドライバが"
"正しく読み込まれていれば、下記のように VF 向けの追加の行が現われているはずです:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:850
#, no-c-format
msgid ""
"01:00.0 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"01:00.1 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"01:10.0 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"01:10.1 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"01:10.2 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"[...]\n"
"04:00.0 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"04:00.1 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"04:10.0 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"04:10.1 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"04:10.2 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"[...]"
msgstr ""
"01:00.0 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"01:00.1 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"01:10.0 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"01:10.1 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"01:10.2 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"[...]\n"
"04:00.0 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"04:00.1 Ethernet controller: Intel Corporation 82576NS Gigabit Network "
"Connection (rev 01)\n"
"04:10.0 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"04:10.1 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"04:10.2 Ethernet controller: Intel Corporation 82576 Virtual Function (rev "
"01)\n"
"[...]"

#. Tag: title
#: libvirt_configuration_virsh.xml:867
#, no-c-format
msgid "Adding a VF Network Device to a &vmguest;"
msgstr "&vmguest; に対する VF ネットワークデバイスの追加"

#. Tag: para
#: libvirt_configuration_virsh.xml:868
#, no-c-format
msgid ""
"When the <xref linkend=\"vt.io.sriov\"/> hardware is properly set up on the "
"&vmhost;, you can add VFs to &vmguest;s. To do so, you need to collect some "
"data first."
msgstr ""
"<xref linkend=\"vt.io.sriov\"/> 対応のハードウエアの設定を &vmhost; 内で正しく"
"実施したあとは、 &vmguest; に対して VF を追加していきます。これを行なうには、まず"
"いくつかのデータを収集しておく必要があります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:874
#, no-c-format
msgid "Adding a VF Network Device to an Existing &vmguest;"
msgstr "既存の &vmguest; に対する VF ネットワークデバイスの追加"

#. Tag: para
#: libvirt_configuration_virsh.xml:875
#, no-c-format
msgid ""
"The following procedure uses example data. Make sure to replace it by "
"appropriate data from your setup."
msgstr ""
"下記に示す手順は構成例となります。お使いの環境に合わせて各種のデータを変更して"
"実行してください。"

#. Tag: para
#: libvirt_configuration_virsh.xml:880
#, no-c-format
msgid ""
"Use the <command>virsh nodedev-list</command> command to get the PCI address "
"of the VF you want to assign and its corresponding PF. Numerical values from "
"the <command>lspci</command> output shown in <xref linkend=\"sec.libvirt."
"config.io.config\"/> (for example <literal>01:00.0</literal> or "
"<literal>04:00.1</literal> ) are transformed by adding the prefix \"pci_0000_"
"\" and by replacing colons and dots with underscores. So a PCI ID listed as "
"\"04:00.0\" by <command>lspci</command> is listed as \"pci_0000_04_00_0\" by "
"virsh. The following example lists the PCI IDs for the second port of the "
"Intel 82576NS network card:"
msgstr ""
"<command>virsh nodedev-list</command> コマンドを実行して、割り当てる VF と対応する"
" PF の PCI アドレスを取得します。 <command>lspci</command> の出力は <xref linkend=\"sec.libvirt."
"config.io.config\"/> のようになります (たとえば <literal>01:00.0</literal> や "
"<literal>04:00.1</literal> など) 。このアドレス情報のコロン (:) やドット (.) を"
"アンダースコア (_) に変換し、冒頭に \"pci_0000_\" を付けたものが virsh で使用する"
"アドレスとなります。たとえば <command>lspci</command> コマンドで \"04:00.0\" と"
"出力された場合、 virsh のアドレスは \"pci_0000_04_00_0\" になります。下記の例では、"
" Intel 82576NS デュアルポートイーサネットカードでの PCI ID を取得しています:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:891
#, no-c-format
msgid ""
"&prompt.sudo;<command>virsh nodedev-list | grep 0000_04_</command>\n"
"<emphasis role=\"bold\">pci_0000_04_00_0</emphasis>\n"
"<emphasis role=\"bold\">pci_0000_04_00_1</emphasis>\n"
"pci_0000_04_10_0\n"
"pci_0000_04_10_1\n"
"pci_0000_04_10_2\n"
"pci_0000_04_10_3\n"
"pci_0000_04_10_4\n"
"pci_0000_04_10_5\n"
"pci_0000_04_10_6\n"
"pci_0000_04_10_7\n"
"pci_0000_04_11_0\n"
"pci_0000_04_11_1\n"
"pci_0000_04_11_2\n"
"pci_0000_04_11_3\n"
"pci_0000_04_11_4\n"
"pci_0000_04_11_5"
msgstr ""
"&prompt.sudo;<command>virsh nodedev-list | grep 0000_04_</command>\n"
"<emphasis role=\"bold\">pci_0000_04_00_0</emphasis>\n"
"<emphasis role=\"bold\">pci_0000_04_00_1</emphasis>\n"
"pci_0000_04_10_0\n"
"pci_0000_04_10_1\n"
"pci_0000_04_10_2\n"
"pci_0000_04_10_3\n"
"pci_0000_04_10_4\n"
"pci_0000_04_10_5\n"
"pci_0000_04_10_6\n"
"pci_0000_04_10_7\n"
"pci_0000_04_11_0\n"
"pci_0000_04_11_1\n"
"pci_0000_04_11_2\n"
"pci_0000_04_11_3\n"
"pci_0000_04_11_4\n"
"pci_0000_04_11_5"

#. Tag: para
#: libvirt_configuration_virsh.xml:908
#, no-c-format
msgid ""
"The first two entries represent the <emphasis role=\"bold\">PFs</emphasis> , "
"whereas the other entries represent the VFs."
msgstr ""
"最初の 2 つの項目が <emphasis role=\"bold\">PF</emphasis> を、残りの項目が"
" VF を表わしています。"

#. Tag: para
#: libvirt_configuration_virsh.xml:914
#, no-c-format
msgid ""
"Run the following command <command>virsh nodedev-dumpxml</command> on the "
"PCI ID of the VF you want to add:"
msgstr ""
"あとは <command>virsh nodedev-dumpxml</command> を実行して、追加したい VF の PCI ID を"
"取得します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:918
#, no-c-format
msgid ""
"&prompt.sudo;<command>virsh nodedev-dumpxml pci_0000_04_10_0</command>\n"
"&lt;device&gt;\n"
"  &lt;name&gt;pci_0000_04_10_0&lt;/name&gt;\n"
"  &lt;parent&gt;pci_0000_00_02_0&lt;/parent&gt;\n"
"  &lt;capability type='pci'&gt;\n"
"    <emphasis role=\"bold\">&lt;domain&gt;0&lt;/domain&gt;\n"
"    &lt;bus&gt;4&lt;/bus&gt;\n"
"    &lt;slot&gt;16&lt;/slot&gt;\n"
"    &lt;function&gt;0&lt;/function&gt;</emphasis>\n"
"    &lt;product id='0x10ca'&gt;82576 Virtual Function&lt;/product&gt;\n"
"    &lt;vendor id='0x8086'&gt;Intel Corporation&lt;/vendor&gt;\n"
"    &lt;capability type='phys_function'&gt;\n"
"      &lt;address domain='0x0000' bus='0x04' slot='0x00' function='0x0'/"
"&gt;\n"
"    &lt;/capability&gt;\n"
"  &lt;/capability&gt;\n"
"&lt;/device&gt;"
msgstr ""
"&prompt.sudo;<command>virsh nodedev-dumpxml pci_0000_04_10_0</command>\n"
"&lt;device&gt;\n"
"  &lt;name&gt;pci_0000_04_10_0&lt;/name&gt;\n"
"  &lt;parent&gt;pci_0000_00_02_0&lt;/parent&gt;\n"
"  &lt;capability type='pci'&gt;\n"
"    <emphasis role=\"bold\">&lt;domain&gt;0&lt;/domain&gt;\n"
"    &lt;bus&gt;4&lt;/bus&gt;\n"
"    &lt;slot&gt;16&lt;/slot&gt;\n"
"    &lt;function&gt;0&lt;/function&gt;</emphasis>\n"
"    &lt;product id='0x10ca'&gt;82576 Virtual Function&lt;/product&gt;\n"
"    &lt;vendor id='0x8086'&gt;Intel Corporation&lt;/vendor&gt;\n"
"    &lt;capability type='phys_function'&gt;\n"
"      &lt;address domain='0x0000' bus='0x04' slot='0x00' function='0x0'/"
"&gt;\n"
"    &lt;/capability&gt;\n"
"  &lt;/capability&gt;\n"
"&lt;/device&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:934
#, no-c-format
msgid "The following data is needed for the next step:"
msgstr "次の手順では、下記のデータが必要となります:"

#. Tag: para
#: libvirt_configuration_virsh.xml:939
#, no-c-format
msgid "<literal>&lt;domain&gt;0&lt;/domain&gt;</literal>"
msgstr "<literal>&lt;domain&gt;0&lt;/domain&gt;</literal>"

#. Tag: para
#: libvirt_configuration_virsh.xml:944
#, no-c-format
msgid "<literal>&lt;bus&gt;4&lt;/bus&gt;</literal>"
msgstr "<literal>&lt;bus&gt;4&lt;/bus&gt;</literal>"

#. Tag: para
#: libvirt_configuration_virsh.xml:949
#, no-c-format
msgid "<literal>&lt;slot&gt;16&lt;/slot&gt;</literal>"
msgstr "<literal>&lt;slot&gt;16&lt;/slot&gt;</literal>"

#. Tag: para
#: libvirt_configuration_virsh.xml:954
#, no-c-format
msgid "<literal>&lt;function&gt;0&lt;/function&gt;</literal>"
msgstr "<literal>&lt;function&gt;0&lt;/function&gt;</literal>"

#. Tag: para
#: libvirt_configuration_virsh.xml:961
#, no-c-format
msgid ""
"Create a temporary XML file (for example <filename>/tmp/vf-interface.xml</"
"filename> containing the data necessary to add a VF network device to an "
"existing &vmguest;. The minimal content of the file needs to look like the "
"following:"
msgstr ""
"あとは一時的な XML ファイル (たとえば <filename>/tmp/vf-interface.xml</filename>) "
"を作成して、既存の &vmguest; に VF ネットワークデバイスを追加するのに必要なデータを"
"記述していきます。このファイルを最も短く作成すると、下記のようになります:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:967
#, no-c-format
msgid ""
"&lt;interface type='hostdev'&gt;<co xml:id=\"sriov.iface\"/>\n"
" &lt;source&gt;\n"
"  &lt;address type='pci' domain='0' bus='11' slot='16' function='0'2/&gt;<co "
"xml:id=\"sriov.data\"/>\n"
" &lt;/source&gt;\n"
"&lt;/interface&gt;"
msgstr ""
"&lt;interface type='hostdev'&gt;<co xml:id=\"sriov.iface\"/>\n"
" &lt;source&gt;\n"
"  &lt;address type='pci' domain='0' bus='11' slot='16' function='0'2/&gt;<co "
"xml:id=\"sriov.data\"/>\n"
" &lt;/source&gt;\n"
"&lt;/interface&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:974
#, no-c-format
msgid ""
"VFs do not get a fixed MAC address; it changes every time the host reboots. "
"When adding network devices the <quote>traditional</quote> way with <tag "
"class=\"attribute\">hostdev</tag> , it would require to reconfigure the "
"&vmguest;'s network device after each reboot of the host, because of the MAC "
"address change. To avoid this kind of problem, &libvirt; introduced the <tag "
"class=\"attvalue\">hostdev</tag> value, that sets up network-specific data "
"<emphasis>before</emphasis> assigning the device."
msgstr ""
"VF は固定の MAC アドレスを取得しません。ホストが再起動されるたびに MAC アドレスが"
"変更される形になります。この場合、 <tag class=\"attribute\">hostdev</tag> で"
"通常通りにネットワークデバイスを追加すると、ホスト側の再起動が発生するたびに MAC "
"アドレスが変わってしまうため、 &vmguest; 側のネットワークデバイスを再設定する必要が"
"生じてしまいます。このような問題を回避するため、 &libvirt; では <tag class=\"attvalue"
"\">hostdev</tag> という値が提供されるようになり、これによってデバイスの割り当て前に"
"ネットワーク固有のデータを設定できるようになっています。"

#. Tag: para
#: libvirt_configuration_virsh.xml:986
#, no-c-format
msgid "Specify the data you acquired in the previous step here."
msgstr "以前の手順で取得したデータを指定します。"

#. Tag: para
#: libvirt_configuration_virsh.xml:993
#, no-c-format
msgid ""
"In case a device is already attached to the host, it cannot be attached to a "
"&vmguest;. To make it available for guests, detach it from the host first:"
msgstr ""
"デバイスが既にホスト側に割り当てられてしまっている場合、 &vmguest; に対して割り当てる"
"ことができなくなります。ゲストに対して割り当てたい場合は、下記のようにしてホスト側から"
"切り離しを行なってください:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:998
#, no-c-format
msgid "&prompt.sudo;<command>virsh nodedev-detach pci_0000_04_10_0</command>"
msgstr "&prompt.sudo;<command>virsh nodedev-detach pci_0000_04_10_0</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:1001
#, no-c-format
msgid "Add the VF interface to an existing &vmguest;:"
msgstr "あとは既存の &vmguest; に VF インターフェイスを追加します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1004
#, no-c-format
msgid ""
"&prompt.sudo;<command>virsh attach-device <replaceable>GUEST</replaceable> /"
"tmp/vf-interface.xml --<replaceable>OPTION</replaceable></command>"
msgstr ""
"&prompt.sudo;<command>virsh attach-device <replaceable>仮想マシン名</replaceable> /"
"tmp/vf-interface.xml --<replaceable>オプション</replaceable></command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:1005
#, no-c-format
msgid ""
"<replaceable>GUEST</replaceable> needs to be replaced by the domain name, ID "
"or UUID of the &vmguest;. -- <replaceable>OPTION</replaceable> can be one of "
"the following:"
msgstr ""
"<replaceable>仮想マシン名</replaceable> の箇所には &vmguest; の名前のほか、 ID や"
" UUID を指定することもできます。また、 --<replaceable>オプション</replaceable> の"
"部分には下記を指定することができます:"

#. Tag: term
#: libvirt_configuration_virsh.xml:1012
#, no-c-format
msgid "<option>--persistent</option>"
msgstr "<option>--persistent</option>"

#. Tag: para
#: libvirt_configuration_virsh.xml:1015
#, no-c-format
msgid ""
"This option will always add the device to the domain's persistent XML. In "
"addition, if the domain is running, it will be hotplugged."
msgstr ""
"仮想マシンの XML 設定ファイルに対してデバイスを追加します。これに加えて、仮想マシンが"
"動作中である場合、ホットプラグで接続することもできます。"

#. Tag: term
#: libvirt_configuration_virsh.xml:1022
#, no-c-format
msgid "<option>--config</option>"
msgstr "<option>--config</option>"

#. Tag: para
#: libvirt_configuration_virsh.xml:1025
#, no-c-format
msgid ""
"This option will only affect the persistent XML, even if the domain is "
"running. The device will only show up in the &vmguest; on next boot."
msgstr ""
"仮想マシンの XML 設定ファイルに対してデバイスを追加します。仮想マシンが動作中の"
"場合、ホットプラグは行なわれず、次回の再起動以降に現われるようになります。"

#. Tag: term
#: libvirt_configuration_virsh.xml:1032
#, no-c-format
msgid "<option>--live</option>"
msgstr "<option>--live</option>"

#. Tag: para
#: libvirt_configuration_virsh.xml:1035
#, no-c-format
msgid ""
"This option will only affect a running domain. If the domain is inactive, "
"the operation will fail. The device is not persisted in the XML and will not "
"be available in the &vmguest; on next boot."
msgstr ""
"仮想マシンの動作中の状態にのみ適用します。仮想マシンが動作中ではない場合、この"
"操作は失敗します。 XML ファイル内には保存されませんので、 &vmguest; の再起動を"
"行なうとデバイスが消えてしまいます。"

#. Tag: term
#: libvirt_configuration_virsh.xml:1043
#, no-c-format
msgid "<option>--current</option>"
msgstr "<option>--current</option>"

#. Tag: para
#: libvirt_configuration_virsh.xml:1046
#, no-c-format
msgid ""
"This option affects the current state of the domain. If the domain is "
"inactive, the device is added to the persistent XML and will be available on "
"next boot. If the domain is active, the device is hotplugged but not added "
"to the persistent XML."
msgstr ""
"仮想マシンの現在の状態に反映させます。仮想マシンが動作中ではない場合、デバイスを"
" XML 設定ファイル内に追加し、次回の起動時に現われるようになります。仮想マシンが"
"動作中である場合、デバイスはホットプラグで追加されますが、 XML 設定ファイルには"
"追加されないようになります。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1057
#, no-c-format
msgid ""
"To detach a VF interface, use the <command>virsh detach-device</command> "
"command, which also takes the options listed above."
msgstr ""
"VF インターフェイスを切り離すには、 <command>virsh detach-device</command> コマンドを"
"使用します。オプション類は上記と同じです。"

#. Tag: title
#: libvirt_configuration_virsh.xml:1066
#, no-c-format
msgid "Dynamic Allocation of VFs from a Pool"
msgstr "プールからの動的な VF の割り当て"

#. Tag: para
#: libvirt_configuration_virsh.xml:1067
#, no-c-format
msgid ""
"If you define the PCI address of a VF into a &vmguest;'s configuration "
"statically as described in <xref linkend=\"sec.libvirt.config.io.attach\"/"
"> , it is hard to migrate such guest to another host. The host must have "
"identical hardware in the same location on the PCI bus, or the &vmguest; "
"configuration must be modified prior to each start."
msgstr ""
"<xref linkend=\"sec.libvirt.config.io.attach\"/> の手順に従って &vmguest; の"
"設定内に VF の PCI アドレスを指定してしまうと、他のホストへの移行が難しくなって"
"しまいます。移行先のホストで移行元と同じ PCI バスに同じハードウエアが搭載されて"
"いれば問題はありませんが、そうでない場合は &vmguest; の設定を変更しなければ"
"ならなくなってしまいます。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1074
#, no-c-format
msgid ""
"Another approach is to create a &libvirt; network with a device pool that "
"contains all the VFs of an <xref linkend=\"vt.io.sriov\"/> device. The "
"&vmguest; then references this network, and each time it is started, a "
"single VF is dynamically allocated to it. When the &vmguest; is stopped, the "
"VF is returned to the pool, available for another guest."
msgstr ""
"このような場合は、 <xref linkend=\"vt.io.sriov\"/> の全ての VF を含むデバイスプールを"
"設定し、 &libvirt; 側から使用できるようにする方法があります。 &vmguest; では起動時に"
"このプールを参照し、空いているいずれかのデバイスを動的に使用することができます。"
" &vmguest; を停止すると VF はプール内に戻されますので、他のゲストから使用できる"
"ようになります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:1082
#, no-c-format
msgid "Defining Network with Pool of VFs on &vmhost;"
msgstr "&vmhost; 内の VF プールを利用したネットワークの定義"

#. Tag: para
#: libvirt_configuration_virsh.xml:1083
#, no-c-format
msgid ""
"The following example of network definition creates a pool of all VFs for "
"the <xref linkend=\"vt.io.sriov\"/> device with its physical function (PF) "
"at the network interface <literal>eth0</literal> on the host:"
msgstr ""
"下記の例では、ホスト側で <literal>eth0</literal> のネットワークインターフェイスが"
"割り当てられている PF に対して、それに結びつく全ての <xref linkend=\"vt.io.sriov\"/> "
"デバイスである VF のプールを作成しています:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1088
#, no-c-format
msgid ""
"&lt;network&gt;\n"
"  &lt;name&gt;passthrough&lt;/name&gt;\n"
"    &lt;forward mode='hostdev' managed='yes'&gt;\n"
"      &lt;pf dev='eth0'/&gt;\n"
"    &lt;/forward&gt;\n"
"  &lt;/network&gt;"
msgstr ""
"&lt;network&gt;\n"
"  &lt;name&gt;passthrough&lt;/name&gt;\n"
"    &lt;forward mode='hostdev' managed='yes'&gt;\n"
"      &lt;pf dev='eth0'/&gt;\n"
"    &lt;/forward&gt;\n"
"  &lt;/network&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:1094
#, no-c-format
msgid ""
"To use this network on the host, save the above code to a file, for example "
"<filename>/tmp/passthrough.xml</filename> , and execute the following "
"commands. Remember to replace <literal>eth0</literal> with the real network "
"interface name of your <xref linkend=\"vt.io.sriov\"/> device's PF:"
msgstr ""
"このネットワークインターフェイスをホスト側で使用する場合は、上記のコードをファイルに"
"保存 (例: <filename>/tmp/passthrough.xml</filename>) したあと、下記のコマンドを"
"実行してください。なお、上記の <literal>eth0</literal> の箇所はお使いの環境内の"
" <xref linkend=\"vt.io.sriov\"/> デバイスの PF に置き換えてください:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1101
#, no-c-format
msgid ""
"&prompt.sudo;<command>virsh net-define /tmp/passthrough.xml</command>\n"
"&prompt.sudo;<command>virsh net-autostart passthrough</command>\n"
"&prompt.sudo;<command>virsh net-start passthrough</command>"
msgstr ""
"&prompt.sudo;<command>virsh net-define /tmp/passthrough.xml</command>\n"
"&prompt.sudo;<command>virsh net-autostart passthrough</command>\n"
"&prompt.sudo;<command>virsh net-start passthrough</command>"

#. Tag: title
#: libvirt_configuration_virsh.xml:1106
#, no-c-format
msgid "Configuring &vmguest;s to Use VF from the Pool"
msgstr "プールから VF を使用するための &vmguest; 側の設定"

#. Tag: para
#: libvirt_configuration_virsh.xml:1107
#, no-c-format
msgid ""
"The following example of &vmguest; device interface definition uses a VF of "
"the <xref linkend=\"vt.io.sriov\"/> device from the pool created in <xref "
"linkend=\"libvirt.config.io.pool.host\"/> . &libvirt; automatically derives "
"the list of all VFs associated with that PF the first time the guest is "
"started."
msgstr ""
"下記の &vmguest; のデバイスインターフェイス定義は、 <xref linkend=\"libvirt.config."
"io.pool.host\"/> で作成したプールから <xref linkend=\"vt.io.sriov\"/> デバイスの"
" VF を使用する設定です。 &libvirt; では、最初のゲストの起動時に、 PF に結びつけられた"
" VF の一覧を自動的に取得します。"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1114
#, no-c-format
msgid ""
"&lt;interface type='network'&gt;\n"
"  &lt;source network='passthrough'&gt;\n"
"&lt;/interface&gt;"
msgstr ""
"&lt;interface type='network'&gt;\n"
"  &lt;source network='passthrough'&gt;\n"
"&lt;/interface&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:1117
#, no-c-format
msgid ""
"After the first &vmguest; starts that uses the network with the pool of VFs, "
"verify the list of associated VFs. Do so by running <command>virsh net-"
"dumpxml passthrough</command> on the host."
msgstr ""
"VF のプールからネットワークインターフェイスを使用するように設定した &vmguest; を"
"起動したあとは、 VF が正しく使用されていることを確認します。これを行なうには、"
"ホスト側で <command>virsh net-dumpxml passthrough</command> を実行します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1122
#, no-c-format
msgid ""
"&lt;network connections='1'&gt;\n"
"  &lt;name&gt;passthrough&lt;/name&gt;\n"
"  &lt;uuid&gt;a6a26429-d483-d4ed-3465-4436ac786437&lt;/uuid&gt;\n"
"  &lt;forward mode='hostdev' managed='yes'&gt;\n"
"    &lt;pf dev='eth0'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x10' "
"function='0x1'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x10' "
"function='0x3'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x10' "
"function='0x5'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x10' "
"function='0x7'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x11' "
"function='0x1'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x11' "
"function='0x3'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x11' "
"function='0x5'/&gt;\n"
"  &lt;/forward&gt;\n"
"  &lt;/network&gt;"
msgstr ""
"&lt;network connections='1'&gt;\n"
"  &lt;name&gt;passthrough&lt;/name&gt;\n"
"  &lt;uuid&gt;a6a26429-d483-d4ed-3465-4436ac786437&lt;/uuid&gt;\n"
"  &lt;forward mode='hostdev' managed='yes'&gt;\n"
"    &lt;pf dev='eth0'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x10' "
"function='0x1'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x10' "
"function='0x3'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x10' "
"function='0x5'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x10' "
"function='0x7'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x11' "
"function='0x1'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x11' "
"function='0x3'/&gt;\n"
"    &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x11' "
"function='0x5'/&gt;\n"
"  &lt;/forward&gt;\n"
"  &lt;/network&gt;"

#. Tag: title
#: libvirt_configuration_virsh.xml:1140
#, no-c-format
msgid "Configuring Storage Devices"
msgstr "ストレージデバイスの設定"

#. Tag: para
#: libvirt_configuration_virsh.xml:1142
#, no-c-format
msgid ""
"Storage devices are defined within the <tag>disk</tag> element. The usual "
"<tag>disk</tag> element supports several attributes. The following two "
"attributes are the most important:"
msgstr ""
"ストレージデバイスは <tag>disk</tag> 内に記述します。通常、 <tag>disk</tag> "
"タグには複数の属性を指定します。そのうち、下記に示す 2 つの属性が最も重要です:"

#. Tag: para
#: libvirt_configuration_virsh.xml:1153
#, no-c-format
msgid ""
"The <tag class=\"attribute\">type</tag> attribute describes the source of "
"the virtual disk device. Valid values are <tag class=\"attvalue\">file</"
"tag> , <tag class=\"attvalue\">block</tag> , <tag class=\"attvalue\">dir</"
"tag> , <tag class=\"attvalue\">network</tag> , or <tag class=\"attvalue"
"\">volume</tag> ."
msgstr ""
"<tag class=\"attribute\">type</tag> 属性: 仮想ディスクデバイスのソースを指定するための"
"属性です。 <tag class=\"attvalue\">file</tag> , <tag class=\"attvalue\">block</tag> ,"
" <tag class=\"attvalue\">dir</tag> , <tag class=\"attvalue\">network</tag> ,"
" <tag class=\"attvalue\">volume</tag> のいずれかを指定します。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1171
#, no-c-format
msgid ""
"The <tag class=\"attribute\">device</tag> attribute indicates how the disk "
"is exposed to the &vmguest; OS. As an example, possible values can include "
"<tag class=\"attvalue\">floppy</tag> , <tag class=\"attvalue\">disk</tag> , "
"<tag class=\"attvalue\">cdrom</tag> , and others."
msgstr ""
"<tag class=\"attribute\">device</tag> 属性: ディスクを &vmguest; 側の OS に示す際の方法を"
"指定する属性です。 <tag class=\"attvalue\">floppy</tag> (フロッピィディスク),"
" <tag class=\"attvalue\">disk</tag> (ハードディスク), <tag class=\"attvalue\">"
"cdrom</tag> (CD-ROM) などがあります。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1187
#, no-c-format
msgid "The following child elements are the most important:"
msgstr "子要素として最も重要なものは下記のとおりです:"

#. Tag: para
#: libvirt_configuration_virsh.xml:1193
#, no-c-format
msgid ""
"<tag>driver</tag> contains the driver and the bus. Those are used by the "
"&vmguest; to work with the new disk device."
msgstr ""
"<tag>driver</tag>: ドライバとバスに関する情報を指定します。これらは &vmhost; "
"側での管理方法などを指定します。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1200
#, no-c-format
msgid ""
"The <tag>target</tag> element contains the device name, under which the new "
"disk is shown in the &vmguest;. It also contains the optional bus attribute, "
"which defines the type of bus, on which the new disk should operate."
msgstr ""
"<tag>target</tag>: &vmguest; 内でのデバイス名の設定が含まれます。ここには任意指定の"
" bus 属性 (接続されているストレージバスに関する情報) を含むことができます。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1210
#, no-c-format
msgid "The following procedure shows how to add storage devices to the &vmguest;:"
msgstr "&vmguest; にストレージデバイスを追加するには、下記の手順を実施します:"

#. Tag: para
#: libvirt_configuration_virsh.xml:1222
#, no-c-format
msgid ""
"Add a <tag>disk</tag> element inside the <tag>disk</tag> element together "
"with the attributes <tag class=\"attvalue\">type</tag> and <tag class="
"\"attvalue\">device</tag> ."
msgstr ""
"<tag>disk</tag> タグを追加し、その中に <tag class=\"attvalue\">type</tag> と"
" <tag class=\"attvalue\">device</tag> の属性を追加します。"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1233
#, no-c-format
msgid "&lt;disk type='file' device='disk'&gt;"
msgstr "&lt;disk type='file' device='disk'&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:1236
#, no-c-format
msgid "Specify a <tag>driver</tag> element and use the default values:"
msgstr "<tag>driver</tag> タグでは下記のような既定値を指定します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1241
#, no-c-format
msgid "&lt;driver name='qemu' type='qcow2'/&gt;"
msgstr "&lt;driver name='qemu' type='qcow2'/&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:1244
#, no-c-format
msgid ""
"Create a disk image, which will be used as a source for the new virtual disk "
"device:"
msgstr "新しい仮想ディスクデバイスのソースとなるディスクイメージを作成します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1248
#, no-c-format
msgid ""
"&prompt.sudo;<command>qemu-img create -f qcow2 /var/lib/libvirt/images/"
"sles15.qcow2 32G</command>"
msgstr ""
"&prompt.sudo;<command>qemu-img create -f qcow2 /var/lib/libvirt/images/"
"sles15.qcow2 32G</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:1251
#, no-c-format
msgid "Add the path for the disk source:"
msgstr "あとは <tag>source</tag> タグでソースを指定します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1254
#, no-c-format
msgid "&lt;source file='/var/lib/libvirt/images/sles15.qcow2'/&gt;"
msgstr "&lt;source file='/var/lib/libvirt/images/sles15.qcow2'/&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:1257
#, no-c-format
msgid ""
"Define the target device name in the &vmguest; and the bus, on which the "
"disk should work:"
msgstr ""
"&vmguest; 内でのデバイス名を表わす <tag>target</tag> タグを追加します。このとき、"
"接続先を表わす <tag>bus</tag> 属性も設定しておきます:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1261
#, no-c-format
msgid "&lt;target dev='vda' bus='virtio'/&gt;"
msgstr "&lt;target dev='vda' bus='virtio'/&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:1264
#, no-c-format
msgid "Restart your VM:"
msgstr "あとは仮想マシンを再起動します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1267
#, no-c-format
msgid "&prompt.sudo;<command>virsh start sles15</command>"
msgstr "&prompt.sudo;<command>virsh start sles15</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:1271
#, no-c-format
msgid "Your new storage device should be available in the &vmguest; OS."
msgstr "これで、 &vmguest; の OS 内から新しいストレージデバイスにアクセスできるようになります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:1276
#, no-c-format
msgid "Configuring Video Devices"
msgstr "ビデオデバイスの設定"

#. Tag: para
#: libvirt_configuration_virsh.xml:1278
#, no-c-format
msgid ""
"When using the Virtual Machine Manager, only the Video device model can be "
"defined. The amount of allocated VRAM or 2D/3D acceleration can only be "
"changed in the XML configuration."
msgstr ""
"仮想マシンマネージャを利用した場合、ビデオデバイスのモデルのみを設定することが"
"できます。 VRAM の割り当てや 2D/3D のアクセラレーションの設定については、"
" XML の設定を編集することでしか設定することができません。"

#. Tag: title
#: libvirt_configuration_virsh.xml:1285
#, no-c-format
msgid "Changing the Amount of Allocated VRAM"
msgstr "VRAM の割り当て量の変更"

#. Tag: para
#: libvirt_configuration_virsh.xml:1294
#, no-c-format
msgid "Change the size of the allocated VRAM:"
msgstr "VRAM に割り当てるサイズを変更するには、下記のように設定します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1297
#, no-c-format
msgid ""
"&lt;video&gt;\n"
"&lt;model type='vga' vram='65535' heads='1'&gt;\n"
"...\n"
"&lt;/model&gt;\n"
"&lt;/video&gt;"
msgstr ""
"&lt;video&gt;\n"
"&lt;model type='vga' vram='65535' heads='1'&gt;\n"
"...\n"
"&lt;/model&gt;\n"
"&lt;/video&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:1304
#, no-c-format
msgid ""
"Check if the amount of VRAM in the VM has changed by looking at the amount "
"in the Virtual Machine Manager."
msgstr ""
"あとは仮想マシンマネージャを開いて、仮想マシン側に割り当てられた VRAM のサイズを"
"確認してください。"

#. Tag: title
#: libvirt_configuration_virsh.xml:1313
#, no-c-format
msgid "Changing the State of 2D/3D Acceleration"
msgstr "2D/3D アクセラレーションの設定変更"

#. Tag: para
#: libvirt_configuration_virsh.xml:1316
#, no-c-format
msgid "Edit the configuration for an existing &vmguest;:"
msgstr "既存の &vmguest; に対する設定を編集します:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1319
#, no-c-format
msgid "&prompt.sudo;<command>virsh edit sles15</command>"
msgstr "&prompt.sudo;<command>virsh edit sles15</command>"

#. Tag: para
#: libvirt_configuration_virsh.xml:1322
#, no-c-format
msgid ""
"To enable/disable 2D/3D acceleration, change the value of <literal>accel3d</"
"literal> and <literal>accel2d</literal> accordingly."
msgstr ""
"2D/3D アクセラレーション機能を有効化／無効化するには、それぞれ <literal>accel3d</"
"literal> もしくは <literal>accel2d</literal> の設定を変更します。"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1326
#, no-c-format
msgid ""
"&lt;video&gt;\n"
"&lt;acceleration accel3d='yes' accel2d='no'&gt;\n"
"...\n"
"&lt;/model&gt;\n"
"&lt;/video&gt;"
msgstr ""
"&lt;video&gt;\n"
"&lt;acceleration accel3d='yes' accel2d='no'&gt;\n"
"...\n"
"&lt;/model&gt;\n"
"&lt;/video&gt;"

#. Tag: title
#: libvirt_configuration_virsh.xml:1334
#, no-c-format
msgid "Enabling 2D/3D Acceleration"
msgstr "2D/3D アクセラレーションの有効化について"

#. Tag: para
#: libvirt_configuration_virsh.xml:1335
#, no-c-format
msgid ""
"Only <literal>vbox</literal> video devices are capable of 2D/3D "
"acceleration. You cannot enable it on other video devices."
msgstr ""
"2D/3D アクセラレーション機能を使用するには、 <literal>vbox</literal> "
"ビデオデバイスを使用する必要があります。それ以外のビデオデバイスである"
"場合は、機能を有効化することができません。"

#. Tag: title
#: libvirt_configuration_virsh.xml:1343
#, no-c-format
msgid "Using Macvtap to Share &vmhost; Network Interfaces"
msgstr "&vmhost; のネットワークインターフェイスを共有するための macvtap の使用"

#. Tag: para
#: libvirt_configuration_virsh.xml:1345
#, no-c-format
msgid ""
"Macvtap provides direct attachment of a &vmguest; virtual interface to a "
"host network interface. The macvtap-based interface extends the &vmhost; "
"network interface and has its own MAC address on the same Ethernet segment. "
"Typically, this is used to make both the &vmguest; and the &vmhost; show up "
"directly on the switch that the &vmhost; is connected to."
msgstr ""
"macvtap は &vmguest; の仮想インターフェイスをホストのネットワークインターフェイスに"
"直接結びつけるための方法です。 macvtap ベースのインターフェイスは &vmhost; の"
"ネットワークインターフェイスを拡張するための仕組みで、同じイーサネットセグメント"
"内で別の MAC アドレスを使用します。通常は &vmguest; と &vmhost; をそれぞれ同じ"
"スイッチに接続する形になります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:1354
#, no-c-format
msgid "Macvtap Cannot Be Used with a Linux Bridge"
msgstr "Linux ブリッジでは macvtap を使用することができない問題について"

#. Tag: para
#: libvirt_configuration_virsh.xml:1355
#, no-c-format
msgid ""
"Macvtap cannot be used with network interfaces already connected to a Linux "
"bridge. Before attempting to create the macvtap interface, remove the "
"interface from the bridge."
msgstr ""
"macvtap は対象のインターフェイスが Linux ブリッジに接続されている場合、使用することが"
"できません。 macvtap インターフェイスを作成する前に、ブリッジからインターフェイスを"
"削除しておく必要があります。"

#. Tag: title
#: libvirt_configuration_virsh.xml:1363
#, no-c-format
msgid "&vmguest; to &vmhost; Communication with Macvtap"
msgstr "macvtap を利用した &vmguest; と &vmhost; の通信"

#. Tag: para
#: libvirt_configuration_virsh.xml:1364
#, no-c-format
msgid ""
"When using macvtap, a &vmguest; can communicate with other &vmguest;s, and "
"with other external hosts on the network. But it cannot communicate with the "
"&vmhost; on which the &vmguest; runs. This is the defined behavior of "
"macvtap, because of the way the &vmhost;'s physical Ethernet is attached to "
"the macvtap bridge. Traffic from the &vmguest; into that bridge that is "
"forwarded to the physical interface cannot be bounced back up to the "
"&vmhost;'s IP stack. Similarly, traffic from the &vmhost;'s IP stack that is "
"sent to the physical interface cannot be bounced back up to the macvtap "
"bridge for forwarding to the &vmguest;."
msgstr ""
"macvtap を使用すると、 &vmguest; 同士のほか、ネットワーク内の他のホストとも通信を"
"行なうことができるようになります。ただし、 &vmguest; が動作している &vmhost; との"
"間は、通信を行なうことができません。これは macvtap の意図的な動作によるもので、"
" &vmhost; の物理イーサネットが macvtap ブリッジに割り当てられているためです。"
" &vmguest; からブリッジへのトラフィックはそのまま物理インターフェイスに送信され、"
" &vmhost; の IP スタックに戻ることができないようになっています。これと同様に、"
" &vmhost; の IP スタックからのトラフィックも物理インターフェイスにそのまま送信され、"
" &vmguest; の macvtap に戻ることができなくなっています。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1377
#, no-c-format
msgid ""
"Virtual network interfaces based on macvtap are supported by libvirt by "
"specifying an interface type of <literal>direct</literal> . For example:"
msgstr ""
"macvtap ベースの仮想ネットワークインターフェイスは libvirt でサポートされていて、"
"インターフェイスの種類 (type) を <literal>direct</literal> にすることによって"
"実現することができます。たとえば下記のようになります:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1382
#, no-c-format
msgid ""
"&lt;interface type='direct'&gt;\n"
"   &lt;mac address='aa:bb:cc:dd:ee:ff'/&gt;\n"
"   &lt;source dev='eth0' mode='bridge'/&gt;\n"
"   &lt;model type='virtio'/&gt;\n"
"   &lt;/interface&gt;"
msgstr ""
"&lt;interface type='direct'&gt;\n"
"   &lt;mac address='aa:bb:cc:dd:ee:ff'/&gt;\n"
"   &lt;source dev='eth0' mode='bridge'/&gt;\n"
"   &lt;model type='virtio'/&gt;\n"
"   &lt;/interface&gt;"

#. Tag: para
#: libvirt_configuration_virsh.xml:1388
#, no-c-format
msgid ""
"The operation mode of the macvtap device can be controlled with the "
"<literal>mode</literal> attribute. The following lists show its possible "
"values and a description for each:"
msgstr ""
"macvtap の操作モードは、 <literal>mode</literal> 属性を設定することで制御する"
"ことができます。下記の一覧には、設定可能な値とそれらの説明を示しています:"

#. Tag: para
#: libvirt_configuration_virsh.xml:1396
#, no-c-format
msgid ""
"<literal>vepa</literal> : All &vmguest; packets are sent to an external "
"bridge. Packets whose destination is a &vmguest; on the same &vmhost; as "
"where the packet originates from are sent back to the &vmhost; by the VEPA "
"capable bridge (today's bridges are typically not VEPA capable)."
msgstr ""
"<literal>vepa</literal> : 全ての &vmguest; パケットを外部ブリッジに送信します。"
"同じ &vmhost; 内の &vmguest; を宛先とするパケットは、 VEPA 対応ブリッジによって"
" &vmhost; 側に戻される動作になります (現在のブリッジは一般に VEPA 対応ではありません) 。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1404
#, no-c-format
msgid ""
"<literal>bridge</literal> : Packets whose destination is on the same "
"&vmhost; as where they originate from are directly delivered to the target "
"macvtap device. Both origin and destination devices need to be in "
"<literal>bridge</literal> mode for direct delivery. If either one of them is "
"in <literal>vepa</literal> mode, a VEPA capable bridge is required."
msgstr ""
"<literal>bridge</literal> : 同じ &vmhost; を宛先とするパケットは、ターゲットの"
" macvtap デバイスに直接配信されるようになります。送信元と送信先のデバイスは、直接"
"配送に対応する <literal>bridge</literal> モードである必要があります。いずれかの"
"モードが <literal>vepa</literal> である場合は、 VEPA 対応ブリッジが必要になります。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1413
#, no-c-format
msgid ""
"<literal>private</literal> : All packets are sent to the external bridge and "
"will only be delivered to a target &vmguest; on the same &vmhost; if they "
"are sent through an external router or gateway and that device sends them "
"back to the &vmhost;. This procedure is followed if either the source or "
"destination device is in private mode."
msgstr ""
"<literal>private</literal> : 全てのパケットを外部ブリッジに送信し、外部のルータや"
"ゲートウエイから送信されたパケットは同じ &vmhost; 内のターゲットの &vmguest; にのみ"
"配信されるようになります。この処理は送信元と送信先のいずれかがプライベートモードで"
"ある場合の動作になります。"

#. Tag: para
#: libvirt_configuration_virsh.xml:1422
#, no-c-format
msgid ""
"<literal>passthrough</literal> : A special mode that gives more power to the "
"network interface. All packets will be forwarded to the interface, allowing "
"virtio &vmguest;s to change the MAC address or set promiscuous mode to "
"bridge the interface or create VLAN interfaces on top of it. Note that a "
"network interface is not shareable in <literal>passthrough</literal> mode. "
"Assigning an interface to a &vmguest; will disconnect it from the &vmhost;. "
"For this reason SR-IOV virtual functions are often assigned to the &vmguest; "
"in <literal>passthrough</literal> mode."
msgstr ""
"<literal>passthrough</literal> : ネットワークインターフェイスに対してさらなる力を"
"与えるための特殊なモードです。全てのパケットはインターフェイスに転送され、 virtio "
"&vmguest; では MAC アドレスの変更やプロミスキャスモードに対応することで、インターフェイス"
"のブリッジや VLAN インターフェイスの作成に対応するようになります。ただし、 <literal>"
"passthrough</literal> モードではネットワークインターフェイスを共有することはできません。"
" &vmguest; にインターフェイスを割り当てると、 &vmhost; 側からは切り離されます。"
"このような理由から、 SR-IOV 仮想機能は &vmguest; の <literal>passthrough</literal> "
"モードと比較されます。"

#. Tag: title
#: libvirt_configuration_virsh.xml:1437
#, no-c-format
msgid "Disabling a Memory Balloon Device"
msgstr "メモリバルーンデバイスの無効化"

#. Tag: para
#: libvirt_configuration_virsh.xml:1438
#, no-c-format
msgid ""
"Memory Balloon has become a default option for KVM. The device will be added "
"to the &vmguest; explicitly, so you do not need to add this element in the "
"&vmguest;'s XML configuration. However, if you want to disable Memory "
"Balloon in the &vmguest; for any reason, you need to set "
"<literal>model='none'</literal> as shown below:"
msgstr ""
"メモリバルーン機能は KVM では既定のオプションになっています。 &vmguest; 側には"
"明示的にデバイスが割り当てられるようになっていますので、 &vmguest; の XML 設定"
"ファイルには、メモリバルーンのタグを追加する必要はありません。何らかの理由で &vmguest; "
"のメモリバルーン機能を無効化したい場合は、下記のようにして <literal>model='none'</literal> "
"を指定する必要があります:"

#. Tag: screen
#: libvirt_configuration_virsh.xml:1446
#, no-c-format
msgid ""
"&lt;devices&gt;\n"
"   &lt;memballoon model='none'/&gt;\n"
"&lt;/device&gt;"
msgstr ""
"&lt;devices&gt;\n"
"   &lt;memballoon model='none'/&gt;\n"
"&lt;/device&gt;"

