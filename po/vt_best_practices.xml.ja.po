# Japanese translations for PACKAGE package
# PACKAGE パッケージに対する英訳.
# Automatically generated, 2018.
#
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2018-07-05 01:25+0000\n"
"PO-Revision-Date: 2018-06-28 07:14+0000\n"
"Last-Translator: Automatically generated\n"
"Language-Team: none\n"
"Language: ja\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#. Tag: title
#: vt_best_practices.xml:12
#, no-c-format
msgid "Virtualization Best Practices"
msgstr ""

#. Tag: subtitle
#: vt_best_practices.xml:13
#, no-c-format
msgid "&productname; &productnumber;"
msgstr ""

#. Tag: productname
#: vt_best_practices.xml:19
#, no-c-format
msgid "&productname;"
msgstr ""

#. Tag: productnumber
#: vt_best_practices.xml:20
#, no-c-format
msgid "&productnumber;"
msgstr ""

#. Tag: date
#: vt_best_practices.xml:21
#, no-c-format
msgid "<?dbtimestamp format=\"B d, Y\"?>"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:33
#, no-c-format
msgid "Virtualization Scenarios"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:35
#, no-c-format
msgid ""
"Virtualization offers a lot of capabilities to your environment. It can be "
"used in multiple scenarios. To get more details about <link xlink:href="
"\"https://www.suse.com/documentation/sles-12/book_virt/data/"
"sec_virtualization_introduction_capabilities.html\">Virtualization "
"Capabilities</link> and <link xlink:href=\"https://www.suse.com/"
"documentation/sles-12/book_virt/data/"
"sec_virtualization_introduction_benefits.html\">Virtualization Benefits</"
"link> , refer to the <link xlink:href=\"https://www.suse.com/documentation/"
"sles-12/book_virt/data/book_virt.html\">Virtualization Guide</link> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:46
#, no-c-format
msgid ""
"This best practice guide will provide advice for making the right choice in "
"your environment. It will recommend or discourage the usage of options "
"depending on your workload. Fixing configuration issues and performing "
"tuning tasks will increase the performance of &vmguest;'s near to bare metal."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:131
#, no-c-format
msgid "Before You Apply Modifications"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:134
#, no-c-format
msgid "Back Up First"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:135
#, no-c-format
msgid ""
"Changing the configuration of the &vmguest; or the &vmhost; can lead to data "
"loss or an unstable state. It is really important that you do backups of "
"files, data, images, etc. before making any changes. Without backups you "
"cannot restore the original state after a data loss or a misconfiguration. "
"Do not perform tests or experiments on production systems."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:145
#, no-c-format
msgid "Test Your Workloads"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:146
#, no-c-format
msgid ""
"The efficiency of a virtualization environment depends on many factors. This "
"guide provides a reference for helping to make good choices when configuring "
"virtualization in a production environment. Nothing is <emphasis>carved in "
"stone</emphasis> . Hardware, workloads, resource capacity, etc. should all "
"be considered when planning, testing, and deploying your virtualization "
"infra-structure. Testing your virtualized workloads is vital to a successful "
"virtualization implementation."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:158
#, no-c-format
msgid "Recommendations"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:160
#, no-c-format
msgid "Prefer the &libvirt; Framework"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:163
#, no-c-format
msgid ""
"&suse; strongly recommends using the &libvirt; framework to configure, "
"manage, and operate &vmhost;s, containers and &vmguest;. It offers a single "
"interface (GUI and shell) for all supported virtualization technologies and "
"therefore is easier to use than the hypervisor-specific tools."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:169
#, no-c-format
msgid ""
"We do not recommend using libvirt and hypervisor-specific tools at the same "
"time, because changes done with the hypervisor-specific tools may not be "
"recognized by the libvirt tool set. See <link xlink:href=\"https://www.suse."
"com/documentation/sles-12/book_virt/data/cha_libvirt_overview.html\"/> for "
"more information on libvirt."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:180
#, no-c-format
msgid "qemu-system-i386 Compared to qemu-system-x86_64"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:183
#, no-c-format
msgid ""
"Similar to real 64-bit PC hardware, <command>qemu-system-x86_64</command> "
"supports &vmguest;s running a 32-bit or a 64-bit operating system. Because "
"<command>qemu-system-x86_64</command> usually also provides better "
"performance for 32-bit guests, &suse; generally recommends using "
"<command>qemu-system-x86_64</command> for both 32-bit and 64-bit &vmguest;s "
"on KVM. Scenarios where <command>qemu-system-i386</command> is known to "
"perform better are not supported by &suse;."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:192
#, no-c-format
msgid ""
"Xen also uses binaries from the qemu package but prefers <command>qemu-"
"system-i386</command> , which can be used for both 32-bit and 64-bit Xen "
"&vmguest;s. To maintain compatibility with the upstream Xen Community, SUSE "
"encourages using <command>qemu-system-i386</command> for Xen &vmguest;s."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:203
#, no-c-format
msgid "&vmhost; Configuration and Resource Allocation"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:205
#, no-c-format
msgid ""
"Allocation of resources for &vmguest;s is a crucial point when "
"administrating virtual machines. When assigning resources to &vmguest;s, be "
"aware that overcommitting resources may affect the performance of the "
"&vmhost; and the &vmguest;s. If all &vmguest;s request all their resources "
"simultaneously, the host needs to be able to provide all of them. If not, "
"the host's performance will be negatively affected and this will in turn "
"also have negative effects on the &vmguest;'s performance."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:216
#, no-c-format
msgid "Memory"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:217
#, no-c-format
msgid ""
"Linux manages memory in units called pages. On most systems the default page "
"size is 4 KB. Linux and the CPU need to know which pages belong to which "
"process. That information is stored in a page table. If a lot of processes "
"are running, it takes more time to find where the memory is mapped, because "
"of the time required to search the page table. To speed up the search, the "
"TLB (Translation Lookaside Buffer) was invented. But on a system with a lot "
"of memory, the TLB is not enough. To avoid any fallback to normal page table "
"(resulting in a cache miss, which is time consuming), huge pages can be "
"used. Using huge pages will reduce TLB overhead and TLB misses (pagewalk). A "
"host with 32 GB (32*1014*1024 = 33,554,432 KB) of memory and a 4 KB page "
"size has a TLB with <emphasis>33,554,432/4 = 8,388,608</emphasis> entries. "
"Using a 2 MB (2048 KB) page size, the TLB only has <emphasis>33554432/2048 = "
"16384</emphasis> entries, considerably reducing TLB misses."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:234
#, no-c-format
msgid "Configuring the &vmhost; and the &vmguest; to use Huge Pages"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:235
#, no-c-format
msgid ""
"Current CPU architectures support larger pages than 4 KB: huge pages. To "
"determine the size of huge pages available on your system (could be 2 MB or "
"1 GB), check the <literal>flags</literal> line in the output of <filename>/"
"proc/cpuinfo</filename> for occurrences of <literal>pse</literal> and/or "
"<literal>pdpe1gb</literal> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:243
#, no-c-format
msgid "Determine the Available Huge Pages Size"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:250
#, no-c-format
msgid "CPU flag"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:255
#, no-c-format
msgid "Huge pages size available"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:264
#, no-c-format
msgid "Empty string"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:269
#, no-c-format
msgid "No huge pages available"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:276
#, no-c-format
msgid "pse"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:281
#, no-c-format
msgid "2 MB"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:288
#, no-c-format
msgid "pdpe1gb"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:293
#, no-c-format
msgid "1 GB"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:301
#, no-c-format
msgid ""
"Using huge pages improves performance of &vmguest;s and reduces host memory "
"consumption."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:305
#, no-c-format
msgid ""
"By default the system uses THP. To make huge pages available on your system, "
"activate it at boot time with <option>hugepages=1</option> , and&mdash;"
"optionally&mdash;add the huge pages size with, for example, "
"<option>hugepagesz=2MB</option> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:312
#, no-c-format
msgid "1 GB huge pages"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:313
#, no-c-format
msgid ""
"1 GB pages can only be allocated at boot time and cannot be freed afterward."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:318
#, no-c-format
msgid ""
"To allocate and use the huge page table (HugeTlbPage) you need to mount "
"<filename>hugetlbfs</filename> with correct permissions."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:323
#, no-c-format
msgid "Restrictions of Huge Pages"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:324
#, no-c-format
msgid ""
"Even if huge pages provide the best performance, they do come with some "
"drawbacks. You lose features such as Memory ballooning (see <xref linkend="
"\"sec.vt.best.vmguests.virtio.balloon\"/> ), KSM (see <xref linkend=\"sec.vt."
"best.perf.ksm\"/> ), and huge pages cannot be swapped."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:332
#, no-c-format
msgid "Configuring the use of huge pages"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:334
#, no-c-format
msgid ""
"Mount <literal>hugetlbfs</literal> to <filename>/dev/hugepages</filename> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:338
#, no-c-format
msgid "&prompt.user;&sudo; mount -t hugetlbfs hugetlbfs /dev/hugepages"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:341
#, no-c-format
msgid ""
"To reserve memory for huge pages use the <command>sysctl</command> command. "
"If your system has a huge page size of 2 MB (2048 KB), and you want to "
"reserve 1 GB (1,048,576 KB) for your &vmguest;, you need "
"<emphasis>1,048,576/2048=512</emphasis> pages in the pool:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:347
#, no-c-format
msgid ""
"&prompt.user;&sudo; sysctl vm.nr_hugepages=<replaceable>512</replaceable>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:348
#, no-c-format
msgid ""
"The value is written to <filename>/proc/sys/vm/nr_hugepages</filename> and "
"represents the current number of <emphasis>persistent</emphasis> huge pages "
"in the kernel's huge page pool. <emphasis>Persistent</emphasis> huge pages "
"will be returned to the huge page pool when freed by a task."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:357
#, no-c-format
msgid ""
"Add the <literal>memoryBacking</literal> element in the &vmguest; "
"configuration file (by running <command>virsh edit "
"<replaceable>CONFIGURATION</replaceable></command> )."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:362
#, no-c-format
msgid ""
"&lt;memoryBacking&gt;\n"
"  &lt;hugepages/&gt;\n"
"&lt;/memoryBacking&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:367
#, no-c-format
msgid "Start your &vmguest; and check on the host whether it uses hugepages:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:370
#, no-c-format
msgid ""
"&prompt.user;cat /proc/meminfo | grep HugePages_\n"
"HugePages_Total:<co xml:id=\"co.hp.total\"/>     512\n"
"HugePages_Free:<co xml:id=\"co.hp.free\"/>       92\n"
"HugePages_Rsvd:<co xml:id=\"co.hp.rsvd\"/>        0\n"
"HugePages_Surp:<co xml:id=\"co.hp.surp\"/>        0"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:377
#, no-c-format
msgid "Size of the pool of huge pages"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:382
#, no-c-format
msgid "Number of huge pages in the pool that are not yet allocated"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:387
#, no-c-format
msgid ""
"Number of huge pages for which a commitment to allocate from the pool has "
"been made, but no allocation has yet been made"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:393
#, no-c-format
msgid ""
"Number of huge pages in the pool above the value in <filename>/proc/sys/vm/"
"nr_hugepages</filename> . The maximum number of surplus huge pages is "
"controlled by <filename>/proc/sys/vm/nr_overcommit_hugepages</filename>"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:405
#, no-c-format
msgid "Transparent Huge Pages"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:406
#, no-c-format
msgid ""
"Transparent huge pages (THP) provide a way to dynamically allocate huge "
"pages with the <command>khugepaged</command> kernel thread, rather than "
"manually managing their allocation and use. Workloads with contiguous memory "
"access patterns can benefit greatly from THP. A 1000 fold decrease in page "
"faults can be observed when running synthetic workloads with contiguous "
"memory access patterns. Conversely, workloads with sparse memory access "
"patterns (like databases) may perform poorly with THP. In such cases it may "
"be preferable to disable THP by adding the kernel parameter "
"<option>transparent_hugepage=never</option> , rebuild your grub2 "
"configuration, and reboot. Verify if THP is disabled with:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:419
#, no-c-format
msgid ""
"&prompt.user;cat /sys/kernel/mm/transparent_hugepage/enabled\n"
"always madvise [never]"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:421
#, no-c-format
msgid ""
"If disabled, the value <literal>never</literal> is shown in square brackets "
"like in the example above."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:426
#, no-c-format
msgid "&xen;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:427
#, no-c-format
msgid "THP is not available under &xen;."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:433
#, no-c-format
msgid "&xen;-specific Memory Notes"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:435
#, no-c-format
msgid "Managing Domain-0 Memory"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:436
#, no-c-format
msgid ""
"When using the &xen; hypervisor, by default a small percentage of system "
"memory is reserved for the hypervisor. All remaining memory is automatically "
"allocated to Domain-0. When virtual machines are created, memory is "
"ballooned out of Domain-0 to provide memory for the virtual machine. This "
"process is called \"autoballooning\"."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:443
#, no-c-format
msgid "Autoballooning has several limitations:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:448
#, no-c-format
msgid ""
"Reduced performance while dom0 is ballooning down to free memory for the new "
"domain."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:454
#, no-c-format
msgid ""
"Memory freed by ballooning is not confined to a specific NUMA node. This can "
"result in performance problems in the new domain because of using a non-"
"optimal NUMA configuration."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:461
#, no-c-format
msgid ""
"Failure to start large domains because of delays while ballooning large "
"amounts of memory from dom0."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:467
#, no-c-format
msgid ""
"For these reasons, we strongly recommend to disable autoballooning and give "
"Domain-0 the memory needed for its workload. Determining Domain-0 memory and "
"vCPU sizing should follow a similar process as any other virtual machine."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:473
#, no-c-format
msgid ""
"Autoballooning is controlled by the toolstack used to manage your &xen; "
"installation. For the xl/libxl toolstack, autoballooning is controlled by "
"the <option>autoballoon</option> setting in <filename>/etc/xen/xl.conf</"
"filename> . For the libvirt+libxl toolstack, autoballooning is controlled by "
"the <option>autoballoon</option> setting in <filename>/etc/libvirt/libxl."
"conf</filename> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:481
#, no-c-format
msgid ""
"The amount of memory initially allocated to Domain-0 is controlled by the "
"&xen; hypervisor dom0_mem parameter. For example, to set the initial memory "
"allocation of Domain-0 to 8GB, add <option>dom0_mem=8G</option> to the &xen; "
"hypervisor parameters. The dom0_mem parameter can also be used to specify "
"the minimum and maximum memory allocations for Domain-0. For example, to set "
"the initial memory of Domain-0 to 8GB, but allow it to be changed "
"(ballooned) anywhere between 4GB and 16GB, add the following to the &xen; "
"hypervisor parameters: <option>dom0_mem=8G,min:4G,max:8G</option> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:493
#, no-c-format
msgid ""
"To set dom0_mem on &slea; 11 products, modify <filename>/boot/grub/menu.lst</"
"filename> , adding <option>dom0_mem=XX</option> to the &xen; hypervisor (xen."
"gz) parameters. The change will be applied at next reboot."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:501
#, no-c-format
msgid ""
"To set dom0_mem on &slea; 12 products, modify <filename>/etc/default/grub</"
"filename> , adding <option>dom0_mem=XX</option> to "
"<option>GRUB_CMDLINE_XEN_DEFAULT</option> . See <xref linkend=\"sec.vt.best."
"kernel.parameter\"/> for more information."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:510
#, no-c-format
msgid ""
"Autoballooning is enabled by default since it is extremely difficult to "
"determine a predefined amount of memory required by Domain-0. Memory needed "
"by Domain-0 is heavily dependent on the number of hosted virtual machines "
"and their configuration. Users must ensure Domain-0 has sufficient memory "
"resources to accommodate virtual machine workloads."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:520
#, no-c-format
msgid "xenstore in <systemitem>tmpfs</systemitem>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:521
#, no-c-format
msgid ""
"When using &xen;, we recommend to place the xenstore database on "
"<systemitem>tmpfs</systemitem> . xenstore is used as a control plane by the "
"xm/xend and xl/libxl toolstacks and the front-end and back-end drivers "
"servicing domain I/O devices. The load on xenstore increases linearly as the "
"number of running domains increase. If you anticipate hosting many &vmguest; "
"on a &xen; host, move the xenstore database onto tmpfs to improve overall "
"performance of the control plane. Mount the <filename>/var/lib/xenstored</"
"filename> directory on tmpfs:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:531
#, no-c-format
msgid "&prompt.user;&sudo; mount -t tmpfs tmpfs /var/lib/xenstored/"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:535
#, no-c-format
msgid "KSM and Page Sharing"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:536
#, no-c-format
msgid ""
"Kernel Samepage Merging is a kernel feature that allows for lesser memory "
"consumption on the &vmhost; by sharing data &vmguest;s have in common. The "
"KSM daemon <systemitem class=\"daemon\">ksmd</systemitem> periodically scans "
"user memory looking for pages of identical content which can be replaced by "
"a single write-protected page. To enable KSM, run:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:543
#, no-c-format
msgid "&prompt.user;&sudo; echo 1 &gt; /sys/kernel/mm/ksm/run"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:544
#, no-c-format
msgid ""
"One advantage of using KSM from a &vmguest;'s perspective is that all guest "
"memory is backed by host anonymous memory. You can share "
"<emphasis>pagecache</emphasis> , <emphasis>tmpfs</emphasis> or any kind of "
"memory allocated in the guest."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:550
#, no-c-format
msgid ""
"KSM is controlled by <systemitem>sysfs</systemitem> . You can check KSM's "
"values in <filename>/sys/kernel/mm/ksm/</filename> :"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:556
#, no-c-format
msgid ""
"<literal>pages_shared</literal> : The number of shared pages that are being "
"used (read-only)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:562
#, no-c-format
msgid ""
"<literal>pages_sharing</literal> : The number of sites sharing the pages "
"(read-only)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:568
#, no-c-format
msgid ""
"<literal>pages_unshared</literal> : The number of pages that are unique and "
"repeatedly checked for merging (read-only)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:574
#, no-c-format
msgid ""
"<literal>pages_volatile</literal> : The number of pages that are changing "
"too fast to be considered for merging (read-only)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:580
#, no-c-format
msgid ""
"<literal>full_scans</literal> : The number of times all mergeable areas have "
"been scanned (read-only)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:586
#, no-c-format
msgid ""
"<literal>sleep_millisecs</literal> : The number of milliseconds <systemitem "
"class=\"daemon\">ksmd</systemitem> should sleep before the next scan. A low "
"value will overuse the CPU, consuming CPU time that could be used for other "
"tasks. We recommend a value greater than <literal>1000</literal> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:595
#, no-c-format
msgid ""
"<literal>pages_to_scan</literal> : The number of present pages to scan "
"before ksmd goes to sleep. A high value will overuse the CPU. We recommend "
"to start with a value of <literal>1000</literal> , and then adjust as "
"necessary based on the KSM results observed while testing your deployment."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:604
#, no-c-format
msgid ""
"<literal>merge_across_nodes</literal> : By default the system merges pages "
"across NUMA nodes. Set this option to <literal>0</literal> to disable this "
"behavior."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:612
#, no-c-format
msgid "Use Cases"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:613
#, no-c-format
msgid ""
"KSM is a good technique to over-commit host memory when running multiple "
"instances of the same application or &vmguest;. When applications and "
"&vmguest; are heterogeneous and do not share any common data, it is "
"preferable to disable KSM. In a mixed heterogeneous and homogeneous "
"environment, KSM can be enabled on the host but disabled on a per &vmguest; "
"basis. Use <command>virsh edit</command> to disable page sharing of a "
"&vmguest; by adding the following to the guest's XML configuration:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:623
#, no-c-format
msgid ""
"&lt;memoryBacking&gt;\n"
"   &lt;nosharepages/&gt;\n"
"&lt;/memoryBacking&gt;"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:628
#, no-c-format
msgid "Avoid Out-of-Memory Conditions"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:629
#, no-c-format
msgid ""
"KSM can free up some memory on the host system, but the administrator should "
"reserve enough swap to avoid out-of-memory conditions if that shareable "
"memory decreases. If the amount of shareable memory decreases, the use of "
"physical memory is increased."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:637
#, no-c-format
msgid "Memory Access Latencies"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:638
#, no-c-format
msgid ""
"By default, KSM will merge common pages across NUMA nodes. If the merged, "
"common page is now located on a distant NUMA node (relative to the node "
"running the &vmguest; vCPUs), this may degrade &vmguest; performance. If "
"increased memory access latencies are noticed in the &vmguest;, disable "
"cross-node merging with the <literal>merge_across_nodes</literal> sysfs "
"control:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:646
#, no-c-format
msgid "&prompt.user;&sudo; echo 0 &gt; /sys/kernel/mm/ksm/merge_across_nodes"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:650
#, no-c-format
msgid "&vmguest;: Memory Hotplug"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:651
#, no-c-format
msgid ""
"To optimize the usage of your host memory, it may be useful to hotplug more "
"memory for a running &vmguest; when required. To support memory hotplugging, "
"you must first configure the <literal>&lt;maxMemory&gt;</literal> tag in the "
"&vmguest;'s configuration file:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:658
#, no-c-format
msgid ""
"&lt;maxMemory<co xml:id=\"co.mem.hot.max\"/> slots='16'<co xml:id=\"co.mem."
"hot.slots\"/> unit='KiB'&gt;20971520<co xml:id=\"co.mem.hot.size\"/>&lt;/"
"maxMemory&gt;\n"
"  &lt;memory<co xml:id=\"co.mem.hot.mem\"/> unit='KiB'&gt;1048576&lt;/"
"memory&gt;\n"
"&lt;currentMemory<co xml:id=\"co.mem.hot.curr\"/> unit='KiB'&gt;1048576&lt;/"
"currentMemory&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:663
#, no-c-format
msgid "Runtime maximum memory allocation of the guest."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:668
#, no-c-format
msgid "Number of slots available for adding memory to the guest"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:673
#, no-c-format
msgid "Valid units are:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:678
#, no-c-format
msgid "\"KB\" for kilobytes (1,000 bytes)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:683
#, no-c-format
msgid "\"k\" or \"KiB\" for kibibytes (1,024 bytes)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:688
#, no-c-format
msgid "\"MB\" for megabytes (1,000,000 bytes)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:693
#, no-c-format
msgid "\"M\" or \"MiB\" for mebibytes (1,048,576 bytes)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:698
#, no-c-format
msgid "\"GB\" for gigabytes (1,000,000,000 bytes)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:703
#, no-c-format
msgid "\"G\" or \"GiB\" for gibibytes (1,073,741,824 bytes)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:708
#, no-c-format
msgid "\"TB\" for terabytes (1,000,000,000,000 bytes)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:713
#, no-c-format
msgid "\"T\" or \"TiB\" for tebibytes (1,099,511,627,776 bytes)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:720
#, no-c-format
msgid "Maximum allocation of memory for the guest at boot time"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:725
#, no-c-format
msgid "Actual allocation of memory for the guest"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:730
#, no-c-format
msgid ""
"To hotplug memory devices into the slots, create a file <filename>mem-dev."
"xml</filename> like the following:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:734
#, no-c-format
msgid ""
"&lt;memory model='dimm'&gt;\n"
"  &lt;target&gt;\n"
"  &lt;size unit='KiB'&gt;524287&lt;/size&gt;\n"
"  &lt;node&gt;0&lt;/node&gt;\n"
"  &lt;/target&gt;\n"
"&lt;/memory&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:740
#, no-c-format
msgid "And attach it with the following command:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:743
#, no-c-format
msgid "&prompt.user;virsh attach-device vm-name mem-dev.xml"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:744
#, no-c-format
msgid ""
"For memory device hotplug, the guest must have at least 1 NUMA cell defined "
"(see <xref linkend=\"sec.vt.best.perf.numa.vmguest.topo\"/> )."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:752
#, no-c-format
msgid "Swap"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:753
#, no-c-format
msgid ""
"<emphasis>Swap</emphasis> is usually used by the system to store underused "
"physical memory (low usage, or not accessed for a long time). To prevent the "
"system running out of memory, setting up a minimum swap is highly "
"recommended."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:760
#, no-c-format
msgid "<literal>swappiness</literal>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:761
#, no-c-format
msgid ""
"The <literal>swappiness</literal> setting controls your system's swap "
"behavior. It defines how memory pages are swapped to disk. A high value of "
"<emphasis>swappiness</emphasis> results in a system that swaps more often. "
"Available values range from <literal>0</literal> to <literal>100</literal> . "
"A value of <literal>100</literal> tells the system to find inactive pages "
"and put them in swap. A value of <option>0</option> disables swapping. <!-- "
"reduces the systems tendency to swap user space processes but does not "
"disable swap completely (this is now the case with kernel =&gt; 3.5). -->"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:773
#, no-c-format
msgid ""
"To do some testing on a live system, change the value of <filename>/proc/sys/"
"vm/swappiness</filename> on the fly and check the memory usage afterward:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:778
#, no-c-format
msgid "&prompt.user;&sudo; echo 35 &gt; /proc/sys/vm/swappiness"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:779
#, no-c-format
msgid ""
"&prompt.user;free -h\n"
"total       used       free     shared    buffers     cached\n"
"Mem:      24616680    4991492   19625188     167056     144340    2152408\n"
"-/+ buffers/cache:    2694744   21921936\n"
"Swap:      6171644          0    6171644"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:784
#, no-c-format
msgid ""
"To permanently set a swappiness value, add a line in <filename>/etc/systcl."
"conf</filename> , for example:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:788
#, no-c-format
msgid "vm.swappiness = 35"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:789
#, no-c-format
msgid ""
"You can also control the swap by using the <literal>swap_hard_limit</"
"literal> element in the XML configuration of your &vmguest;. Before setting "
"this parameter and using it in a production environment, do some testing "
"because the host can terminate the domain if the value is too low."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:796
#, no-c-format
msgid ""
"&lt;memtune&gt;<co xml:id=\"co.mem.1\"/>\n"
"  &lt;hard_limit unit='G'&gt;1&lt;/hard_limit&gt;<co xml:id=\"co.mem.hard\"/"
">\n"
"  &lt;soft_limit unit='M'&gt;128&lt;/soft_limit&gt;<co xml:id=\"co.mem.soft"
"\"/>\n"
"  &lt;swap_hard_limit unit='G'&gt;2&lt;/swap_hard_limit&gt;<co xml:id=\"co."
"mem.swap\"/>\n"
"&lt;/memtune&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:803
#, no-c-format
msgid ""
"This element provides memory tunable parameters for the domain. If this is "
"omitted, it defaults to the defaults provided b the operating system."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:810
#, no-c-format
msgid ""
"Maximum memory the guest can use. To avoid any problems on the &vmguest; it "
"is strongly recommended not to use this parameter."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:816
#, no-c-format
msgid "The memory limit to enforce during memory contention."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:821
#, no-c-format
msgid "The maximum memory plus swap the &vmguest; can use."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:830
#, no-c-format
msgid "I/O"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:833
#, no-c-format
msgid "I/O Scheduler"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:834
#, no-c-format
msgid ""
"The default I/O scheduler is Completely Fair Queuing (CFQ). The main aim of "
"the CFQ scheduler is to provide a fair allocation of the disk I/O bandwidth "
"for all processes that request an I/O operation. You can have different I/O "
"schedulers for different devices."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:840
#, no-c-format
msgid ""
"To get better performance in host and &vmguest;, use <literal>noop</literal> "
"in the &vmguest; (disable the I/O scheduler) and the <literal>deadline</"
"literal> scheduler for a virtualization host."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:846
#, no-c-format
msgid "Checking and Changing the I/O Scheduler at Runtime"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:848
#, no-c-format
msgid ""
"To check your current I/O scheduler for your disk (replace <replaceable>sdX</"
"replaceable> by the disk you want to check), run:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:852
#, no-c-format
msgid ""
"&prompt.user;cat /sys/block/<replaceable>sdX</replaceable>/queue/scheduler\n"
"noop deadline [cfq]"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:854
#, no-c-format
msgid ""
"The value in square brackets is the one currently selected ( <literal>cfq</"
"literal> in the example above)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:860
#, no-c-format
msgid "You can change the scheduler at runtime with the following command:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:863
#, no-c-format
msgid ""
"&prompt.user;&sudo; echo deadline &gt; /sys/block/<replaceable>sdX</"
"replaceable>/queue/scheduler"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:867
#, no-c-format
msgid ""
"To permanently set an I/O scheduler for all disks of a system, use the "
"kernel parameter <literal>elevator</literal> . The respective values are "
"<option>elevator=deadline</option> for the &vmhost; and "
"<option>elevator=noop</option> for &vmguest;s. See <xref linkend=\"sec.vt."
"best.kernel.parameter\"/> for further instructions."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:874
#, no-c-format
msgid ""
"If you need to specify different I/O schedulers for each disk, create the "
"file <filename>/usr/lib/tmpfiles.d/IO_ioscheduler.conf</filename> with a "
"content similar to the following example. It defines the <literal>deadline</"
"literal> scheduler for <filename>/dev/sda</filename> and the <literal>noop</"
"literal> scheduler for <filename>/dev/sdb</filename> . This feature is "
"available on &slea; 12 only."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:883
#, no-c-format
msgid ""
"w /sys/block/sda/queue/scheduler - - - - deadline\n"
"w /sys/block/sdb/queue/scheduler - - - - noop"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:887
#, no-c-format
msgid "Asynchronous I/O"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:888
#, no-c-format
msgid ""
"Many of the virtual disk backends use Linux Asynchronous I/O (aio) in their "
"implementation. By default, the maximum number aio contexts is set to 65536, "
"which can be exceeded when running hundreds of &vmguest;s using virtual "
"disks serviced by Linux Asynchronous I/O. When running large numbers of "
"&vmguest;s on a &vmhost;, consider increasing /proc/sys/fs/aio-max-nr."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:897
#, no-c-format
msgid "Checking and Changing aio-max-nr at Runtime"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:899
#, no-c-format
msgid "To check your current aio-max-nr setting run:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:902
#, no-c-format
msgid ""
"&prompt.user;cat /proc/sys/fs/aio-max-nr\n"
"65536"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:906
#, no-c-format
msgid "You can change aio-max-nr at runtime with the following command:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:909
#, no-c-format
msgid "&prompt.user;&sudo; echo 131072 &gt; /proc/sys/fs/aio-max-nr"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:912
#, no-c-format
msgid ""
"To permanently set aio-max-nr, add an entry to a local sysctl file. For "
"example, append the following to <filename>/etc/sysctl.d/99-sysctl.conf</"
"filename> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:916
#, no-c-format
msgid "fs.aio-max-nr = 1048576"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:919
#, no-c-format
msgid "I/O Virtualization"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:920
#, no-c-format
msgid ""
"&suse; products support various I/O virtualization technologies. The "
"following table lists advantages and disadvantages of each technology. For "
"more information about I/O in virtualization refer to the <link xlink:href="
"\"https://www.suse.com/documentation/sles-12/book_virt/data/sec_vt_io.html"
"\">I/O in Virtualization</link> chapter in the <citetitle>&productname; "
"&productnumber; Virtualization Guide</citetitle> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:930
#, no-c-format
msgid "I/O Virtualization Solutions"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:943
#, no-c-format
msgid "Advantage"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:948
#, no-c-format
msgid "Disadvantage"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:957
#, no-c-format
msgid "Device Assignment (pass-through)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:963
#, no-c-format
msgid "Device accessed directly by the guest"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:968
#, no-c-format
msgid "No sharing among multiple guests"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:975
#, no-c-format
msgid "High performance"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:990
#, no-c-format
msgid "PCI device limit is 8 per guest"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1000
#, no-c-format
msgid "Limited number of slots on a server"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1007
#, no-c-format
msgid "Full virtualization (IDE, SATA, SCSI, e1000)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1013
#, no-c-format
msgid "&vmguest; compatibility"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1018
#, no-c-format
msgid "Bad performance"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1030
#, no-c-format
msgid "Emulated operation"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1037
#, no-c-format
msgid "Para-virtualization (virtio-blk, virtio-net, virtio-scsi)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1043
#, no-c-format
msgid "Good performance"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1048
#, no-c-format
msgid "Modified guest (PV drivers)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1055
#, no-c-format
msgid "Easy for live migration"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1065
#, no-c-format
msgid "Efficient host communication with &vmguest;"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1080
#, no-c-format
msgid "Storage and File System"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1081
#, no-c-format
msgid ""
"Storage space for &vmguest;s can either be a block device (for example, a "
"partition on a physical disk), or an image file on the file system:"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1086
#, no-c-format
msgid "Block Devices Compared to Disk Images"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1094
#, no-c-format
msgid "Technology"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1099
#, no-c-format
msgid "Advantages"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1104
#, no-c-format
msgid "Disadvantages"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1113
#, no-c-format
msgid "Block devices"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1120
#, no-c-format
msgid "Better performance"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1125
#, no-c-format
msgid "Use standard tools for administration/disk modification"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1130
#, no-c-format
msgid "Accessible from host (pro and con)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1139
#, no-c-format
msgid "Live migration is complex"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1144
#, no-c-format
msgid "Impossible to increase capacity"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1153
#, no-c-format
msgid "Image files"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1160
#, no-c-format
msgid "Easier system management"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1165
#, no-c-format
msgid "Easily move, clone, expand, back up domains"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1170
#, no-c-format
msgid "Comprehensive toolkit (guestfs) for image manipulation"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1175
#, no-c-format
msgid "Reduce overhead through sparse files"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1180
#, no-c-format
msgid "Fully allocate for best performance"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1189
#, no-c-format
msgid "Lower performance than block devices"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1217
#, no-c-format
msgid ""
"For detailed information about image formats and maintaining images refer to "
"<xref linkend=\"sec.vt.best.img\"/> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1222
#, no-c-format
msgid ""
"If your image is stored on an NFS share, you should check some server and "
"client parameters to improve access to the &vmguest; image."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1227
#, no-c-format
msgid "NFS Read/Write (Client)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1228
#, no-c-format
msgid ""
"Options <option>rsize</option> and <option>wsize</option> specify the size "
"of the chunks of data that the client and server pass back and forth to each "
"other. You should ensure NFS read/write sizes are sufficiently large, "
"especially for large I/O. Change the <option>rsize</option> and "
"<option>wsize</option> parameter in your <filename>/etc/fstab</filename> by "
"increasing the value to 16 KB. This will ensure that all operations can be "
"frozen if there is any instance of hanging."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1237
#, no-c-format
msgid ""
"nfs_server:/exported/vm_images<co xml:id=\"co.nfs.server\"/> /mnt/images<co "
"xml:id=\"co.nfs.mnt\"/> nfs<co xml:id=\"co.nfs.nfs\"/> rw<co xml:id=\"co.nfs."
"rw\"/>,hard<co xml:id=\"co.nfs.hard\"/>,sync<co xml:id=\"co.nfs.sync\"/>, "
"rsize=8192<co xml:id=\"co.nfs.rsize\"/>,wsize=8192<co xml:id=\"co.nfs.wsize"
"\"/> 0 0"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1240
#, no-c-format
msgid "NFS server's host name and export path name."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1245
#, no-c-format
msgid "Where to mount the NFS exported share."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1250
#, no-c-format
msgid "This is an <option>nfs</option> mount point."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1255
#, no-c-format
msgid "This mount point will be accessible in read/write."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1260
#, no-c-format
msgid ""
"Determines the recovery behavior of the NFS client after an NFS request "
"times out. <option>hard</option> is the best option to avoid data corruption."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1267
#, no-c-format
msgid ""
"Any system call that writes data to files on that mount point causes that "
"data to be flushed to the server before the system call returns control to "
"user space."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1274
#, no-c-format
msgid ""
"Maximum number of bytes in each network READ request that the NFS client can "
"receive when reading data from a file on an NFS server."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1280
#, no-c-format
msgid ""
"Maximum number of bytes per network WRITE request that the NFS client can "
"send when writing data to a file on an NFS server."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1288
#, no-c-format
msgid "NFS Threads (Server)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1289
#, no-c-format
msgid ""
"Your NFS server should have enough NFS threads to handle multi-threaded "
"workloads. Use the <command>nfsstat</command> tool to get some RPC "
"statistics on your server:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1294
#, no-c-format
msgid ""
"&prompt.user;&sudo; nfsstat -rc\n"
"Client rpc stats:\n"
"calls      retrans    authrefrsh\n"
"6401066    198          0          0"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1298
#, no-c-format
msgid ""
"If the <literal>retrans</literal> is equal to 0, everything is fine. "
"Otherwise, the client needs to retransmit, so increase the "
"<envar>USE_KERNEL_NFSD_NUMBER</envar> variable in <filename>/etc/sysconfig/"
"nfs</filename> , and adjust accordingly until <literal>retrans</literal> is "
"equal to <literal>0</literal> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1309
#, no-c-format
msgid "CPUs"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1310
#, no-c-format
msgid ""
"Host CPU <quote>components</quote> will be <quote>translated</quote> to "
"virtual CPUs in a &vmguest; when being assigned. These components can either "
"be:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1317
#, no-c-format
msgid ""
"<emphasis>CPU processor</emphasis> : this describes the main CPU unit, which "
"usually has multiple cores and may support Hyper-Threading."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1323
#, no-c-format
msgid ""
"<emphasis>CPU core</emphasis> : a main CPU unit can provide more than one "
"core, and the proximity of cores speeds up the computation process and "
"reduces energy costs."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1330
#, no-c-format
msgid ""
"<emphasis>CPU Hyper-Threading</emphasis> : this implementation is used to "
"improve parallelization of computations, but this is not as efficient as a "
"dedicated core."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1339
#, no-c-format
msgid "Assigning CPUs"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1340
#, no-c-format
msgid ""
"You should avoid overcommitting CPUs. Unless you know exactly how many "
"virtual CPUs are required for a &vmguest;, you should start with a single "
"virtual CPU per &vmguest;. Each virtual CPU should match one hardware "
"processor or core on the &vmhost;."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1346
#, no-c-format
msgid ""
"You should target a CPU workload of approximately 70% inside your VM (see "
"<link xlink:href=\"https://www.suse.com/documentation/sles-12/"
"book_sle_tuning/data/sec_util_processes.html\"/> for information on "
"monitoring tools). If you allocate more processors than needed in the "
"&vmguest;, this will negatively affect the performance of host and guest: "
"cycle efficiency will be degraded, the unused vCPU will consume timer "
"interrupts and will idle-loop. In case you primarily run single threaded "
"applications on a &vmguest;, a single virtual CPU is the best choice."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1357
#, no-c-format
msgid "&vmguest; CPU Configuration"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1358
#, no-c-format
msgid ""
"This section describes how to choose and configure a CPU type for a "
"&vmguest;. You will also learn how to pin virtual CPUs to physical CPUs on "
"the host system. For more information about virtual CPU configuration and "
"tuning parameters refer to the libvirt documentation at <link xlink:href="
"\"https://libvirt.org/formatdomain.html#elementsCPU\"/> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1366
#, no-c-format
msgid "Virtual CPU Models and Features"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1367
#, no-c-format
msgid ""
"The CPU model and topology can be specified individually for each &vmguest;. "
"Configuration options range from selecting specific CPU models to excluding "
"certain CPU features. Predefined CPU models are listed in the <filename>/usr/"
"share/libvirt/cpu_map.xml</filename> . A CPU model and topology that is "
"similar to the host generally provides the best performance. The host system "
"CPU model and topology can be displayed by running <command>virsh "
"capabilities</command> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1376
#, no-c-format
msgid ""
"Note that changing the default virtual CPU configuration will require a "
"&vmguest; shutdown when migrating it to a host with different hardware. More "
"information on &vmguest; migration is available at <link xlink:href="
"\"https://www.suse.com/documentation/sles-12/book_virt/data/"
"sec_libvirt_admin_migrate.html\"/> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1382
#, no-c-format
msgid ""
"To specify a particular CPU model for a &vmguest;, add a respective entry to "
"the &vmguest; configuration file. The following example configures a "
"Broadwell CPU with the invariant TSC feature:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1387
#, no-c-format
msgid ""
"&lt;cpu mode='custom' match='exact'&gt;\n"
"  &lt;model&gt;Broadwell&lt;/model&gt;\n"
"  &lt;feature name='invtsc'/&gt;\n"
"  &lt;/cpu&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1391
#, no-c-format
msgid ""
"For a virtual CPU that most closely resembles the host physical CPU, "
"<literal>&lt;cpu mode='host-passthrough'&gt;</literal> can be used. Note "
"that a <literal>host-passthrough</literal> CPU model may not exactly "
"resemble the host physical CPU, since by default KVM will mask any non-"
"migratable features. For example invtsc is not included in the virtual CPU "
"feature set. Changing the default KVM behavior is not directly supported "
"through libvirt, although it does allow arbitrary passthrough of KVM command "
"line arguments. Continuing with the <literal>invtsc</literal> example, you "
"can achieve passthrough of the host CPU (including <literal>invtsc</"
"literal> ) by the following command line passthrough in &vmguest; "
"configuration file:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1404
#, no-c-format
msgid ""
"&lt;domain type='kvm' xmlns:qemu='http://libvirt.org/schemas/domain/"
"qemu/1.0'&gt;\n"
"     &lt;qemu:commandline&gt;\n"
"     &lt;qemu:arg value='-cpu'/&gt;\n"
"     &lt;qemu:arg value='host,migratable=off,+invtsc'/&gt;\n"
"     &lt;/qemu:commandline&gt;\n"
"     ...\n"
"     &lt;/domain&gt;\n"
"     "
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1413
#, no-c-format
msgid "The <literal>host-passthrough</literal> Mode"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1414
#, no-c-format
msgid ""
"Since <literal>host-passthrough</literal> exposes the physical CPU details "
"to the virtual CPU, migration to dissimilar hardware is not possible. See "
"<xref linkend=\"sec.vt.best.perf.cpu.guests.vcpumigration\"/> for more "
"information."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1424
#, no-c-format
msgid "Virtual CPU Pinning"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1425
#, no-c-format
msgid ""
"Virtual CPU pinning is used to constrain virtual CPU threads to a set of "
"physical CPUs. The <literal>vcpupin</literal> element specifies the physical "
"host CPUs that a virtual CPU can use. If this element is not set and the "
"attribute <literal>cpuset</literal> of the <literal>vcpu</literal> element "
"is not specified, the virtual CPU is free to use any of the physical CPUs."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1433
#, no-c-format
msgid ""
"CPU intensive workloads can benefit from virtual CPU pinning by increasing "
"the physical CPU cache hit ratio. To pin a virtual CPU to a specific "
"physical CPU, run the following commands:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1438
#, no-c-format
msgid ""
"&prompt.user;virsh vcpupin <replaceable>DOMAIN_ID</replaceable> --vcpu "
"<replaceable>vCPU_NUMBER</replaceable>\n"
"VCPU: CPU Affinity\n"
"----------------------------------\n"
"0: 0-7\n"
"&prompt.root;virsh vcpupin SLE12 --vcpu 0 0 --config"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1443
#, no-c-format
msgid ""
"The last command generates the following entry in the XML configuration:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1446
#, no-c-format
msgid ""
"&lt;cputune&gt;\n"
"   &lt;vcpupin vcpu='0' cpuset='0'/&gt;\n"
"&lt;/cputune&gt;"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1450
#, no-c-format
msgid "Virtual CPU Pinning on NUMA Nodes"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1451
#, no-c-format
msgid ""
"To confine a &vmguest;'s CPUs and its memory to a NUMA node, you can use "
"virtual CPU pinning and memory allocation policies on a NUMA system. See "
"<xref linkend=\"sec.vt.best.perf.numa\"/> for more information related to "
"NUMA tuning."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1459
#, no-c-format
msgid "Virtual CPU Pinning and Live Migration"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1460
#, no-c-format
msgid ""
"Even though <literal>vcpupin</literal> can improve performance, it can "
"complicate live migration. See <xref linkend=\"sec.vt.best.perf.cpu.guests."
"vcpumigration\"/> for more information on virtual CPU migration "
"considerations."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1469
#, no-c-format
msgid "Virtual CPU Migration Considerations"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1470
#, no-c-format
msgid ""
"Selecting a virtual CPU model containing all the latest features may improve "
"performance of a &vmguest; workload&mdash;but often at the expense of "
"migratability. Unless all hosts in the cluster contain the latest CPU "
"features, migration can fail when a destination host lacks the new features. "
"If migratability of a virtual CPU is preferred over the latest CPU features, "
"a normalized CPU model and feature set should be used. The <command>virsh "
"cpu-baseline</command> command can help define a normalized virtual CPU that "
"can be migrated across all hosts. The following command, when run on each "
"host in the migration cluster, illustrates collection of all hosts' "
"capabilities in <literal>all-hosts-caps.xml</literal> ."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1483
#, no-c-format
msgid "&prompt.user;&sudo; virsh capabilities &gt;&gt; all-hosts-cpu-caps.xml"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1484
#, no-c-format
msgid ""
"With the capabilities from each host collected in all-hosts-caps.xml, use "
"<command>virsh cpu-baseline</command> to create a virtual CPU definition "
"that will be compatible across all hosts."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1489
#, no-c-format
msgid "&prompt.user;&sudo; virsh cpu-baseline all-hosts-caps.xml"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1490
#, no-c-format
msgid ""
"The resulting virtual CPU definition can be used as the <literal>cpu</"
"literal> element in &vmguest; configuration file."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1494
#, no-c-format
msgid ""
"At a logical level, virtual CPU pinning is a form of hardware passthrough. "
"Pinning couples physical resources to virtual resources, and can also be "
"problematic for migration. For example, the migration will fail if the "
"requested physical resources are not available on the destination host, or "
"if the source and destination hosts have different NUMA topologies. For more "
"recommendations about Live Migration see <link xlink:href=\"https://www.suse."
"com/documentation/sles-12/book_virt/data/sec_libvirt_admin_migrate."
"html#libvirt_admin_live_migration_requirements\">Virtualization Live "
"Migration Requirements</link> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1510
#, no-c-format
msgid "NUMA Tuning"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1511
#, no-c-format
msgid ""
"NUMA is an acronym for Non Uniform Memory Access. A NUMA system has multiple "
"physical CPUs, each with local memory attached. Each CPU can also access "
"other CPUs' memory, known as <quote>remote memory access</quote> , but it is "
"much slower than accessing local memory. NUMA systems can negatively impact "
"&vmguest; performance if not tuned properly. Although ultimately tuning is "
"workload dependent, this section describes controls that should be "
"considered when deploying &vmguest;s on NUMA hosts. Always consider your "
"host topology when configuring and deploying VMs."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1521
#, no-c-format
msgid ""
"&productname; contains a NUMA auto-balancer that strives to reduce remote "
"memory access by placing memory on the same NUMA node as the CPU processing "
"it. In addition, standard tools such as <command>cgset</command> and "
"virtualization tools such as libvirt provide mechanisms to constrain "
"&vmguest; resources to physical resources."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1528
#, no-c-format
msgid "<command>numactl</command> is used to check for host NUMA capabilities:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1531
#, no-c-format
msgid ""
"&prompt.user;&sudo; numactl --hardware\n"
"available: 4 nodes (0-3)\n"
"node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 72 73 74 75 76 77 "
"78\n"
"79 80 81 82 83 84 85 86 87 88 89\n"
"node 0 size: 31975 MB\n"
"node 0 free: 31120 MB\n"
"node 1 cpus: 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 90 91 92 "
"93\n"
"94 95 96 97 98 99 100 101 102 103 104 105 106 107\n"
"node 1 size: 32316 MB\n"
"node 1 free: 31673 MB\n"
"node 2 cpus: 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 108 109 "
"110\n"
"111 112 113 114 115 116 117 118 119 120 121 122 123 124 125\n"
"node 2 size: 32316 MB\n"
"node 2 free: 31726 MB\n"
"node 3 cpus: 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 126 127 "
"128\n"
"129 130 131 132 133 134 135 136 137 138 139 140 141 142 143\n"
"node 3 size: 32314 MB\n"
"node 3 free: 31387 MB\n"
"node distances:\n"
"node   0   1   2   3\n"
"0:  10  21  21  21\n"
"1:  21  10  21  21\n"
"2:  21  21  10  21\n"
"3:  21  21  21  10"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1555
#, no-c-format
msgid ""
"The <command>numactl</command> output shows this is a NUMA system with 4 "
"nodes or cells, each containing 36 CPUs and approximately 32G memory. "
"<command>virsh capabilities</command> can also be used to examine the "
"systems NUMA capabilities and CPU topology."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1562
#, no-c-format
msgid "NUMA Balancing"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1563
#, no-c-format
msgid ""
"On NUMA machines, there is a performance penalty if remote memory is "
"accessed by a CPU. Automatic NUMA balancing scans a task's address space and "
"unmaps pages. By doing so, it detects whether pages are properly placed or "
"whether to migrate the data to a memory node local to where the task is "
"running. In defined intervals (configured with "
"<literal>numa_balancing_scan_delay_ms</literal> ), the task scans the next "
"scan size number of pages (configured with "
"<literal>numa_balancing_scan_size_mb</literal> ) in its address space. When "
"the end of the address space is reached the scanner restarts from the "
"beginning."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1575
#, no-c-format
msgid ""
"Higher scan rates cause higher system overhead as page faults must be "
"trapped and data needs to be migrated. However, the higher the scan rate, "
"the more quickly a task's memory is migrated to a local node when the "
"workload pattern changes. This minimizes the performance impact because of "
"remote memory accesses. These <command>sysctl</command> directives control "
"the thresholds for scan delays and the number of pages scanned:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1583
#, no-c-format
msgid ""
"&prompt.user;&sudo; sysctl -a | grep numa_balancing\n"
"kernel.numa_balancing = 1<co xml:id=\"co.numa.balancing\"/>\n"
"kernel.numa_balancing_scan_delay_ms = 1000<co xml:id=\"co.numa.delay\"/>\n"
"kernel.numa_balancing_scan_period_max_ms = 60000<co xml:id=\"co.numa.pmax\"/"
">\n"
"kernel.numa_balancing_scan_period_min_ms = 1000<co xml:id=\"co.numa.pmin\"/"
">\n"
"kernel.numa_balancing_scan_size_mb = 256<co xml:id=\"co.numa.size\"/>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1591
#, no-c-format
msgid "Enables/disables automatic page fault-based NUMA balancing"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1596
#, no-c-format
msgid "Starting scan delay used for a task when it initially forks"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1601
#, no-c-format
msgid "Maximum time in milliseconds to scan a task's virtual memory"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1606
#, no-c-format
msgid "Minimum time in milliseconds to scan a task's virtual memory"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1611
#, no-c-format
msgid "Size in megabytes' worth of pages to be scanned for a given scan"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1616
#, no-c-format
msgid ""
"For more information see <link xlink:href=\"https://www.suse.com/"
"documentation/sles-12/book_sle_tuning/data/cha_tuning_numactl.html\"/> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1620
#, no-c-format
msgid ""
"The main goal of automatic NUMA balancing is either to reschedule tasks on "
"the same node's memory (so the CPU follows the memory), or to copy the "
"memory's pages to the same node (so the memory follows the CPU)."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1626
#, no-c-format
msgid "Task Placement"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1627
#, no-c-format
msgid ""
"There are no rules to define the best place to run a task, because tasks "
"could share memory with other tasks. For best performance, it is recommended "
"to group tasks sharing memory on the same node. Check NUMA statistics with "
"<command># cat /proc/vmstat | grep numa_</command> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1636
#, no-c-format
msgid "Memory Allocation Control with the CPUset Controller"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1637
#, no-c-format
msgid ""
"The cgroups cpuset controller can be used confine memory used by a process "
"to a NUMA node. There are three cpuset memory policy modes available:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1644
#, no-c-format
msgid ""
"<literal>interleave</literal> : This is a memory placement policy which is "
"also known as round-robin. This policy can provide substantial improvements "
"for jobs that need to place thread local data on the corresponding node. "
"When the interleave destination is not available, it will be moved to "
"another node."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1653
#, no-c-format
msgid ""
"<literal>bind</literal> : This will place memory only on one node, which "
"means in case of insufficient memory, the allocation will fail."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1659
#, no-c-format
msgid ""
"<literal>preferred</literal> : This policy will apply a preference to "
"allocate memory to a node. If there is not enough space for memory on this "
"node, it will fall back to another node."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1666
#, no-c-format
msgid ""
"You can change the memory policy mode with the <command>cgset</command> tool "
"from the <package>libcgroup-tools</package> package:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1670
#, no-c-format
msgid ""
"&prompt.user;&sudo; cgset -r cpuset.mems=<replaceable>NODE</replaceable> "
"sysdefault/libvirt/qemu/<replaceable>KVM_NAME</replaceable>/emulator"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1671
#, no-c-format
msgid ""
"To migrate pages to a node, use the <command>migratepages</command> tool:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1675
#, no-c-format
msgid ""
"&prompt.user;migratepages <replaceable>PID</replaceable> <replaceable>FROM-"
"NODE</replaceable> <replaceable>TO-NODE</replaceable>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1676
#, no-c-format
msgid ""
"To check everything is fine. use: <command>cat /proc/<replaceable>PID</"
"replaceable>/status | grep Cpus</command> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1681
#, no-c-format
msgid "Kernel NUMA/cpuset memory policy"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1682
#, no-c-format
msgid ""
"For more information see <link xlink:href=\"https://www.kernel.org/doc/"
"Documentation/vm/numa_memory_policy.txt\">Kernel NUMA memory policy</link> "
"and <link xlink:href=\"https://www.kernel.org/doc/Documentation/cgroup-v1/"
"cpusets.txt\">cpusets memory policy</link> . Check also the <link xlink:href="
"\"https://libvirt.org/formatdomain.html#elementsNUMATuning\">Libvirt NUMA "
"Tuning documentation</link> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1694
#, no-c-format
msgid "&vmguest;: NUMA Related Configuration"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1695
#, no-c-format
msgid ""
"&libvirt; allows to set up virtual NUMA and memory access policies. "
"Configuring these settings is not supported by <command>virt-install</"
"command> or <command>virt-manager</command> and needs to be done manually by "
"editing the &vmguest; configuration file with <command>virsh edit</command> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1703
#, no-c-format
msgid "&vmguest; Virtual NUMA Topology"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1704
#, no-c-format
msgid ""
"Creating a &vmguest; virtual NUMA (vNUMA) policy that resembles the host "
"NUMA topology can often increase performance of traditional large, scale-up "
"workloads. &vmguest; vNUMA topology can be specified using the "
"<literal>numa</literal> element in the XML configuration:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1710
#, no-c-format
msgid ""
"&lt;cpu&gt;\n"
"...\n"
"  &lt;numa&gt;\n"
"    &lt;cell<co xml:id=\"co.numa.cell\"/> id='0'<co xml:id=\"co.numa.id\"/> "
"cpus='0-1'<co xml:id=\"co.numa.cpus\"/> memory='512000' unit='KiB'/&gt;\n"
"    &lt;cell id='1' cpus='2-3' memory='256000'<co xml:id=\"co.numa.mem\"/>\n"
"    unit='KiB'<co xml:id=\"co.numa.unit\"/> memAccess='shared'<co xml:id="
"\"co.numa.memaccess\"/>/&gt;\n"
"  &lt;/numa&gt;\n"
"  ...\n"
"&lt;/cpu&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1722
#, no-c-format
msgid "Each <literal>cell</literal> element specifies a vNUMA cell or node"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1727
#, no-c-format
msgid ""
"All cells should have an <literal>id</literal> attribute, allowing to "
"reference the cell in other configuration blocks. Otherwise cells are "
"assigned ids in ascending order starting from 0."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1734
#, no-c-format
msgid "The CPU or range of CPUs that are part of the node"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1739
#, no-c-format
msgid "The node memory"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1744
#, no-c-format
msgid "Units in which node memory is specified"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1749
#, no-c-format
msgid ""
"Optional attribute which can control whether the memory is to be mapped as "
"<option>shared</option> or <option>private</option> . This is valid only for "
"hugepages-backed memory."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1756
#, no-c-format
msgid ""
"To find where the &vmguest; has allocated its pages. use: <command>cat /proc/"
"<replaceable>PID</replaceable>/numa_maps</command> and <command>cat /sys/fs/"
"cgroup/memory/sysdefault/libvirt/qemu/<replaceable>KVM_NAME</replaceable>/"
"memory.numa_stat</command> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1763
#, no-c-format
msgid "NUMA specification"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1764
#, no-c-format
msgid ""
"The &libvirt; &vmguest; NUMA specification is currently only available for "
"&qemu;/&kvm;."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1771
#, no-c-format
msgid "Memory Allocation Control with &libvirt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1772
#, no-c-format
msgid ""
"If the &vmguest; has a vNUMA topology (see <xref linkend=\"sec.vt.best.perf."
"numa.vmguest.topo\"/> ), memory can be pinned to host NUMA nodes using the "
"<literal>numatune</literal> element. This method is currently only available "
"for &qemu;/&kvm; guests. See <xref linkend=\"sec.vt.best.perf.numa."
"alloc_libvirt.non-vnuma\"/> for how to configure non-vNUMA &vmguest;s."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1780
#, no-c-format
msgid ""
"&lt;numatune&gt;\n"
"    &lt;memory mode=\"strict\"<co xml:id=\"co.numat.mode\"/> nodeset=\"1-4,"
"^3\"<co xml:id=\"co.numat.nodeset\"/>/&gt;\n"
"    &lt;memnode<co xml:id=\"co.numat.memnode\"/> cellid=\"0\"<co xml:id=\"co."
"numat.cellid\"/> mode=\"strict\" nodeset=\"1\"/&gt;\n"
"    &lt;memnode cellid=\"2\" placement=\"strict\"<co xml:id=\"co.numat."
"placement\"/> mode=\"preferred\" nodeset=\"2\"/&gt;\n"
"&lt;/numatune&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1787
#, no-c-format
msgid ""
"Policies available are: <literal>interleave</literal> (round-robin like), "
"<literal>strict</literal> (default) or <literal>preferred</literal> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1794
#, no-c-format
msgid "Specify the NUMA nodes."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1799
#, no-c-format
msgid ""
"Specify memory allocation policies for each guest NUMA node (if this element "
"is not defined then this will fall back and use the <literal>memory</"
"literal> element)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1806
#, no-c-format
msgid "Addresses the guest NUMA node for which the settings are applied."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1811
#, no-c-format
msgid ""
"The placement attribute can be used to indicate the memory placement mode "
"for a domain process, the value can be <literal>auto</literal> or "
"<literal>strict</literal> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1819
#, no-c-format
msgid "Non-vNUMA &vmguest;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1820
#, no-c-format
msgid ""
"On a non-vNUMA &vmguest;, pinning memory to host NUMA nodes is done like in "
"the following example:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:1824
#, no-c-format
msgid ""
"&lt;numatune&gt;\n"
"   &lt;memory mode=\"strict\" nodeset=\"0-1\"/&gt;\n"
"&lt;/numatune&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1827
#, no-c-format
msgid ""
"In this example, memory is allocated from the host nodes <literal>0</"
"literal> and <literal>1</literal> . In case these memory requirements cannot "
"be fulfilled, starting the &vmguest; will fail. <command>virt-install</"
"command> also supports this configuration with the <option>--numatune</"
"option> option."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1837
#, no-c-format
msgid "Memory and CPU across NUMA Nodes"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1838
#, no-c-format
msgid ""
"You should avoid allocating &vmguest; memory across NUMA nodes, and prevent "
"virtual CPUs from floating across NUMA nodes."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1849
#, no-c-format
msgid "&vmguest; Images"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1850
#, no-c-format
msgid ""
"Images are virtual disks used to store the operating system and data of "
"&vmguest;s. They can be created, maintained and queried with the "
"<command>qemu-img</command> command. Refer to <link xlink:href=\"https://www."
"suse.com/documentation/sles-12/singlehtml/book_virt/book_virt.html#cha.qemu."
"guest_inst.qemu-img.create\">SLE12 qemu-img documentation</link> for more "
"information on the <command>qemu-img</command> tool and examples."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1859
#, no-c-format
msgid "&vmguest; Image Formats"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1860
#, no-c-format
msgid ""
"Certain storage formats which &qemu; recognizes have their origins in other "
"virtualization technologies. By recognizing these formats, &qemu; can "
"leverage either data stores or entire guests that were originally targeted "
"to run under these other virtualization technologies. Some formats are "
"supported only in read-only mode. To use them in read/write mode, convert "
"them to a fully supported &qemu; storage format (using <command>qemu-img</"
"command> ). Otherwise they can only be used as read-only data store in a "
"QEMU guest. See &sle; <link xlink:href=\"https://www.suse.com/releasenotes/"
"x86_64/SUSE-SLES/12/#fate-317891\">Release Notes</link> to get the list of "
"supported formats."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1872
#, no-c-format
msgid ""
"Use <command>qemu-img info <replaceable>VMGUEST.IMG</replaceable></command> "
"to get information about an existing image, such as: the format, the virtual "
"size, the physical size, snapshots if available."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1878
#, no-c-format
msgid "Performance"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1879
#, no-c-format
msgid ""
"It is recommended to convert the disk images to either raw or qcow2 to "
"achieve good performance."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1885
#, no-c-format
msgid "Encrypted Images Cannot Be Compressed"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1886
#, no-c-format
msgid ""
"When you create an image, you cannot use compression ( <option>-c</option> ) "
"in the output file together with the encryption option ( <option>-e</"
"option> )."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1893
#, no-c-format
msgid "Raw Format"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1897
#, no-c-format
msgid ""
"This format is simple and easily exportable to all other emulators/"
"hypervisors."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1903
#, no-c-format
msgid "It provides best performance (least I/O overhead)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1908
#, no-c-format
msgid ""
"If your file system supports holes (for example in Ext2 or Ext3 on Linux or "
"NTFS on Windows*), then only the written sectors will reserve space."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1915
#, no-c-format
msgid ""
"The raw format allows to copy a &vmguest; image to a physical device "
"( <command>dd if=<replaceable>VMGUEST.RAW</replaceable> of=<replaceable>/dev/"
"sda</replaceable></command> )."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1922
#, no-c-format
msgid ""
"It is byte-for-byte the same as what the &vmguest; sees, so this wastes a "
"lot of space."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:1930
#, no-c-format
msgid "qcow2 Format"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1934
#, no-c-format
msgid ""
"Use this to have smaller images (useful if your file system does not "
"supports holes, for example on Windows*)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1940
#, no-c-format
msgid "It has optional AES encryption."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1945
#, no-c-format
msgid "Zlib-based compression option."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1950
#, no-c-format
msgid "Support of multiple VM snapshots (internal, external)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1955
#, no-c-format
msgid "Improved performance and stability."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1970
#, no-c-format
msgid "Less performance than raw format."
msgstr ""

#. Tag: term
#: vt_best_practices.xml:1977
#, no-c-format
msgid "l2-cache-size"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1979
#, no-c-format
msgid ""
"qcow2 can provide the same performance for random read/write access as raw "
"format, but it needs a well-sized cache size. By default cache size is set "
"to 1 MB. This will give good performance up to a disk size of 8 GB. If you "
"need a bigger disk size, you need to adjust the cache size. For a disk size "
"of 64 GB (64*1024 = 65536), you need 65536 / 8192B = 8 MB of cache "
"( <option>-drive format=qcow2,l2-cache-size=8M</option> )."
msgstr ""

#. Tag: term
#: vt_best_practices.xml:1991
#, no-c-format
msgid "Cluster Size"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:1993
#, no-c-format
msgid ""
"The qcow2 format offers the capability to change the cluster size. The value "
"must be between 512&nbsp;KB and 2&nbsp;MB. Smaller cluster sizes can improve "
"the image file size whereas larger cluster sizes generally provide better "
"performance."
msgstr ""

#. Tag: term
#: vt_best_practices.xml:2002
#, no-c-format
msgid "Preallocation"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2004
#, no-c-format
msgid ""
"An image with preallocated metadata is initially larger but can improve "
"performance when the image needs to grow."
msgstr ""

#. Tag: term
#: vt_best_practices.xml:2011
#, no-c-format
msgid "Lazy Refcounts"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2013
#, no-c-format
msgid ""
"Reference count updates are postponed with the goal of avoiding metadata I/O "
"and improving performance. This is particularly beneficial with "
"<option>cache=writethrough</option> . This option does not batch metadata "
"updates, but if in case of host crash, the reference count tables must be "
"rebuilt, this is done automatically at the next open with <command>qemu-img "
"check -r all</command> . Note that this takes some time."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2026
#, no-c-format
msgid "qed format"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2027
#, no-c-format
msgid ""
"qed is the next-generation qcow (&qemu; Copy On Write). Its characteristics "
"include:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2033
#, no-c-format
msgid "Strong data integrity because of simple design."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2038
#, no-c-format
msgid "Retains sparseness over non-sparse channels (for example HTTP)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2043
#, no-c-format
msgid "Supports changing the backing file."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2048
#, no-c-format
msgid "Supports consistency checks."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2053
#, no-c-format
msgid "Fully asynchronous I/O path."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2058
#, no-c-format
msgid "Does not support internal snapshots."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2063
#, no-c-format
msgid ""
"Relies on the host file system and cannot be stored on a logical volume "
"directly."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2071
#, no-c-format
msgid "VMDK format"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2072
#, no-c-format
msgid ""
"VMware 3, 4, or 6 image format, for exchanging images with that product."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2079
#, no-c-format
msgid "Overlay Disk Images"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2080
#, no-c-format
msgid ""
"The qcow2 and qed formats provide a way to create a base image (also called "
"backing file) and overlay images on top of the base image. A backing file is "
"useful to be able to revert to a known state and discard the overlay. If you "
"write to the image, the backing image will be untouched and all changes will "
"be recorded in the overlay image file. The backing file will never be "
"modified unless you use the <option>commit</option> monitor command (or "
"<command>qemu-img commit</command> )."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2090
#, no-c-format
msgid "To create an overlay image:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2093
#, no-c-format
msgid ""
"&prompt.root;qemu-img create -o<co xml:id=\"co.1.minoro\"/"
">backing_file=vmguest.raw<co xml:id=\"co.1.backingfile\"/>,"
"backing_fmt=raw<co xml:id=\"co.1.backingfmt\"/>\\\n"
"     -f<co xml:id=\"co.1.minorf\"/> qcow2 vmguest.cow<co xml:id=\"co.1."
"imagename\"/>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2097
#, no-c-format
msgid "Use <option>-o ?</option> for an overview of available options."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2102
#, no-c-format
msgid "The backing file name."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2107
#, no-c-format
msgid "Specify the file format for the backing file."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2112
#, no-c-format
msgid "Specify the image format for the &vmguest;."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2117
#, no-c-format
msgid ""
"Image name of the &vmguest;, it will only record the differences from the "
"backing file."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2124
#, no-c-format
msgid "Backing Image Path"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2125
#, no-c-format
msgid ""
"You should not change the path to the backing image, otherwise you will need "
"to adjust it. The path is stored in the overlay image file. To update the "
"path, you should make a symbolic link from the original path to the new path "
"and then use the <command>qemu-img</command> <option>rebase</option> option."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2132
#, no-c-format
msgid ""
"&prompt.root;ln -sf /var/lib/images/vmguest.raw  /var/lib/images/SLE12/"
"vmguest.raw\n"
"&prompt.root;qemu-img rebase<co xml:id=\"co.2.rebase\"/>-u<co xml:id=\"co.2."
"unsafe\"/> -b<co xml:id=\"co.2.minorb\"/> /var/lib/images/vmguest.raw /var/"
"lib/images/SLE12/vmguest.cow<co xml:id=\"co.2.image\"/>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2134
#, no-c-format
msgid ""
"The <command>rebase</command> subcommand tells <command>qemu-img</command> "
"to change the backing file image. The <option>-u</option> option activates "
"the unsafe mode (see note below). The backing image to be used is specified "
"with <option>-b</option> and the image path is the last argument of the "
"command."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2141
#, no-c-format
msgid ""
"There are two different modes in which <option>rebase</option> can operate:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2147
#, no-c-format
msgid ""
"<emphasis>Safe</emphasis> : This is the default mode and performs a real "
"rebase operation. The safe mode is a time-consuming operation."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2153
#, no-c-format
msgid ""
"<emphasis>Unsafe</emphasis> : The unsafe mode ( <option>-u</option> ) only "
"changes the backing files name and the format of the file name without "
"making any checks on the files contents. You should use this mode to rename "
"or moving a backing file."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2162
#, no-c-format
msgid ""
"A common use is to initiate a new guest with the backing file. Let's assume "
"we have a <filename>sle12_base.img</filename> &vmguest; ready to be used "
"(fresh installation without any modification). This will be our backing "
"file. Now you need to test a new package, on an updated system and on a "
"system with a different kernel. We can use <filename>sle12_base.img</"
"filename> to instantiate the new &sle; &vmguest; by creating a qcow2 overlay "
"file pointing to this backing file ( <filename>sle12_base.img</filename> )."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2172
#, no-c-format
msgid ""
"In our example we will use <filename>sle12_updated.qcow2</filename> for the "
"updated system, and <filename>sle12_kernel.qcow2</filename> for the system "
"with a different kernel."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2177
#, no-c-format
msgid ""
"To create the two thin provisioned systems use the <command>qemu-img</"
"command> command line with the <option>-b</option> option:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2182
#, no-c-format
msgid ""
"&prompt.root;qemu-img create -b /var/lib/libvirt/sle12_base.img -f qcow2 \\\n"
"/var/lib/libvirt/sle12_updated.qcow2\n"
"Formatting 'sle12_updated.qcow2', fmt=qcow2 size=17179869184\n"
"backing_file='sle12_base.img' encryption=off cluster_size=65536\n"
"lazy_refcounts=off nocow=off\n"
"&prompt.root;qemu-img create -b /var/lib/libvirt/sle12_base.img -f qcow2 \\\n"
"/var/lib/libvirt/sle12_kernel.qcow2\n"
"Formatting 'sle12_kernel.qcow2', fmt=qcow2 size=17179869184\n"
"backing_file='vmguest-sle12_base.img' encryption=off cluster_size=65536\n"
"lazy_refcounts=off nocow=off"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2192
#, no-c-format
msgid ""
"The images are now usable, and you can do your test without touching the "
"initial <filename>sle12_base.img</filename> backing file, all changes will "
"be stored in the new overlay images. Additionally, you can also use these "
"new images as a backing file, and create a new overlay."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2198
#, no-c-format
msgid ""
"&prompt.root;qemu-img create -b sle12_kernel.qcow2 -f qcow2 "
"sle12_kernel_TEST.qcow2"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2199
#, no-c-format
msgid ""
"When using <command>qemu-img info</command> with the option <option>--"
"backing-chain</option> , it will return all information about the entire "
"backing chain recursively:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2204
#, no-c-format
msgid ""
"&prompt.root;qemu-img info --backing-chain\n"
"/var/lib/libvirt/images/sle12_kernel_TEST.qcow2\n"
"image: sle12_kernel_TEST.qcow2\n"
"file format: qcow2\n"
"virtual size: 16G (17179869184 bytes)\n"
"disk size: 196K\n"
"cluster_size: 65536\n"
"backing file: sle12_kernel.qcow2\n"
"Format specific information:\n"
"compat: 1.1\n"
"lazy refcounts: false\n"
"\n"
"image: sle12_kernel.qcow2\n"
"file format: qcow2\n"
"virtual size: 16G (17179869184 bytes)\n"
"disk size: 196K\n"
"cluster_size: 65536\n"
"backing file: SLE12.qcow2\n"
"Format specific information:\n"
"compat: 1.1\n"
"lazy refcounts: false\n"
"\n"
"image: sle12_base.img\n"
"file format: qcow2\n"
"virtual size: 16G (17179869184 bytes)\n"
"disk size: 16G\n"
"cluster_size: 65536\n"
"Format specific information:\n"
"compat: 1.1\n"
"lazy refcounts: true"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2235
#, no-c-format
msgid "Understanding Image Overlay"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2298
#, no-c-format
msgid "Opening a &vmguest; Image"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2299
#, no-c-format
msgid ""
"To access the file system of an image, use the <package>guestfs-tools</"
"package> . If you do not have this tool installed on your system you can "
"mount an image with other Linux tools. Avoid accessing an untrusted or "
"unknown &vmguest;'s image system because this can lead to security issues "
"(for more information, read <link xlink:href=\"https://www.berrange.com/"
"posts/2013/02/20/a-reminder-why-you-should-never-mount-guest-disk-images-on-"
"the-host-os/\">D. Berrangé's post</link> )."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2309
#, no-c-format
msgid "Opening a Raw Image"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2311
#, no-c-format
msgid "Mounting a Raw Image"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2313
#, no-c-format
msgid ""
"To be able to mount the image, find a free loop device. The following "
"command displays the first unused loop device, <filename>/dev/loop1</"
"filename> in this example."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2318
#, no-c-format
msgid ""
"&prompt.root;losetup -f\n"
"/dev/loop1"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2322
#, no-c-format
msgid ""
"Associate an image ( <filename>SLE12.raw</filename> in this example) with "
"the loop device:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2326
#, no-c-format
msgid "&prompt.root;losetup /dev/loop1 SLE12.raw"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2329
#, no-c-format
msgid ""
"Check whether the image has successfully been associated with the loop "
"device by getting detailed information about the loop device:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2333
#, no-c-format
msgid ""
"&prompt.root;losetup -l\n"
"NAME       SIZELIMIT OFFSET AUTOCLEAR RO BACK-FILE\n"
"/dev/loop1         0      0         0  0    /var/lib/libvirt/images/SLE12.raw"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2338
#, no-c-format
msgid "Check the image's partitions with <command>kpartx</command> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2341
#, no-c-format
msgid ""
"&prompt.root;kpartx -a<co xml:id=\"co.kpartx.a\"/> -v<co xml:id=\"co.kpartx.v"
"\"/> /dev/loop1\n"
"add map loop1p1 (254:1): 0 29358080 linear /dev/loop1 2048"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2345
#, no-c-format
msgid "Add partition device mappings."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2350
#, no-c-format
msgid "Verbose mode."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2357
#, no-c-format
msgid ""
"Now mount the image partition(s) (to <filename>/mnt/sle12mount</filename> in "
"the following example):"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2361
#, no-c-format
msgid ""
"&prompt.root;mkdir /mnt/sle12mount\n"
"&prompt.root;mount /dev/mapper/loop1p1 /mnt/sle12mount"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2366
#, no-c-format
msgid "Raw image with LVM"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2367
#, no-c-format
msgid ""
"If your raw image contains an LVM volume group you should use LVM tools to "
"mount the partition. Refer to <xref linkend=\"sec.lvm.found\"/> ."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2375
#, no-c-format
msgid "Unmounting a Raw Image"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2380
#, no-c-format
msgid "&prompt.root;umount /mnt/sle12mount"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2383
#, no-c-format
msgid "Delete partition device mappings with <command>kpartx</command> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2386
#, no-c-format
msgid "&prompt.root;kpartx -d /dev/loop1"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2389
#, no-c-format
msgid "Detach the devices with <command>losetup</command>"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2392
#, no-c-format
msgid "&prompt.root;losetup -d /dev/loop1"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2398
#, no-c-format
msgid "Opening a qcow2 Image"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2400
#, no-c-format
msgid "Mounting a qcow2 Image"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2402
#, no-c-format
msgid ""
"First you need to load the <literal>nbd</literal> (network block devices) "
"module. The following example loads it with support for 16 block devices "
"( <option>max_part=16</option> ). Check with <command>dmesg</command> "
"whether the operation was successful:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2408
#, no-c-format
msgid ""
"&prompt.root;modprobe nbd max_part=16\n"
"&prompt.root;dmesg | grep nbd\n"
"[89155.142425] nbd: registered device at major 43"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2413
#, no-c-format
msgid ""
"Connect the &vmguest; image (for example <filename>SLE12.qcow2</filename> ) "
"to an NBD device ( <filename>/debv/nbd0</filename> in the following example) "
"with the <command>qemu-nbd</command> command. Make sure to use a free NBD "
"device:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2419
#, no-c-format
msgid ""
"&prompt.root;qemu-nbd -c<co xml:id=\"co.qemunbd.minusc\"/> /dev/nbd0<co xml:"
"id=\"co.qemunbd.device\"/> SLE12.qcow2<co xml:id=\"co.qemunbd.image\"/>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2422
#, no-c-format
msgid ""
"Connect <filename>SLE12.qcow2</filename> to the local NBD device <filename>/"
"dev/nbd0</filename>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2428
#, no-c-format
msgid "NBD device to use"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2433
#, no-c-format
msgid "&vmguest; image to use"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2439
#, no-c-format
msgid "Checking for a free NBD Device"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2440
#, no-c-format
msgid "To check whether an NBD device is free, run the following command:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2443
#, no-c-format
msgid ""
"&prompt.root;lsof /dev/nbd0\n"
"COMMAND    PID USER   FD   TYPE DEVICE SIZE/OFF  NODE NAME\n"
"qemu-nbd 15149 root   10u   BLK   43,0      0t0 47347 /dev/nbd0"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2446
#, no-c-format
msgid ""
"If the command produces an output like in the example above, the device is "
"busy (not free). This can also be confirmed by the presence of the "
"<filename>/sys/devices/virtual/block/nbd0/pid</filename> file."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2454
#, no-c-format
msgid ""
"Inform the operating system about partition table changes with "
"<command>partprobe</command> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2458
#, no-c-format
msgid ""
"&prompt.root;partprobe /dev/nbd0 -s\n"
"/dev/nbd0: msdos partitions 1 2\n"
"&prompt.root;dmesg | grep nbd0 | tail -1\n"
"[89699.082206]  nbd0: p1 p2"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2464
#, no-c-format
msgid ""
"In the example above, the <filename>SLE12.qcow2</filename> contains two "
"partitions: <filename>/dev/nbd0p1</filename> and <filename>/dev/nbd0p2</"
"filename> . Before mounting these partitions, use <command>vgscan</command> "
"to check whether they belong to an LVM volume:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2470
#, no-c-format
msgid ""
"&prompt.root;vgscan -v\n"
"    Wiping cache of LVM-capable devices\n"
"    Wiping internal VG cache\n"
"    Reading all physical volumes. This may take a while...\n"
"    Using volume group(s) on command line.\n"
"    No volume groups found."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2478
#, no-c-format
msgid ""
"If no LVM volume has been found, you can mount the partition with "
"<command>mount</command> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2482
#, no-c-format
msgid ""
"&prompt.root;mkdir /mnt/nbd0p2\n"
"# mount /dev/nbd0p1 /mnt/nbd0p2"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2484
#, no-c-format
msgid ""
"Refer to <xref linkend=\"sec.lvm.found\"/> for information on how to handle "
"LVM volumes."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2492
#, no-c-format
msgid "Unmounting a qcow2 Image"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2494
#, no-c-format
msgid "Unmount all mounted partitions of the image, for example:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2497
#, no-c-format
msgid "&prompt.root;umount /mnt/nbd0p2"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2500
#, no-c-format
msgid "Disconnect the image from the <filename>/dev/nbd0</filename> device."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2503
#, no-c-format
msgid "&prompt.root;qemu-nbd -d /dev/nbd0"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2509
#, no-c-format
msgid "Opening Images Containing LVM"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2512
#, no-c-format
msgid "Mounting Images Containing LVM"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2514
#, no-c-format
msgid ""
"To check images for LVM groups, use <command>vgscan -v</command> . If an "
"image contains LVM groups, the output of the command looks like the "
"following:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2519
#, no-c-format
msgid ""
"&prompt.root;vgscan -v\n"
"Wiping cache of LVM-capable devices\n"
"Wiping internal VG cache\n"
"Reading all physical volumes.  This may take a while...\n"
"Finding all volume groups\n"
"Finding volume group \"system\"\n"
"Found volume group \"system\" using metadata type lvm2"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2528
#, no-c-format
msgid ""
"The <literal>system</literal> LVM volume group has been found on the system. "
"You can get more information about this volume with <command>vgdisplay "
"<replaceable>VOLUMEGROUPNAME</replaceable></command> (in our case "
"<replaceable>VOLUMEGROUPNAME</replaceable> is <literal>system</literal> ). "
"You should activate this volume group to expose LVM partitions as devices so "
"the system can mount them. Use <command>vgchange</command> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2537
#, no-c-format
msgid ""
"&prompt.root;vgchange -ay -v\n"
"Finding all volume groups\n"
"Finding volume group \"system\"\n"
"Found volume group \"system\"\n"
"activation/volume_list configuration setting not defined: Checking only\n"
"host tags for system/home\n"
"Creating system-home\n"
"Loading system-home table (254:0)\n"
"Resuming system-home (254:0)\n"
"Found volume group \"system\"\n"
"activation/volume_list configuration setting not defined: Checking only\n"
"host tags for system/root\n"
"Creating system-root\n"
"Loading system-root table (254:1)\n"
"Resuming system-root (254:1)\n"
"Found volume group \"system\"\n"
"activation/volume_list configuration setting not defined: Checking only\n"
"host tags for system/swap\n"
"Creating system-swap\n"
"Loading system-swap table (254:2)\n"
"Resuming system-swap (254:2)\n"
"Activated 3 logical volumes in volume group system\n"
"    3 logical volume(s) in volume group \"system\" now active"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2562
#, no-c-format
msgid ""
"All partitions in the volume group will be listed in the <filename>/dev/"
"mapper</filename> directory. You can simply mount them now."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2567
#, no-c-format
msgid ""
"&prompt.root;ls /dev/mapper/system-*\n"
"/dev/mapper/system-home  /dev/mapper/system-root /dev/mapper/system-swap\n"
"\n"
"&prompt.root;mkdir /mnt/system-root\n"
"&prompt.root;mount  /dev/mapper/system-root /mnt/system-root\n"
"\n"
"&prompt.root;ls /mnt/system-root/\n"
"bin   dev  home  lib64       mnt  proc        root  sbin     srv  tmp  var\n"
"boot  etc  lib   lost+found  opt  read-write  run   selinux  sys  usr"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2579
#, no-c-format
msgid "Unmounting Images Containing LVM"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2581
#, no-c-format
msgid "Unmount all partitions (with <command>umount</command> )"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2584
#, no-c-format
msgid "&prompt.root;umount /mnt/system-root"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2587
#, no-c-format
msgid ""
"Deactivate the LVM volume group (with <command>vgchange -an "
"<replaceable>VOLUMEGROUPNAME</replaceable></command> )"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2591
#, no-c-format
msgid ""
"&prompt.root;vgchange -an -v system\n"
"Using volume group(s) on command line\n"
"Finding volume group \"system\"\n"
"Found volume group \"system\"\n"
"Removing system-home (254:0)\n"
"Found volume group \"system\"\n"
"Removing system-root (254:1)\n"
"Found volume group \"system\"\n"
"Removing system-swap (254:2)\n"
"Deactivated 3 logical volumes in volume group system\n"
"0 logical volume(s) in volume group \"system\" now active"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2604
#, no-c-format
msgid "Now you have two choices:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2609
#, no-c-format
msgid ""
"In case of a qcow2 image, proceed as described in <xref linkend=\"st.umount."
"qcow2\"/> ( <command>qemu-nbd -d /dev/nbd0</command> )."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2616
#, no-c-format
msgid ""
"In case of a raw image, proceeds as described in <xref linkend=\"st.umount."
"raw\"/> ( <command>kpartx -d /dev/loop1</command> ; <command>losetup -d /dev/"
"loop1</command> )."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2624
#, no-c-format
msgid "Check for a Successful Unmount"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2625
#, no-c-format
msgid ""
"You should double-check that umounting succeeded by using a system command "
"like <command>losetup</command> , <command>qemu-nbd</command> , "
"<command>mount</command> or <command>vgscan</command> . If this is not the "
"case you may have trouble using the &vmguest; because its system image is "
"used in different places."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2639
#, no-c-format
msgid "File System Sharing"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2640
#, no-c-format
msgid ""
"You can access a host directory in the &vmguest; using the <tag class="
"\"element\">filesystem</tag> element. In the following example we will share "
"the <filename>/data/shared</filename> directory and mount it in the "
"&vmguest;. Note that the <tag class=\"attribute\">accessmode</tag> parameter "
"only works with <tag class=\"attribute\">type='mount'</tag> for the &qemu;/"
"&kvm; drive (most other values for <tag class=\"attribute\">type</tag> are "
"exclusively used for the LXC driver)."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2649
#, no-c-format
msgid ""
"&lt;filesystem type='mount'<co xml:id=\"co.fs.mount\"/> "
"accessmode='mapped'<co xml:id=\"co.fs.mode\"/>&gt;\n"
"   &lt;source dir='/data/shared'<co xml:id=\"co.fs.sourcedir\"/>&gt;\n"
"   &lt;target dir='shared'<co xml:id=\"co.fs.targetdir\"/>/&gt;\n"
"&lt;/filesystem&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2655
#, no-c-format
msgid "A host directory to mount &vmguest;."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2660
#, no-c-format
msgid ""
"Access mode (the security mode) set to <literal>mapped</literal> will give "
"access with the permissions of the hypervisor. Use <literal>passthrough</"
"literal> to access this share with the permissions of the user inside the "
"&vmguest;."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2668
#, no-c-format
msgid "Path to share with the &vmguest;."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2673
#, no-c-format
msgid "Name or label of the path for the mount command."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2678
#, no-c-format
msgid ""
"To mount the <literal>shared</literal> directory on the &vmguest;, use the "
"following commands: Under the &vmguest; now you need to mount the "
"<literal>target dir='shared'</literal> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2684
#, no-c-format
msgid ""
"&prompt.root;mkdir /opt/mnt_shared\n"
"&prompt.root;mount shared -t 9p /opt/mnt_shared -o trans=virtio"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2686
#, no-c-format
msgid ""
"See <link xlink:href=\"https://libvirt.org/formatdomain."
"html#elementsFilesystems\">&libvirt; File System </link> and <link xlink:"
"href=\"http://wiki.qemu.org/Documentation/9psetup\">&qemu; 9psetup</link> "
"for more information."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2697
#, no-c-format
msgid "&vmguest; Configuration"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2700
#, no-c-format
msgid "Virtio Driver"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2701
#, no-c-format
msgid ""
"To increase &vmguest; performance it is recommended to use paravirtualized "
"drivers within the &vmguest;s. The virtualization standard for such drivers "
"for &kvm; are the <literal>virtio</literal> drivers, which are designed for "
"running in a virtual environment. &xen; uses similar paravirtualized device "
"drivers (like <link xlink:href=\"https://www.suse.com/products/vmdriverpack/"
"\">VMDP</link> in a Windows* guest). For a better understanding of this "
"topic, refer to the <link xlink:href=\"https://www.suse.com/documentation/"
"sles-12/book_virt/data/sec_vt_io.html\">I/O Virtualization</link> section in "
"the official Virtualization Guide."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2715
#, no-c-format
msgid "<literal>virtio blk</literal>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2716
#, no-c-format
msgid ""
"<literal>virtio_blk</literal> is the virtio block device for disk. To use "
"the <literal>virtio blk</literal> driver for a block device, specify the "
"<tag class=\"attribute\">bus='virtio'</tag> attribute in the <tag class="
"\"element\">disk</tag> definition:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2722
#, no-c-format
msgid ""
"&lt;disk type='....' device='disk'&gt;\n"
"    ....\n"
"    &lt;target dev='vda' bus='virtio'/&gt;\n"
"&lt;/disk&gt;"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2728
#, no-c-format
msgid "Disk Device Names"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2729
#, no-c-format
msgid ""
"<literal>virtio</literal> disk devices are named <literal>/dev/vd[a-z][1-9]</"
"literal> . If you migrate a Linux guest from a non-virtio disk you need to "
"adjust the <literal>root=</literal> parameter in the GRUB configuration, and "
"regenerate the <filename>initrd</filename> file. Otherwise the system cannot "
"boot. On &vmguest;s with other operating systems, the boot loader may need "
"to be adjusted or reinstalled accordingly, too."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2741
#, no-c-format
msgid ""
"Using <literal>virtio</literal> Disks with <command>qemu-system-ARCH</"
"command>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2745
#, no-c-format
msgid ""
"When running <command>qemu-system-ARCH</command> , use the <option>-drive</"
"option> option to add a disk to the &vmguest;. See the <link xlink:href="
"\"https://www.suse.com/documentation/sles-12/book_virt/data/"
"cha_qemu_guest_inst_qemu-kvm.html\">Basic Installation with qemu-system-"
"ARCH</link> section in the official Virtualization guide for an example. The "
"<option>-hd[abcd]</option> option will not work for virtio disks."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2758
#, no-c-format
msgid "virtio net"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2759
#, no-c-format
msgid ""
"<literal>virtio_net</literal> is the virtio network device. The kernel "
"modules should be loaded automatically in the guest at boot time. You need "
"to start the service to make the network available."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2764
#, no-c-format
msgid ""
"&lt;interface type='network'&gt;\n"
"    ...\n"
"    &lt;model type='virtio' /&gt;\n"
"&lt;/interface&gt;"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2770
#, no-c-format
msgid "virtio balloon"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2771
#, no-c-format
msgid ""
"The virtio balloon is used for host memory over-commits for guests. For "
"Linux guests, the balloon driver runs in the guest kernel, whereas for "
"Windows guests, the balloon driver is in the VMDP package. "
"<literal>virtio_balloon</literal> is a PV driver to give or take memory from "
"a &vmguest;."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2780
#, no-c-format
msgid ""
"<emphasis>Inflate balloon</emphasis> : Return memory from guest to host "
"kernel (for &kvm;) or to hypervisor (for &xen;)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2786
#, no-c-format
msgid ""
"<emphasis>Deflate balloon</emphasis> : Guest will have more available memory"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2792
#, no-c-format
msgid ""
"It is controlled by the <literal>currentMemory</literal> and "
"<literal>memory</literal> options."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2796
#, no-c-format
msgid ""
"&lt;memory unit='KiB'&gt;16777216&lt;/memory&gt;\n"
"    &lt;currentMemory unit='KiB'&gt;1048576&lt;/currentMemory&gt;\n"
"    [...]\n"
"    &lt;devices&gt;\n"
"        &lt;memballoon model='virtio'/&gt;\n"
"    &lt;/devices&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2802
#, no-c-format
msgid "You can also use <command>virsh</command> to change it:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2805
#, no-c-format
msgid ""
"&prompt.user;virsh setmem <replaceable>DOMAIN_ID</replaceable> "
"<replaceable>MEMORY in KB</replaceable>"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2808
#, no-c-format
msgid "Checking virtio Presence"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2809
#, no-c-format
msgid "You can check the virtio block PCI with:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2812
#, no-c-format
msgid ""
"&prompt.user;find /sys/devices/ -name virtio*\n"
"/sys/devices/pci0000:00/0000:00:06.0/virtio0\n"
"/sys/devices/pci0000:00/0000:00:07.0/virtio1\n"
"/sys/devices/pci0000:00/0000:00:08.0/virtio2"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2816
#, no-c-format
msgid "To find the block device associated with <filename>vdX</filename> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2819
#, no-c-format
msgid ""
"&prompt.user;find /sys/devices/ -name virtio* -print  -exec ls {}/block "
"2&gt;/dev/null \\;\n"
"/sys/devices/pci0000:00/0000:00:06.0/virtio0\n"
"/sys/devices/pci0000:00/0000:00:07.0/virtio1\n"
"/sys/devices/pci0000:00/0000:00:08.0/virtio2\n"
"vda"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2824
#, no-c-format
msgid "To get more information on the virtio block:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2827
#, no-c-format
msgid ""
"&prompt.user;udevadm info -p /sys/devices/pci0000:00/0000:00:08.0/virtio2\n"
"P: /devices/pci0000:00/0000:00:08.0/virtio2\n"
"E: DEVPATH=/devices/pci0000:00/0000:00:08.0/virtio2\n"
"E: DRIVER=virtio_blk\n"
"E: MODALIAS=virtio:d00000002v00001AF4\n"
"E: SUBSYSTEM=virtio"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2833
#, no-c-format
msgid "To check all virtio drivers being used:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2836
#, no-c-format
msgid ""
"&prompt.user;find /sys/devices/ -name virtio* -print  -exec ls -l {}/driver "
"2&gt;/dev/null \\;\n"
"/sys/devices/pci0000:00/0000:00:06.0/virtio0\n"
"lrwxrwxrwx 1 root root 0 Jun 17 15:48 /sys/devices/pci0000:00/0000:00:06.0/"
"virtio0/driver -&gt; ../../../../bus/virtio/drivers/virtio_console\n"
"/sys/devices/pci0000:00/0000:00:07.0/virtio1\n"
"lrwxrwxrwx 1 root root 0 Jun 17 15:47 /sys/devices/pci0000:00/0000:00:07.0/"
"virtio1/driver -&gt; ../../../../bus/virtio/drivers/virtio_balloon\n"
"/sys/devices/pci0000:00/0000:00:08.0/virtio2\n"
"lrwxrwxrwx 1 root root 0 Jun 17 14:35 /sys/devices/pci0000:00/0000:00:08.0/"
"virtio2/driver -&gt; ../../../../bus/virtio/drivers/virtio_blk"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2850
#, no-c-format
msgid "Find Device Driver Options"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2851
#, no-c-format
msgid ""
"Virtio devices and other drivers have various options. To list all of them, "
"use the <option>help</option> parameter of the <command>qemu-system-ARCH</"
"command> command."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2856
#, no-c-format
msgid ""
"&prompt.user;qemu-system-x86_64 -device virtio-net,help\n"
"virtio-net-pci.ioeventfd=on/off\n"
"virtio-net-pci.vectors=uint32\n"
"virtio-net-pci.indirect_desc=on/off\n"
"virtio-net-pci.event_idx=on/off\n"
"virtio-net-pci.any_layout=on/off\n"
"....."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2867
#, no-c-format
msgid "Cirrus Video Driver"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2868
#, no-c-format
msgid ""
"To get 16-bit color, high compatibility and better performance it is "
"recommended to use the <literal>cirrus</literal> video driver."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2873
#, no-c-format
msgid "&libvirt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2874
#, no-c-format
msgid ""
"&libvirt; ignores the <literal>vram</literal> value because video size has "
"been hardcoded in &qemu;."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2879
#, no-c-format
msgid ""
"&lt;video&gt;\n"
"   &lt;model type='cirrus' vram='9216' heads='1'/&gt;\n"
"&lt;/video&gt;"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2885
#, no-c-format
msgid "Better Entropy"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2886
#, no-c-format
msgid ""
"Virtio RNG (random number generator) is a paravirtualized device that is "
"exposed as a hardware RNG device to the guest. On the host side, it can be "
"wired up to one of several sources of entropy (including a real hardware RNG "
"device and the host's <filename>/dev/random</filename> ) if hardware support "
"does not exist. The Linux kernel contains the guest driver for the device "
"from version 2.6.26 and higher."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2894
#, no-c-format
msgid ""
"The system entropy is collected from various non-deterministic hardware "
"events and is mainly used by cryptographic applications. The virtual random "
"number generator device (paravirtualized device) allows the host to pass "
"through entropy to &vmguest; operating systems. This results in a better "
"entropy in the &vmguest;."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2901
#, no-c-format
msgid ""
"To use Virtio RNG, add an <literal>RNG</literal> device in <command>virt-"
"manager</command> or directly in the &vmguest;'s XML configuration:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2906
#, no-c-format
msgid ""
"&lt;devices&gt;\n"
"   &lt;rng model='virtio'&gt;\n"
"       &lt;backend model='random'&gt;/dev/random&lt;/backend&gt;\n"
"   &lt;/rng&gt;\n"
"&lt;/devices&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2911
#, no-c-format
msgid "The host now should used <filename>/dev/random</filename> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2914
#, no-c-format
msgid ""
"&prompt.user;lsof /dev/random\n"
"qemu-syst 4926 qemu    6r   CHR    1,8      0t0 8199 /dev/random"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2916
#, no-c-format
msgid "On the &vmguest;, the source of entropy can be checked with:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2919
#, no-c-format
msgid "&prompt.user;cat /sys/devices/virtual/misc/hw_random/rng_available"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2920
#, no-c-format
msgid "The current device used for entropy can be checked with:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2923
#, no-c-format
msgid ""
"&prompt.user;cat /sys/devices/virtual/misc/hw_random/rng_current\n"
"virtio_rng.0"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2925
#, no-c-format
msgid ""
"You should install the <package>rng-tools</package> package on the "
"&vmguest;, enable the service, and start it. Under SLE12 do the following:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:2930
#, no-c-format
msgid ""
"&prompt.root;zypper in rng-tools\n"
"&prompt.root;systemctl enable rng-tools\n"
"&prompt.root;systemctl start rng-tools"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:2936
#, no-c-format
msgid "Disable Unused Tools and Devices"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2937
#, no-c-format
msgid ""
"Per host, use one virtualization technology only. For example, do not use "
"&kvm; and Containers on the same computer. Otherwise, you may find yourself "
"with a reduced amount of available resources, increased security risk and a "
"longer software update queue. Even when the amount of resources allocated to "
"each of the technologies is configured carefully, the host may suffer from "
"reduced overall availability and degraded performance."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2946
#, no-c-format
msgid ""
"Minimize the amount of software and services available on hosts. Most "
"default installations of operating systems are not optimized for VM usage. "
"Install what you really need and remove all other components in the "
"&vmguest;."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2952
#, no-c-format
msgid "Windows* Guest:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2957
#, no-c-format
msgid "Disable the screen saver"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2962
#, no-c-format
msgid "Remove all graphical effects"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2967
#, no-c-format
msgid "Disable indexing of hard disks if not necessary"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2978
#, no-c-format
msgid "Check and remove all unneeded devices"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2983
#, no-c-format
msgid ""
"Disable system update if not needed, or configure it to avoid any delay "
"while rebooting or shutting down the host"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2989
#, no-c-format
msgid "Check the Firewall rules"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2994
#, no-c-format
msgid "Schedule backups and anti-virus updates appropriately"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:2999
#, no-c-format
msgid ""
"Install the <link xlink:href=\"https://www.suse.com/products/vmdriverpack/"
"\">VMDP</link> paravirtualized driver for best performance"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3006
#, no-c-format
msgid ""
"Check the operating system recommendations, such as on the <link xlink:href="
"\"http://windows.microsoft.com/en-us/windows/optimize-windows-better-"
"performance#optimize-windows-better-performance=windows-7\">Microsoft "
"Windows* 7 better performance</link> Web page."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3013
#, no-c-format
msgid "Linux Guest:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3018
#, no-c-format
msgid "Remove or do not start the X Window System if not necessary"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3023
#, no-c-format
msgid "Check the list of started services and disable the ones you do not need"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3029
#, no-c-format
msgid ""
"Check the OS recommendations for kernel parameters that enable better "
"performance"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3035
#, no-c-format
msgid "Only install software that you really need"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3040
#, no-c-format
msgid ""
"Optimize the scheduling of predictable tasks (system updates, hard disk "
"checks, etc.)"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3049
#, no-c-format
msgid "Updating the Guest Machine Type"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3050
#, no-c-format
msgid ""
"&qemu; machine types define details of the architecture that are "
"particularly relevant for migration and session management. As changes or "
"improvements to &qemu; are made, new machine types are added. Old machine "
"types are still supported for compatibility reasons, but to take advantage "
"of improvements, we recommend to always migrate to the latest machine type "
"when upgrading."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3058
#, no-c-format
msgid ""
"Changing the guest's machine type for a Linux guest will mostly be "
"transparent. For Windows* guests, we recommend to take a snapshot or backup "
"of the guest&mdash;in case Windows* has issues with the changes it detects "
"and subsequently the user decides to revert to the original machine type the "
"guest was created with."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3066
#, no-c-format
msgid "Changing the machine type"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3067
#, no-c-format
msgid ""
"Refer to the Virtualization guide section <link xlink:href=\"https://www."
"suse.com/documentation/sles-12/singlehtml/book_virt/book_virt.html#sec."
"libvirt.config.mahcinetype.virsh\">Change Machine Type</link> for "
"documentation."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3076
#, no-c-format
msgid "&vmguest;-Specific Configurations and Settings"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3079
#, no-c-format
msgid "ACPI Testing"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3080
#, no-c-format
msgid ""
"The ability to change a &vmguest;'s state heavily depends on the operating "
"system. It is very important to test this feature before any use of your "
"&vmguest;s in production. For example, most Linux operating systems disable "
"this capability by default, so this requires you to enable this operation "
"(mostly through &pk;)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3087
#, no-c-format
msgid ""
"ACPI must be enabled in the guest for a graceful shutdown to work. To check "
"if ACPI is enabled, run:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3091
#, no-c-format
msgid ""
"&prompt.user;virsh dumpxml <replaceable>VMNAME</replaceable> | grep acpi"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3092
#, no-c-format
msgid ""
"If nothing is printed, ACPI is not enabled for your machine. Use "
"<command>virsh edit</command> to add the following XML under &lt;domain&gt;:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3097
#, no-c-format
msgid ""
"&lt;features&gt;\n"
"   &lt;acpi/&gt;\n"
"&lt;/features&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3100
#, no-c-format
msgid ""
"If ACPI was enabled during a Windows Server&thrdmrk; guest installation, it "
"is not sufficient to turn it on in the &vmguest; configuration only. For "
"more information, see <link xlink:href=\"https://support.microsoft.com/en-us/"
"kb/309283\"/> . <remark>FIXME: URL is for XP and Server 2003. Is there "
"something newer? - sknorr, 2017-06-07</remark>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3110
#, no-c-format
msgid ""
"Regardless of the &vmguest;'s configuration, a graceful shutdown is always "
"possible from within the guest operating system."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3117
#, no-c-format
msgid "Keyboard Layout"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3118
#, no-c-format
msgid ""
"Though it is possible to specify the keyboard layout from a <command>qemu-"
"system-ARCH</command> command, it is recommended to configure it in the "
"&libvirt; XML file. To change the keyboard layout while connecting to a "
"remote &vmguest; using vnc, you should edit the &vmguest; XML configuration "
"file. For example, to add an <literal>en-us</literal> keymap, add in the "
"<literal>&lt;devices&gt;</literal> section:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3127
#, no-c-format
msgid "&lt;graphics type='vnc' port='-1' autoport='yes' keymap='en-us'/&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3128
#, no-c-format
msgid ""
"Check the <literal>vncdisplay</literal> configuration and connect to your "
"&vmguest;:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3132
#, no-c-format
msgid "&prompt.user;virsh vncdisplay sles12 127.0.0.1:0"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3136
#, no-c-format
msgid "Spice default listen URL"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3137
#, no-c-format
msgid ""
"If no network interface other than <literal>lo</literal> is assigned an IPv4 "
"address on the host, the default address on which the spice server listens "
"will not work. An error like the following one will occur:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3142
#, no-c-format
msgid ""
"&prompt.user;virsh start sles12\n"
"error: Failed to start domain sles12\n"
"error: internal error: process exited while connecting to monitor: "
"((null):26929): Spice-Warning **: reds.c:2330:reds_init_socket: "
"getaddrinfo(127.0.0.1,5900): Address family for hostname not supported\n"
"2015-08-12T11:21:14.221634Z qemu-system-x86_64: failed to initialize spice "
"server"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3146
#, no-c-format
msgid ""
"To fix this, you can change the default <literal>spice_listen</literal> "
"value in <filename>/etc/libvirt/qemu.conf</filename> using the local IPv6 "
"address <systemitem class=\"ipaddress\">::1</systemitem> . The spice server "
"listening address can also be changed on a per &vmguest; basis, use "
"<command>virsh edit</command> to add the listen XML attribute to the "
"<literal>graphics type='spice'</literal> element:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3154
#, no-c-format
msgid "&lt;graphics type='spice' listen='::1' autoport='yes'/&gt;&gt;"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3158
#, no-c-format
msgid "XML to &qemu; command line"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3159
#, no-c-format
msgid ""
"Sometimes it could be useful to get the &qemu; command line to launch the "
"&vmguest; from the XML file."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3163
#, no-c-format
msgid ""
"&prompt.user;virsh domxml-to-native<co xml:id=\"co.domxml.native\"/> qemu-"
"argv<co xml:id=\"co.domxml.argv\"/> SLE12.xml<co xml:id=\"co.domxml.file\"/>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3166
#, no-c-format
msgid ""
"Convert the XML file in domain XML format to the native guest configuration"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3172
#, no-c-format
msgid "For the &qemu;/&kvm; hypervisor, the format argument needs be qemu-argv"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3177
#, no-c-format
msgid "Domain XML file to use"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3182
#, no-c-format
msgid ""
"&prompt.user;&sudo; virsh domxml-to-native qemu-argv /etc/libvirt/qemu/SLE12."
"xml\n"
"LC_ALL=C PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin "
"\\\n"
"   QEMU_AUDIO_DRV=none /usr/bin/qemu-system-x86_64 -name SLE12 -machine \\\n"
"   pc-i440fx-2.3,accel=kvm,usb=off -cpu SandyBridge -m 4048 -realtime \\\n"
"   mlock=off -smp 4,sockets=4,cores=1,threads=1 -uuid "
"8616d00f-5f05-4244-97cc-86aeaed8aea7 \\\n"
"   -no-user-config -nodefaults -chardev socket,id=charmonitor,path=/var/lib/"
"libvirt/qemu/SLE12.monitor,server,nowait \\\n"
"   -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc,"
"driftfix=slew \\\n"
"   -global kvm-pit.lost_tick_policy=discard -no-hpet \\\n"
"   -no-shutdown -global PIIX4_PM.disable_s3=1 -global PIIX4_PM.disable_s4=1 "
"\\\n"
"   -boot strict=on -device ich9-usb-ehci1,id=usb,bus=pci.0,addr=0x4.0x7 \\\n"
"   -device ich9-usb-uhci1,masterbus=usb.0,firstport=0,bus=pci.0,"
"multifunction=on,addr=0x4 \\\n"
"   -device ich9-usb-uhci2,masterbus=usb.0,firstport=2,bus=pci.0,addr=0x4.0x1 "
"\\\n"
"   -device ich9-usb-uhci3,masterbus=usb.0,firstport=4,bus=pci.0,addr=0x4.0x2 "
"\\\n"
"   -drive file=/var/lib/libvirt/images/SLE12.qcow2,if=none,id=drive-virtio-"
"disk0,format=qcow2,cache=none \\\n"
"   -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x6,drive=drive-virtio-"
"disk0,id=virtio-disk0,bootindex=2 \\\n"
"   -drive if=none,id=drive-ide0-0-1,readonly=on,format=raw  \\\n"
"   -device ide-cd,bus=ide.0,unit=1,drive=drive-ide0-0-1,id=ide0-0-1 -netdev "
"tap,id=hostnet0  \\\n"
"   -device virtio-net-pci,netdev=hostnet0,id=net0,mac=52:54:00:28:04:a9,"
"bus=pci.0,addr=0x3,bootindex=1 \\\n"
"   -chardev pty,id=charserial0 -device isa-serial,chardev=charserial0,"
"id=serial0 \\\n"
"   -vnc 127.0.0.1:0 -device cirrus-vga,id=video0,bus=pci.0,addr=0x2 \\\n"
"   -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5 -msg "
"timestamp=on"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3206
#, no-c-format
msgid "Change Kernel Parameters at Boot Time"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3208
#, no-c-format
msgid "&sle; 11"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3209
#, no-c-format
msgid ""
"To change the value for &slea; 11 products at boot time, you need to modify "
"your <filename>/boot/grub/menu.lst</filename> file by adding the "
"<option>OPTION=parameter</option> . Then reboot your system."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3216
#, no-c-format
msgid "&sle; 12"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3217
#, no-c-format
msgid ""
"To change the value for &slea; 12 products at boot time, you need to modify "
"your <filename>/etc/default/grub</filename> file. Find the variable starting "
"with <option>GRUB_CMDLINE_LINUX_DEFAULT</option> and add at the end "
"<option>OPTION=parameter</option> (or change it with the correct value if it "
"is already available)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3224
#, no-c-format
msgid "Now you need to regenerate your <literal>grub2</literal> configuration:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3227
#, no-c-format
msgid "# grub2-mkconfig -o /boot/grub2/grub.cfg"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3228
#, no-c-format
msgid "Then reboot your system"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3235
#, no-c-format
msgid "Add a Device to an XML Configuration"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3236
#, no-c-format
msgid ""
"To create a new &vmguest; based on an XML file, you can specify the &qemu; "
"command line using the special tag <literal>qemu:commandline</literal> . For "
"example, to add a virtio-balloon-pci, add this block at the end of the XML "
"configuration file (before the &lt;/domain&gt; tag):"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3243
#, no-c-format
msgid ""
"&lt;qemu:commandline&gt;\n"
"    &lt;qemu:arg value='-device'/&gt;\n"
"    &lt;qemu:arg value='virtio-balloon-pci,id=balloon0'/&gt;\n"
"&lt;/qemu:commandline&gt;"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3558
#, no-c-format
msgid "Hypervisors Compared to Containers"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3566
#, no-c-format
msgid "Features"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3571
#, no-c-format
msgid "Hypervisors"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3576
#, no-c-format
msgid "Containers"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3585
#, no-c-format
msgid "Technologies"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3590
#, no-c-format
msgid "Emulation of a physical computing environment"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3595
#, no-c-format
msgid "Use kernel host"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3602
#, no-c-format
msgid "System layer level"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3607
#, no-c-format
msgid "Managed by a virtualization layer (Hypervisor)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3612
#, no-c-format
msgid "Rely on kernel namespaces and cgroups"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3619
#, no-c-format
msgid "Level (layer)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3624
#, no-c-format
msgid "Hardware level"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3629
#, no-c-format
msgid "Software level"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3636
#, no-c-format
msgid "Virtualization mode available"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3641
#, no-c-format
msgid "FV or PV"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3646
#, no-c-format
msgid "None, only user space"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3653
#, no-c-format
msgid "Security"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3658
#, no-c-format
msgid "Strong"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3664
#, no-c-format
msgid "Security is very low"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3672
#, no-c-format
msgid "Confinement"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3677
#, no-c-format
msgid "Full isolation"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3683
#, no-c-format
msgid "Host kernel (OS must be compatible with kernel version)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3691
#, no-c-format
msgid "Operating system"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3696
#, no-c-format
msgid "Any operating system"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3701
#, no-c-format
msgid "Only Linux (must be \"kernel\" compatible)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3708
#, no-c-format
msgid "Type of system"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3713
#, no-c-format
msgid "Full OS needed"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3718
#, no-c-format
msgid "Scope is an instance of Linux"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3725
#, no-c-format
msgid "Boot time"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3730
#, no-c-format
msgid "Slow to start (OS delay)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3735
#, no-c-format
msgid "Really quick start"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3742
#, no-c-format
msgid "Overhead"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3747
#, no-c-format
msgid "High"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3752
#, no-c-format
msgid "Very low"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3759
#, no-c-format
msgid "Efficiency"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3764
#, no-c-format
msgid "Depends on OS"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3769
#, no-c-format
msgid "Very efficient"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3776
#, no-c-format
msgid "Sharing with host"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3782
#, no-c-format
msgid "Complex because of isolation"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3788
#, no-c-format
msgid "Sharing is easy (host sees everything; container sees its own objects)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3796
#, no-c-format
msgid "Migration"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3801
#, no-c-format
msgid "Supports migration (live mode)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3807
#, no-c-format
msgid "Not possible"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3818
#, no-c-format
msgid "Getting the Best of Both Worlds"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3819
#, no-c-format
msgid ""
"Even if the above table seems to indicate that running a single application "
"in a highly secure way is not possible, <command>virt-sandbox</command> will "
"allow running a single application in a &kvm; guest, starting with &sls; 12 "
"SP1. <command>virt-sandbox</command> bootstraps any command within a Linux "
"kernel with a minimal root file system."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3826
#, no-c-format
msgid ""
"The guest root file system can either be the root file system mounted read-"
"only or a disk image. The following steps will show how to set up a sandbox "
"with qcow2 disk image as root file system."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3833
#, no-c-format
msgid "Create the disk image using <command>qemu-img</command> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3836
#, no-c-format
msgid "&prompt.root;qemu-img create -f qcow2 rootfs.qcow2 6G"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3839
#, no-c-format
msgid "Format the disk image:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3842
#, no-c-format
msgid ""
"&prompt.root;modprobe nbd<co xml:id=\"co.vsmkfs.modprobe\"/>\n"
"&prompt.root;/usr/bin/qemu-nbd --format qcow2 -n -c /dev/nbd0 $PWD/test-base."
"qcow2<co xml:id=\"co.vsmkfs.qemu-nbd\"/>\n"
"&prompt.root;mkfs.ext3 /dev/nbd0<co xml:id=\"co.vsmkfs.do\"/>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3847
#, no-c-format
msgid ""
"Make sure the nbd module is loaded: it is not loaded by default and will "
"only be used to format the qcow image."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3853
#, no-c-format
msgid ""
"Create an NBD device for the qcow2 image. This device will then behave like "
"any other block device. The example uses <replaceable>/dev/nbd0</"
"replaceable> but any other free NBD device will work."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3861
#, no-c-format
msgid ""
"Format the disk image directly. Note that no partition table has been "
"created: <command>virt-sandbox</command> considers the image to be a "
"partition, not a disk."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3866
#, no-c-format
msgid ""
"The partition formats that can be used are limited: the Linux kernel "
"bootstrapping the sandbox needs to have the corresponding features built in. "
"The Ext4 module is also available at the sandbox start-up time."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3876
#, no-c-format
msgid "Now populate the newly formatted image:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3879
#, no-c-format
msgid ""
"&prompt.root;guestmount -a base.qcow2 -m /dev/sda:/ /mnt<co xml:id=\"co.vsfs."
"mount\"/>\n"
"\n"
"&prompt.root;zypper --root /mnt ar cd:///?devices=/dev/dvd SLES12_DVD\n"
"&prompt.root;zypper --root /mnt in -t pattern Minimal<co xml:id=\"co.vsfs."
"install\"/>\n"
"\n"
"&prompt.root;guestunmount /mnt<co xml:id=\"co.vsfs.unmount\"/>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3888
#, no-c-format
msgid "Mount the qcow2 image using the <command>guestfs</command> tools."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3893
#, no-c-format
msgid ""
"Use Zypper with the <literal>--root</literal> parameter to add a &sls; "
"repository and install the <literal>Minimal</literal> pattern in the disk "
"image. Any additional package or configuration change should be performed in "
"this step."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3900
#, no-c-format
msgid "Using backing chains"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3901
#, no-c-format
msgid ""
"To share the root file system between several sandboxes, create qcow2 images "
"with a common disk image as backing chain as described in <xref linkend="
"\"sec.vt.best.img.overlay\"/> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3909
#, no-c-format
msgid "Unmount the qcow2 image."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3916
#, no-c-format
msgid ""
"Run the sandbox, using <command>virt-sandbox</command> . This command has "
"many interesting options, read its man page to discover them all. The "
"command can be run as &rootuser; or as an unprivileged user."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:3921
#, no-c-format
msgid ""
"&prompt.root;virt-sandbox -n <replaceable>NAME</replaceable> \\\n"
"     -m host-image:/=$PWD/rootfs.qcow2 \\ <co xml:id=\"co.vs.rootfs\"/>\n"
"     -m host-bind:/srv/www=/guests/www \\ <co xml:id=\"co.vs.bind\"/>\n"
"     -m ram:/tmp=100MiB \\\n"
"     -m ram:/run=100MiB \\ <co xml:id=\"co.vs.tmpfs\"/>\n"
"     -N source=default,address=192.168.122.12/24 \\ <co xml:id=\"co.vs.net\"/"
">\n"
"     -- \\\n"
"     <replaceable>/bin/sh</replaceable>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3931
#, no-c-format
msgid ""
"Mount the created disk image as the root file system. Note that without any "
"image being mounted as <filename>/</filename> , the host root file system is "
"read-only mounted as the guest one."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3936
#, no-c-format
msgid ""
"The host-image mount is not reserved for the root file system, it can be "
"used to mount any disk image anywhere in the guest."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3942
#, no-c-format
msgid ""
"The host-bind mount is pretty convenient for sharing files and directories "
"between the host and the guest. In this example the host directory "
"<filename>/guests/www</filename> is mounted as <filename>/srv/www</filename> "
"in the sandbox."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3950
#, no-c-format
msgid ""
"The RAM mounts are defining <literal>tmpfs</literal> mounts in the sandbox."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3956
#, no-c-format
msgid ""
"The network uses a network defined in libvirt. When running as an "
"unprivileged user, the source can be omitted, and the &kvm; user networking "
"feature will be used. Using this option requires the <package>dhcp-client</"
"package> and <package>iproute2</package> packages, which are part of the "
"&sls; <literal>Minimal</literal> pattern."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3975
#, no-c-format
msgid ""
"&xen;: Converting a Paravirtual (PV) Guest to a Fully Virtual (FV/HVM) Guest"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3976
#, no-c-format
msgid ""
"This chapter explains how to convert a &xen; paravirtual machine into a "
"&xen; fully virtualized machine."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:3981
#, no-c-format
msgid "Guest Side"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3982
#, no-c-format
msgid ""
"In order to start the guest in FV mode, you have to run the following steps "
"inside the guest."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3986
#, no-c-format
msgid ""
"\tPrior to converting the guest, apply all pending patches and reboot the "
"guest."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3991
#, no-c-format
msgid ""
"\tFV machines use the <literal>-default</literal> kernel. If this kernel is "
"not\talready installed, install the <literal>kernel-default</literal> "
"package (while running in PV mode)."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:3998
#, no-c-format
msgid ""
"\tPV machines typically use disk names such as <literal>vda*</literal> . "
"These names\tmust be changed to the FV <literal>hd*</literal> syntax. This "
"change must be done\tin the following files:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4005
#, no-c-format
msgid "<filename>/etc/fstab</filename>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4007
#, no-c-format
msgid "<filename>/boot/grub/menu.lst</filename> (SLES11 only)"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4008
#, no-c-format
msgid "<filename>/boot/grub*/device.map</filename>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4009
#, no-c-format
msgid "<filename>/etc/sysconfig/bootloader</filename>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4011
#, no-c-format
msgid "<filename>/etc/default/grub</filename> (SLES12 only)"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:4015
#, no-c-format
msgid "Prefer UUIDs"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4016
#, no-c-format
msgid ""
"\t You should use UUIDs or logical volumes within your <filename>/etc/fstab</"
"filename> . Using UUID simplifies using attached network storage, "
"multipathing, and virtualization. To find the UUID of your disk use the "
"command <command>blkid</command> .\t"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4025
#, no-c-format
msgid ""
"\tTo avoid any error regenerating the initrd with the needed modules you can "
"create a symlink\tfrom <filename>/dev/hda2</filename> to <filename>/dev/"
"xvda2</filename> etc. by using the <command>ln</command> :"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4029
#, no-c-format
msgid ""
"ln -sf /dev/xvda2 /dev/hda2\n"
"ln -sf /dev/xvda1 /dev/hda1\n"
"....."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4034
#, no-c-format
msgid ""
"\tPV and FV machines use different disk and network driver modules. These FV "
"modules\tmust be added to the initrd manually. The expected modules are\t "
"<literal>xen-vbd</literal> (for disk) and <literal>xen-vnif</literal> (for "
"network).\tThese are the only PV drivers for a fully virtualized &vmguest;. "
"All other modules,\tsuch as <literal>ata_piix</literal> , "
"<literal>ata_generic</literal> and\t <literal>libata</literal> , should be "
"added automatically."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:4043
#, no-c-format
msgid "Adding Modules to the initrd"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4046
#, no-c-format
msgid ""
"\t On &slsa; 11, you can add modules to the\t <literal>INITRD_MODULES</"
"literal> line in the\t <filename>/etc/sysconfig/kernel</filename> file. For "
"example:\t"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4051
#, no-c-format
msgid "INITRD_MODULES=\"xen-vbd xen-vnif\""
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4052
#, no-c-format
msgid ""
"\t Run <command>mkinitrd</command> to build a new initrd containing the\t "
"modules.\t"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4058
#, no-c-format
msgid ""
"\t On &slsa; 12, open or create <filename>/etc/dracut.conf.d/01-dist.conf</"
"filename> \t and add the modules with <literal>force_drivers</literal> by "
"adding a\t line as in the example below:\t"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4063
#, no-c-format
msgid "force_drivers+=\"xen-vbd xen-vnif\""
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4064
#, no-c-format
msgid ""
"\t Run <command>dracut -f --kver [KERNEL_VERSION]-default</command> to build "
"a\t new initrd (for the -default version of the kernel) which contains the "
"required\t modules.\t"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4069
#, no-c-format
msgid ""
"Use the <command>uname -r</command> command to get the current version used "
"on your system."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:4069
#, no-c-format
msgid "Find your Kernel version"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4075
#, no-c-format
msgid ""
"\tBefore shutting down the guest, set the default boot parameter to the\t "
"<literal>-default</literal> kernel using <command>yast bootloader</command> ."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4081
#, no-c-format
msgid ""
"Under &productname; 11, if you have an X server running on your guest, you "
"need toadjust the <filename>/etc/X11/xorg.conf</filename> file to adjust the "
"X driver. Search for <literal>fbdev</literal> and change to <literal>cirrus</"
"literal> ."
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4085
#, no-c-format
msgid ""
"Section \"Device\"\n"
"          Driver       \"cirrus\"\n"
"          ......\n"
"          EndSection"
msgstr ""

#. Tag: title
#: vt_best_practices.xml:4089
#, no-c-format
msgid "&productname; 12 and Xorg"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4089
#, no-c-format
msgid ""
"Under &productname; 12, Xorg will automatically adjust the driver needed to "
"be able to get a working X server."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4092
#, no-c-format
msgid "\tShut down the guest."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:4098
#, no-c-format
msgid "Host Side"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4099
#, no-c-format
msgid "The following steps explain the action you have to do on the host."
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4103
#, no-c-format
msgid ""
"\tTo start the guest in FV mode, the configuration of the VM must be modified"
"\tto match an FV configuration. Editing the configuration of the VM can "
"easily be done\tusing <command>virsh edit [DOMAIN]</command> . The following "
"changes are recommended:"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4110
#, no-c-format
msgid ""
"\t Make sure the machine, the type and the <literal>loader</literal> entries "
"in the OS section are changed from <literal>xenpv</literal> to\t "
"<literal>xenfv</literal> . The updated OS section should look similar to:\t"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4114
#, no-c-format
msgid ""
"&lt;os&gt;\n"
"          &lt;type arch='x86_64' machine='xenfv'&gt;hvm&lt;/type&gt;\n"
"          &lt;loader&gt;/usr/lib/xen/boot/hvmloader&lt;/loader&gt;\n"
"          &lt;boot dev='hd'/&gt;\n"
"&lt;/os&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4121
#, no-c-format
msgid "In the OS section remove anything which is specific to PV guest:"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4124
#, no-c-format
msgid "&lt;bootloader&gt;pygrub&lt;/bootloader&gt;"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4127
#, no-c-format
msgid "&lt;kernel&gt;/usr/lib/grub2/x86_64-xen/grub.xen&lt;/kernel&gt;"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4130
#, no-c-format
msgid "&lt;cmdline&gt;xen-fbfront.video=4,1024,768&lt;/cmdline&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4135
#, no-c-format
msgid "In the devices section, add the qemu emulator as:\t"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4138
#, no-c-format
msgid "&lt;emulator&gt;/usr/lib/xen/bin/qemu-system-i386&lt;/emulator&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4141
#, no-c-format
msgid ""
"\t Update the disk configuration so the target device and bus use the FV "
"syntax.\t This requires replacing the <literal>xen</literal> disk bus with "
"<literal>ide</literal> ,\t and the <literal>vda</literal> target device with "
"<literal>hda</literal> . The changes\t should look similar to:\t"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4147
#, no-c-format
msgid "&lt;target dev='hda' bus='ide'/&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4150
#, no-c-format
msgid ""
"Change the bus for the mouse and keyboard from <literal>xen</literal> to "
"<literal>ps2</literal> . Also add a new USB tablet device:\t"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4154
#, no-c-format
msgid ""
"&lt;input type='mouse' bus='ps2'/&gt;\n"
"\t  &lt;input type='keyboard' bus='ps2'/&gt;\n"
"&lt;input type='tablet' bus='usb'/&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4159
#, no-c-format
msgid ""
"\t Change the console target type from <literal>xen</literal> to "
"<literal>serial</literal> :\t"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4162
#, no-c-format
msgid ""
"&lt;console type='pty'&gt;\n"
"\t  &lt;target type='serial' port='0'/&gt;\n"
"&lt;/console&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4167
#, no-c-format
msgid ""
"\t Change the video configuration from <literal>xen</literal> to "
"<literal>cirrus</literal> ,\t with 8M of VRAM:\t"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4171
#, no-c-format
msgid ""
"&lt;video&gt;\n"
"\t  &lt;model type='cirrus' vram='8192' heads='1' primary='yes'/&gt;\n"
"&lt;/video&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4176
#, no-c-format
msgid ""
"If desired, add <literal>acpi</literal> and <literal>apic</literal> to the "
"features of the VM:\t"
msgstr ""

#. Tag: screen
#: vt_best_practices.xml:4179
#, no-c-format
msgid ""
"&lt;features&gt;\n"
"\t  &lt;acpi/&gt;\n"
"\t  &lt;apic/&gt;\n"
"&lt;/features&gt;"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4187
#, no-c-format
msgid ""
"\tStart the guest (using <command>virsh</command> or <command>virt-manager</"
"command> ). If the guest\tis running kernel-default (as verified through "
"<command>uname -a</command> ), the machine is running\tin Fully Virtual mode."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:4195
#, no-c-format
msgid "guestfs-tools"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4196
#, no-c-format
msgid ""
"To script this process, or work on disk images directly, you can use the "
"<link xlink:href=\"https://www.suse.com/documentation/sles-12/book_virt/data/"
"sec_guestfs_tools.html\">guestfs-tools</link> suite. Numerous tools exist "
"there to help modify disk images."
msgstr ""

#. Tag: title
#: vt_best_practices.xml:4206
#, no-c-format
msgid "External References"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4212
#, no-c-format
msgid ""
"<link xlink:href=\"https://kernel.org/doc/ols/2009/ols2009-pages-19-28.pdf"
"\">Increasing memory density using KSM</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4218
#, no-c-format
msgid ""
"<link xlink:href=\"http://www.linux-kvm.org/page/KSM\">linux-kvm.org KSM</"
"link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4224
#, no-c-format
msgid ""
"<link xlink:href=\"https://www.kernel.org/doc/Documentation/vm/ksm.txt"
"\">KSM's kernel documentation</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4230
#, no-c-format
msgid ""
"<link xlink:href=\"https://lwn.net/Articles/329123/\">ksm - dynamic page "
"sharing driver for linux v4</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4236
#, no-c-format
msgid ""
"<link xlink:href=\"http://www.espenbraastad.no/post/memory-ballooning/"
"\">Memory Ballooning</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4242
#, no-c-format
msgid ""
"<link xlink:href=\"http://wiki.libvirt.org/page/Virtio\">libvirt virtio</"
"link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4248
#, no-c-format
msgid ""
"<link xlink:href=\"https://www.kernel.org/doc/Documentation/block/cfq-"
"iosched.txt\">CFQ's kernel documentation</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4254
#, no-c-format
msgid ""
"<link xlink:href=\"https://www.kernel.org/doc/Documentation/sysctl/kernel.txt"
"\">Documentation for sysctl</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4261
#, no-c-format
msgid ""
"<link xlink:href=\"https://lwn.net/Articles/525459/\">LWN Random Number</"
"link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4267
#, no-c-format
msgid ""
"<link xlink:href=\"http://wiki.mikejung.biz/KVM_/_Xen\">&kvm; / &xen; "
"tweaks</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4273
#, no-c-format
msgid ""
"<link xlink:href=\"http://events.linuxfoundation.org/sites/events/files/"
"slides/CloudOpen2013_Khoa_Huynh_v3.pdf\">Dr. Khoa Huynh, IBM Linux "
"Technology Center</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4280
#, no-c-format
msgid ""
"<link xlink:href=\"https://git.kernel.org/cgit/linux/kernel/git/torvalds/"
"linux.git/plain/Documentation/admin-guide/kernel-parameters.txt\">Kernel "
"Parameters</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4287
#, no-c-format
msgid ""
"<link xlink:href=\"http://lwn.net/Articles/374424/\">Huge pages "
"Administration (Mel Gorman)</link>"
msgstr ""

#. Tag: para
#: vt_best_practices.xml:4293
#, no-c-format
msgid ""
"<link xlink:href=\"https://www.kernel.org/doc/Documentation/vm/hugetlbpage."
"txt\">kernel hugetlbpage</link>"
msgstr ""
