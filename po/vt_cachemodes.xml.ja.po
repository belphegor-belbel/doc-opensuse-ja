# translation of vt_cachemodes.xml.po to Japanese
# Japanese translations for PACKAGE package
# PACKAGE パッケージに対する英訳.
#
# Automatically generated, 2018.
# Yasuhiko Kamata <belphegor@belbel.or.jp>, 2019.
msgid ""
msgstr ""
"Project-Id-Version: vt_cachemodes.xml\n"
"Report-Msgid-Bugs-To: https://github.com/belphegor-belbel/doc-opensuse-ja\n"
"POT-Creation-Date: 2018-11-20 05:03+0000\n"
"PO-Revision-Date: 2019-04-19 12:33+0900\n"
"Last-Translator: Yasuhiko Kamata <belphegor@belbel.or.jp>\n"
"Language-Team: Japanese <opensuse-ja@opensuse.org>\n"
"Language: ja\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: KBabel 1.11.4\n"

#. Tag: title
#: vt_cachemodes.xml:9
#, no-c-format
msgid "Disk Cache Modes"
msgstr "ディスクのキャッシュモード"

#. Tag: title
#: vt_cachemodes.xml:18
#, no-c-format
msgid "Disk Interface Cache Modes"
msgstr "ディスクインターフェイスのキャッシュモード"

#. Tag: para
#: vt_cachemodes.xml:20
#, no-c-format
msgid "Hypervisors allow for various storage caching strategies to be specified when configuring a &vmguest;. Each guest disk interface can have one of the following cache modes specified: <emphasis>writethrough</emphasis> , <emphasis>writeback</emphasis> , <emphasis>none</emphasis> , <emphasis>directsync</emphasis> , or <emphasis>unsafe</emphasis> . If no cache mode is specified, an appropriate default cache mode is used. These cache modes influence how host-based storage is accessed, as follows:"
msgstr "ハイパーバイザでは、 &vmguest; を設定するにあたって、さまざまなストレージキャッシュ方式を指定することができます。それぞれのゲスト側のディスクインターフェイスに対して、 <emphasis>writethrough</emphasis> , <emphasis>writeback</emphasis> , <emphasis>none</emphasis> , <emphasis>directsync</emphasis> , <emphasis>unsafe</emphasis> のいずれかを指定することができます。何もキャッシュモードを指定しない場合、適切な既定のキャッシュモードを使用します。これらのキャッシュモードはホストベースのストレージのアクセス方法を指定するもので、具体的には下記のような効果を提供します:"

#. Tag: para
#: vt_cachemodes.xml:34
#, no-c-format
msgid "Read/write data may be cached in the host page cache."
msgstr "読み込んだデータや書き込むべきデータを、ホスト側のページキャッシュに一時保存します。"

#. Tag: para
#: vt_cachemodes.xml:39
#, no-c-format
msgid "The guest's storage controller is informed whether a write cache is present, allowing for the use of a flush command."
msgstr "ゲスト側のストレージコントローラに対して、書き込みキャッシュが存在しているかどうかを通知し、フラッシュ (キャッシュ掃き出し) コマンドを使用できるようにします。"

#. Tag: para
#: vt_cachemodes.xml:45
#, no-c-format
msgid "Synchronous write mode may be used, in which write requests are reported complete only when committed to the storage device."
msgstr "ストレージデバイスに実際に書き込みが完了するまで書き込み要求を待機させる、同期書き込みモードを使用することができるようになります。"

#. Tag: para
#: vt_cachemodes.xml:51
#, no-c-format
msgid "Flush commands (generated by the guest storage controller) may be ignored for performance reasons."
msgstr "ゲスト側のストレージコントローラから生成されたフラッシュコマンドを、性能要件に応じて無視することもできます。"

#. Tag: para
#: vt_cachemodes.xml:58
#, no-c-format
msgid "If a disorderly disconnection between the guest and its storage occurs, the cache mode in use will affect whether data loss occurs. The cache mode can also affect disk performance significantly. Additionally, some cache modes are incompatible with live migration, depending on several factors. There are no simple rules about what combination of cache mode, disk image format, image placement, or storage sub-system is best. The user should plan each guest's configuration carefully and experiment with various configurations to determine the optimal performance."
msgstr "ゲストとストレージコントローラの間の通信が不正に切断された場合、キャッシュモードによってはデータの損失が発生することになります。また、キャッシュモードはディスクの性能に顕著に影響します。これに加えて、キャッシュモードによっては、いくつかの要素に依存してライブマイグレーション機能と非互換なものもあります。キャッシュモードとディスクイメージの形式、イメージの配置方法やストレージサブシステムに対して、最適な選択がどれになるのかは単純には判断できません。お使いのユーザ側でゲスト側の設定を注意深く確認し、どれが最適な選択であるのかを試しながら決定を下してください。"

#. Tag: title
#: vt_cachemodes.xml:70
#, no-c-format
msgid "Description of Cache Modes"
msgstr "キャッシュモードの説明"

#. Tag: term
#: vt_cachemodes.xml:74
#, no-c-format
msgid "cache mode unspecified"
msgstr "キャッシュモードを指定しない場合"

#. Tag: para
#: vt_cachemodes.xml:76
#, no-c-format
msgid "In older &qemu; versions, not specifying a cache mode meant that <emphasis>writethrough</emphasis> would be used as the default. With modern versions&mdash;as shipped with &productname;&mdash;the various guest storage interfaces have been fixed to handle <emphasis>writeback</emphasis> or <emphasis>writethrough</emphasis> semantics more correctly. This allows for the default caching mode to be switched to <emphasis>writeback</emphasis> . The guest driver for each of <literal>ide</literal> , <literal>scsi</literal> , and <literal>virtio</literal> have within their power to disable the write back cache, causing the caching mode used to revert to <emphasis>writethrough</emphasis> . The typical guest's storage drivers will maintain the default caching mode as <emphasis>writeback</emphasis> , however."
msgstr "古いバージョンの &qemu; でキャッシュモードを指定しない場合は、既定値として <emphasis>writethrough</emphasis> が指定されているものとみなしていました。現行の &productname; に同梱されている新しいバージョンの場合、さまざまなゲスト側のストレージインターフェイスで、 <emphasis>writeback</emphasis> や <emphasis>writethrough</emphasis> の方式をより正しく処理するように修正されていることから、既定のキャッシュモードが <emphasis>writeback</emphasis> になっています。ただし、 <literal>ide</literal> , <literal>scsi</literal> , <literal>virtio</literal> の各ゲスト側ドライバには writeback でのキャッシュを無効化する権限が与えられているため、キャッシュモードは <emphasis>writethrough</emphasis> に戻されるようになっています。それ以外のゲスト側ストレージドライバは、前述のとおり <emphasis>writeback</emphasis> を使用します。"

#. Tag: term
#: vt_cachemodes.xml:94
#, no-c-format
msgid "writethrough"
msgstr "writethrough"

#. Tag: para
#: vt_cachemodes.xml:96
#, no-c-format
msgid "This mode causes the hypervisor to interact with the disk image file or block device with <literal>O_DSYNC</literal> semantics. Writes are reported as completed only when the data has been committed to the storage device. The host page cache is used in what can be termed a writethrough caching mode. The guest's virtual storage adapter is informed that there is no writeback cache, so the guest would not need to send down flush commands to manage data integrity. The storage behaves as if there is a writethrough cache."
msgstr "このモードはハイパーバイザに対して、 <literal>O_DSYNC</literal> を指定してディスクイメージやブロックデバイスを扱うように指定します。書き込みは実際のストレージデバイスに書き込みが完了するまで待機させられるようになります。つまり、ホスト側のページキャッシュは、ライトスルーキャッシュとして使用されることになります。ゲスト側の仮想ストレージアダプタにはライトバックキャッシュが存在しないものとして通知しますので、ゲスト側からはデータの一貫性維持に必要なフラッシュコマンドを送信する必要がなくなります。これにより、ストレージはライトスルーキャッシュが存在する動作になります。"

#. Tag: para
#: vt_cachemodes.xml:111
#, no-c-format
msgid "This mode causes the hypervisor to interact with the disk image file or block device with neither <literal>O_DSYNC</literal> nor <literal>O_DIRECT</literal> semantics. The host page cache is used and writes are reported to the guest as completed when they are placed in the host page cache. The normal page cache management will handle commitment to the storage device. Additionally, the guest's virtual storage adapter is informed of the writeback cache, so the guest would be expected to send down flush commands as needed to manage data integrity. Analogous to a raid controller with RAM cache."
msgstr "このモードはハイパーバイザに対して、 <literal>O_DSYNC</literal> も <literal>O_DIRECT</literal> も指定せずにディスクイメージやブロックデバイスを扱うように指定します。ホスト側のページキャッシュも使用し、書き込み処理はホスト側のページキャッシュ内に保存した段階で完了となります。通常のページキャッシュ管理で実際のストレージデバイスへの書き込みを行なうことになります。これに加えて、ゲスト側の仮想ストレージアダプタに対してライトバックキャッシュが存在しているものとして通知しますので、ゲスト側からはデータの一貫性維持のため、フラッシュコマンドを送信する必要があることになります。これにより、メモリキャッシュ付きの RAID コントローラを使用しているような動作になります。"

#. Tag: term
#: vt_cachemodes.xml:126
#, no-c-format
msgid "none"
msgstr "none"

#. Tag: para
#: vt_cachemodes.xml:128
#, no-c-format
msgid "This mode causes the hypervisor to interact with the disk image file or block device with <literal>O_DIRECT</literal> semantics. The host page cache is bypassed and I/O happens directly between the hypervisor user space buffers and the storage device. Because the actual storage device may report a write as completed when placed in its write queue only, the guest's virtual storage adapter is informed that there is a writeback cache. The guest would be expected to send down flush commands as needed to manage data integrity. Performance-wise, it is equivalent to direct access to your host's disk."
msgstr "このモードはハイパーバイザに対して、 <literal>O_DIRECT</literal> を指定してディスクイメージやブロックデバイスを扱うように指定します。ホスト側のページキャッシュは迂回され、 I/O 処理はハイパーバイザ側のユーザスペースバッファとストレージデバイスとの間で直接行なわれることになります。ただし実際のストレージデバイスでは、書き込みキュー内に配置できた段階で書き込み完了とされることがありますので、ゲスト側の仮想ストレージアダプタに対しては、ライトバックキャッシュが存在するものとして通知します。そのため、ゲスト側からはデータの一貫性維持のため、フラッシュコマンドを送信する必要があることになります。性能という観点では、ホスト側のディスクに対して直接アクセスするのと等価になります。"

#. Tag: para
#: vt_cachemodes.xml:146
#, no-c-format
msgid "This mode is similar to the <literal>writeback</literal> mode discussed above. The key aspect of this <quote>unsafe</quote> mode, is that all flush commands from the guests are ignored. Using this mode implies that the user has accepted the trade-off of performance over risk of data loss in case of a host failure. Useful, for example, during guest installation, but not for production workloads."
msgstr "このモードは上述の <literal>writeback</literal> モードに似ています。ただし <quote>unsafe</quote> モードでは、ゲスト側からのフラッシュコマンドが全て無視されます。このモードの使用にあたっては、ホスト側で何らかの障害が発生した際、データ損失の可能性があるリスクと引き替えに、性能を向上させている点に注意する必要があります。そのため、ゲスト側のインストール作業時などにのみ有用な仕組みで、本番環境の負荷に対して適用すべきではありません。"

#. Tag: term
#: vt_cachemodes.xml:157
#, no-c-format
msgid "directsync"
msgstr "directsync"

#. Tag: para
#: vt_cachemodes.xml:159
#, no-c-format
msgid "This mode causes the hypervisor to interact with the disk image file or block device with both <literal>O_DSYNC</literal> and <literal>O_DIRECT</literal> semantics. This means, writes are reported as completed only when the data has been committed to the storage device, and when it is also desirable to bypass the host page cache. Like <xref linkend=\"cache-writethrough\"/> , it is helpful to guests that do not send flushes when needed. It was the last cache mode added, completing the possible combinations of caching and direct access semantics."
msgstr "このモードはハイパーバイザに対して、 <literal>O_DSYNC</literal> と <literal>O_DIRECT</literal> の両方を指定してディスクイメージやブロックデバイスを扱うように指定します。これにより、書き込みは実際のストレージデバイスに書き込みが完了するまで待機させられるようになるほか、ホスト側のページキャッシュも迂回することになります。 <xref linkend=\"cache-writethrough\"/> と同様に、ゲスト側からはデータの一貫性維持に必要なフラッシュコマンドを送信する必要がなくなります。これが最後に追加されたキャッシュモードであり、これによって全てのキャッシュおよび直接アクセス方式を網羅していることになります。"

#. Tag: title
#: vt_cachemodes.xml:176
#, no-c-format
msgid "Data Integrity Implications of Cache Modes"
msgstr "キャッシュモードごとのデータの一貫性維持に関する説明"

#. Tag: term
#: vt_cachemodes.xml:180
#, no-c-format
msgid "writethrough, none, directsync"
msgstr "writethrough, none, directsync"

#. Tag: para
#: vt_cachemodes.xml:182
#, no-c-format
msgid "These are the safest modes, and considered equally safe, given that the guest operating system is <quote>modern and well behaved</quote> , which means that it uses flushes as needed. If you have a suspect guest, use <emphasis>writethough</emphasis> , or <emphasis>directsync</emphasis> . Note that some file systems are not compatible with <literal>none</literal> or <literal>directsync</literal> , as they do not support O_DIRECT, which these cache modes rely on."
msgstr "これらはゲスト側のオペレーティングシステムが <quote>新しく、かつ正しく動作する</quote>  (つまり、必要に応じてフラッシュコマンドを使用する) ものである限り、最も安全なモードであり、いずれも同等に安全であると考えられます。なお、ゲスト側の動作が不審である場合は、 <emphasis>writethough</emphasis> もしくは <emphasis>directsync</emphasis> をお使いになることをお勧めします。ただし、ファイルシステムによっては O_DIRECT に対応しておらず、このフラグを使用する <literal>none</literal> や <literal>directsync</literal> を使用できないものがあることに注意してください。"

#. Tag: term
#: vt_cachemodes.xml:195
#, no-c-format
msgid "writeback"
msgstr "writeback"

#. Tag: para
#: vt_cachemodes.xml:197
#, no-c-format
msgid "This mode informs the guest of the presence of a write cache, and relies on the guest to send flush commands as needed to maintain data integrity within its disk image. This is a common storage design which is completely accounted for within modern file systems. This mode exposes the guest to data loss in the unlikely case of a host failure, because there is a window of time between the time a write is reported as completed, and that write being committed to the storage device."
msgstr "このモードはゲスト側に対して書き込みキャッシュの存在を通知する仕組みであるため、ディスクイメージ内のデータの一貫性を維持するには、ゲスト側からフラッシュコマンドを送信してもらう必要があります。これは新しいファイルシステムで完全に考慮されている一般的なストレージ設計出もあります。このモードは、ゲスト側に対して書き込み完了を通知するタイミングと、実際にストレージデバイスに書き込むタイミングに時間差が存在することから、ホスト側の障害時にはデータ損失が発生しうる仕組みでもあります。"

#. Tag: term
#: vt_cachemodes.xml:210
#, no-c-format
msgid "unsafe"
msgstr "unsafe"

#. Tag: para
#: vt_cachemodes.xml:212
#, no-c-format
msgid "This mode is similar to <emphasis>writeback</emphasis> caching except for the following: the guest flush commands are ignored, nullifying the data integrity control of these flush commands, and resulting in a higher risk of data loss because of host failure. The name <quote>unsafe</quote> should serve as a warning that there is a much higher potential for data loss because of a host failure than with the other modes. As the guest terminates, the cached data is flushed at that time."
msgstr "このモードは <emphasis>writeback</emphasis> とほぼ同様ですが、ゲスト側からのフラッシュコマンドが無視されるという点に違いがあります。これにより、フラッシュコマンドの目的であったデータの一貫性維持が無効化されることになりますので、ホスト側で障害が発生した場合、データ損失のリスクがより高くなります。 <quote>unsafe</quote> の名前にもあるとおり、潜在的な危険性が存在することに注意してください。"

#. Tag: title
#: vt_cachemodes.xml:228
#, no-c-format
msgid "Performance Implications of Cache Modes"
msgstr "キャッシュモードごとの性能に関する説明"

#. Tag: para
#: vt_cachemodes.xml:230
#, no-c-format
msgid "The choice to make full use of the page cache, or to write through it, or to bypass it altogether can have dramatic performance implications. Other factors that influence disk performance include the capabilities of the actual storage system, what disk image format is used, the potential size of the page cache and the IO scheduler used. Additionally, not flushing the write cache increases performance, but with risk, as noted above. As a general rule, high-end systems typically perform best with the cache mode <literal>none</literal> , because of the reduced data copying that occurs. The potential benefit of having multiple guests share the common host page cache, the ratio of reads to writes, and the use of AIO mode <literal>native</literal> (see below) should also be considered."
msgstr "ページキャッシュを最大限に活用し、キャッシュ経由で必要なデータを書き込むのか、それともキャッシュを迂回するのかの選択は、性能面には大きな影響があります。もちろん実際のストレージシステムのディスク性能や使用しているディスクイメージ形式、そしてページキャッシュの潜在的なサイズや使用している IO スケジューラについても、性能への影響があります。これに加えて、書き込みキャッシュをフラッシュしないまま使用することで、上述のとおりリスクが高くなるものの、性能を向上させる効果もあります。一般的にはハイエンドのシステムの場合、発生するデータコピーの量を減らすため、キャッシュモードを <literal>none</literal> に設定しておくのがお勧めです。また、ホスト側のページキャッシュを複数のゲストで共有する設定や読み込みと書き込みの比率、そして AIO モード <literal>native</literal> の使用 (後述) も考慮しておくとよいでしょう。"

#. Tag: title
#: vt_cachemodes.xml:245
#, no-c-format
msgid "Effect of Cache Modes on Live Migration"
msgstr "ライブマイグレーション時のキャッシュモードの効果"

#. Tag: para
#: vt_cachemodes.xml:247
#, no-c-format
msgid "The caching of storage data and metadata restricts the configurations that support live migration. Currently, only <literal>raw</literal> , and <literal>qcow2</literal> image formats can be used for live migration. If a clustered file system is used, all cache modes support live migration. Otherwise the only cache mode that supports live migration on read/write shared storage is <literal>none</literal> ."
msgstr "ストレージのデータやメタデータのキャッシュは、ライブマイグレーションに対応する際には障害となりうるものです。現時点では、ライブマイグレーションを行なうには <literal>raw</literal> , <literal>qcow2</literal> のいずれかのイメージ形式を使用する必要があります。クラスタ型のファイルシステムを使用している場合は、全てのキャッシュモードでライブマイグレーションを行なうことができます。それ以外の場合、読み書き可能な共有ストレージで使用できるキャッシュモードは <literal>none</literal> のみとなります。"

#. Tag: para
#: vt_cachemodes.xml:256
#, no-c-format
msgid "The &libvirt; management layer includes checks for migration compatibility based on several factors. If the guest storage is hosted on a clustered file system, is read-only or is marked shareable, then the cache mode is ignored when determining if migration can be allowed. Otherwise &libvirt; will not allow migration unless the cache mode is set to <literal>none</literal> . However, this restriction can be overridden with the <quote>unsafe</quote> option to the migration APIs, which is also supported by <command>virsh</command> , as for example in"
msgstr "&libvirt; の管理レイヤには、いくつかの要素をベースにした移行の互換性チェック機能が含まれています。ゲスト側のストレージがクラスタ型のファイルシステム内に存在している場合、それが読み込み専用か共有可能としてマークされていれば、移行が許可されるかどうかの判断ではキャッシュモードを考慮しなくなります。それ以外の場合、 &libvirt; ではキャッシュモードが <literal>none</literal> に設定されていない限り、移行を拒否するようになっています。ただし、移行時に <quote>unsafe</quote> オプションを指定することで、この制限を無視することができます。 <command>virsh</command> を利用して移行する場合は、下記のようにします:"

#. Tag: screen
#: vt_cachemodes.xml:268
#, no-c-format
msgid "&prompt.user;virsh migrate --live --unsafe"
msgstr "&prompt.user;virsh migrate --live --unsafe"

#. Tag: para
#: vt_cachemodes.xml:271
#, no-c-format
msgid "The cache mode <literal>none</literal> is required for the AIO mode setting <literal>native</literal> . If another cache mode is used, then the AIO mode will silently be switched back to the default <literal>threads</literal> . The guest flush within the host is implemented using <systemitem>fdatasync()</systemitem> ."
msgstr "AIO モード設定が <literal>native</literal> の場合、キャッシュモードを <literal>none</literal> に設定する必要があります。それ以外のキャッシュモードを使用している場合、 AIO モードは自動的に既定値である <literal>threads</literal> に切り戻されます。ホスト内でのゲストのフラッシュ処理は、 <systemitem>fdatasync()</systemitem> で行なわれるようになります。"

